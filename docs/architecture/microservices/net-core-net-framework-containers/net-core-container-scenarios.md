---
title: 針對 Docker 容器選擇 .NET 5 的時機
description: 容器化 .NET 應用程式的 .NET 微服務架構 |選擇 .NET for Docker 容器的時機
ms.date: 01/13/2021
ms.openlocfilehash: 61909c91d795582af499456c65ae0d7b4f2911e2
ms.sourcegitcommit: a4cecb7389f02c27e412b743f9189bd2a6dea4d6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/14/2021
ms.locfileid: "98189274"
---
# <a name="when-to-choose-net-for-docker-containers"></a><span data-ttu-id="a1f95-103">選擇 .NET for Docker 容器的時機</span><span class="sxs-lookup"><span data-stu-id="a1f95-103">When to choose .NET for Docker containers</span></span>

<span data-ttu-id="a1f95-104">.NET 5 的模組化和輕量本質讓容器更完美。</span><span class="sxs-lookup"><span data-stu-id="a1f95-104">The modularity and lightweight nature of .NET 5 makes it perfect for containers.</span></span> <span data-ttu-id="a1f95-105">當您部署和啟動容器時，其映射的映射遠比使用 .NET Framework 的 .NET 5 還小。</span><span class="sxs-lookup"><span data-stu-id="a1f95-105">When you deploy and start a container, its image is far smaller with .NET 5 than with .NET Framework.</span></span> <span data-ttu-id="a1f95-106">相反地，若要使用容器的 .NET Framework，您必須以 Windows Server Core 映射作為映射的基礎，這比您用於 .NET 5 的 Windows Nano Server 或 Linux 映射高出許多。</span><span class="sxs-lookup"><span data-stu-id="a1f95-106">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET 5.</span></span>

<span data-ttu-id="a1f95-107">此外，.NET 5 可跨平臺使用，因此您可以使用 Linux 或 Windows 容器映射來部署伺服器應用程式。</span><span class="sxs-lookup"><span data-stu-id="a1f95-107">Additionally, .NET 5 is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="a1f95-108">不過，如果您使用傳統的.NET Framework，則只能部署以 Windows Server Core 為基礎的映像。</span><span class="sxs-lookup"><span data-stu-id="a1f95-108">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="a1f95-109">以下是為何選擇 .NET 5 的詳細說明。</span><span class="sxs-lookup"><span data-stu-id="a1f95-109">The following is a more detailed explanation of why to choose .NET 5.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="a1f95-110">跨平台開發和部署</span><span class="sxs-lookup"><span data-stu-id="a1f95-110">Developing and deploying cross platform</span></span>

<span data-ttu-id="a1f95-111">很明顯地，如果您的目標是要讓應用程式 (web 應用程式或服務) 可在 Docker (Linux 和 Windows) 所支援的多個平臺上執行，則正確的選擇是 .NET 5，因為 .NET Framework 只支援 Windows。</span><span class="sxs-lookup"><span data-stu-id="a1f95-111">Clearly, if your goal is to have an application (web app or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET 5, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="a1f95-112">.NET 5 也支援 macOS 作為開發平臺。</span><span class="sxs-lookup"><span data-stu-id="a1f95-112">.NET 5 also supports macOS as a development platform.</span></span> <span data-ttu-id="a1f95-113">不過，當您在 Docker 主機部署容器時，就目前來說，該主機必須以 Linux 或 Windows 為基礎。</span><span class="sxs-lookup"><span data-stu-id="a1f95-113">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="a1f95-114">例如在開發環境中，您可以使用在 Mac 上執行的 Linux VM。</span><span class="sxs-lookup"><span data-stu-id="a1f95-114">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="a1f95-115">[Visual Studio](https://www.visualstudio.com/vs/) 提供適用於 Windows 的整合式開發環境 (IDE)，並支援 Docker 開發。</span><span class="sxs-lookup"><span data-stu-id="a1f95-115">[Visual Studio](https://www.visualstudio.com/vs/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span>

<span data-ttu-id="a1f95-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) 是在 macOS 上執行的 IDE (即 Xamarin Studio 的演進)，並支援 Docker 型應用程式開發。</span><span class="sxs-lookup"><span data-stu-id="a1f95-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, that runs on macOS and supports Docker-based application development.</span></span> <span data-ttu-id="a1f95-117">這項工具應該是在 Mac 電腦中工作的開發人員慣用的選擇，也想要使用強大的 IDE。</span><span class="sxs-lookup"><span data-stu-id="a1f95-117">This tool should be the preferred choice for developers working in Mac machines who also want to use a powerful IDE.</span></span>

<span data-ttu-id="a1f95-118">您也可以在 macOS、Linux 和 Windows 上使用 [Visual Studio Code](https://code.visualstudio.com/) 。</span><span class="sxs-lookup"><span data-stu-id="a1f95-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="a1f95-119">Visual Studio Code 完全支援 .NET 5，包括 IntelliSense 和調試。</span><span class="sxs-lookup"><span data-stu-id="a1f95-119">Visual Studio Code fully supports .NET 5, including IntelliSense and debugging.</span></span> <span data-ttu-id="a1f95-120">因為 VS Code 是輕量的編輯器，所以您可以使用它來開發電腦上的容器化應用程式，並搭配 Docker CLI 和 [.NET cli](../../../core/tools/index.md)。</span><span class="sxs-lookup"><span data-stu-id="a1f95-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the machine in conjunction with the Docker CLI and the [.NET CLI](../../../core/tools/index.md).</span></span> <span data-ttu-id="a1f95-121">您也可以使用大部分協力廠商編輯器（例如 Sublime、Emacs、vi 及開放原始碼 OmniSharp 專案）將目標設為 .NET 5，這也會提供 IntelliSense 支援。</span><span class="sxs-lookup"><span data-stu-id="a1f95-121">You can also target .NET 5 with most third-party editors like Sublime, Emacs, vi, and the open-source OmniSharp project, which also provides IntelliSense support.</span></span>

<span data-ttu-id="a1f95-122">除了 Ide 和編輯器，您也可以針對所有支援的平臺使用 [.NET CLI](../../../core/tools/index.md) 。</span><span class="sxs-lookup"><span data-stu-id="a1f95-122">In addition to the IDEs and editors, you can use the [.NET CLI](../../../core/tools/index.md) for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="a1f95-123">在新 (「綠地區」) 專案使用容器</span><span class="sxs-lookup"><span data-stu-id="a1f95-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="a1f95-124">儘管容器也可以用來將 Web 應用程式或服務裝入容器中 (遵循任何架構模式)，但通常會與微服務架構搭配使用。</span><span class="sxs-lookup"><span data-stu-id="a1f95-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="a1f95-125">您可以在 Windows 容器上使用 .NET Framework，但 .NET 5 的模組化和輕量本質可讓容器和微服務架構成為最理想的。</span><span class="sxs-lookup"><span data-stu-id="a1f95-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET 5 makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="a1f95-126">建立和部署容器時，使用 .NET Core 時的映像大小，會遠小於使用 .NET Framework 時的大小。</span><span class="sxs-lookup"><span data-stu-id="a1f95-126">When you create and deploy a container, its image is far smaller with .NET Core than with .NET Framework.</span></span>

## <a name="create-and-deploy-microservices-on-containers"></a><span data-ttu-id="a1f95-127">在容器上建立和部署微服務</span><span class="sxs-lookup"><span data-stu-id="a1f95-127">Create and deploy microservices on containers</span></span>

<span data-ttu-id="a1f95-128">您可以透過一般處理序，使用傳統的.NET Framework 來建置微服務型應用程式 (不含容器)。</span><span class="sxs-lookup"><span data-stu-id="a1f95-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="a1f95-129">如此一來，因為.NET Framework 已跨處理序安裝和共用，處理序即為輕量的，而且可快速啟動。</span><span class="sxs-lookup"><span data-stu-id="a1f95-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="a1f95-130">不過，如果您使用容器，傳統 .NET Framework 的映像也會以 Windows Server Core 為基礎，而這對於容器上的微服務方法而言過於沉重。</span><span class="sxs-lookup"><span data-stu-id="a1f95-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span> <span data-ttu-id="a1f95-131">不過，團隊還在尋求提升 .NET Framework 使用者體驗的機會。</span><span class="sxs-lookup"><span data-stu-id="a1f95-131">However, teams have been looking for opportunities to improve the experience for .NET Framework users as well.</span></span> <span data-ttu-id="a1f95-132">最近， [Windows Server Core 容器映射的大小已縮減為 >40%](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller)。</span><span class="sxs-lookup"><span data-stu-id="a1f95-132">Recently, size of the [Windows Server Core container images have been reduced to >40% smaller](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).</span></span>

<span data-ttu-id="a1f95-133">另一方面，如果您要採用以容器為基礎的微服務導向系統，.NET 5 是最好的選擇，因為 .NET 5 是輕量的。</span><span class="sxs-lookup"><span data-stu-id="a1f95-133">On the other hand, .NET 5 is the best candidate if you're embracing a microservices-oriented system that is based on containers, because .NET 5 is lightweight.</span></span> <span data-ttu-id="a1f95-134">此外，其相關的容器映射（適用于 Linux 或 Windows Nano Server）都是精簡且較小的映射，讓容器輕量並快速開始。</span><span class="sxs-lookup"><span data-stu-id="a1f95-134">In addition, its related container images, for either Linux or Windows Nano Server, are lean and small, making containers light and fast to start.</span></span>

<span data-ttu-id="a1f95-135">微服務意味著儘可能愈小愈好：在啟動時負荷極低、佔用空間小、限定環境小、只需要投注一小部分心力 (檢查 DDD，[網域驅動設計](https://en.wikipedia.org/wiki/Domain-driven_design))，而且能夠快速啟動和停止。</span><span class="sxs-lookup"><span data-stu-id="a1f95-135">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context (check DDD, [Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design)), to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="a1f95-136">針對這些需求，您會想要使用小型和快速具現化的容器映射，例如 .NET 5 容器映射。</span><span class="sxs-lookup"><span data-stu-id="a1f95-136">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET 5 container image.</span></span>

<span data-ttu-id="a1f95-137">微服務架構也可讓您跨越服務界限混用技術。</span><span class="sxs-lookup"><span data-stu-id="a1f95-137">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="a1f95-138">這種方法可針對新的微服務逐步遷移至 .NET 5，以搭配其他微服務或使用以 Node.js、Python、JAVA、GoLang 或其他技術所開發的服務。</span><span class="sxs-lookup"><span data-stu-id="a1f95-138">This approach enables a gradual migration to .NET 5 for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="a1f95-139">在可擴充的系統中部署高密度</span><span class="sxs-lookup"><span data-stu-id="a1f95-139">Deploying high density in scalable systems</span></span>

<span data-ttu-id="a1f95-140">當您以容器為基礎的系統需要最佳的密度、細微性和效能時，.NET 和 ASP.NET Core 是您的最佳選擇。</span><span class="sxs-lookup"><span data-stu-id="a1f95-140">When your container-based system needs the best possible density, granularity, and performance, .NET and ASP.NET Core are your best options.</span></span> <span data-ttu-id="a1f95-141">ASP.NET Core 在傳統 .NET Framework 中的速度最高可快10倍，並且會引導微服務的其他熱門產業技術，例如 JAVA servlet、Go 和 Node.js。</span><span class="sxs-lookup"><span data-stu-id="a1f95-141">ASP.NET Core is up to 10 times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="a1f95-142">這種方法特別適用于微服務架構，您可以在其中擁有數百個微服務 (容器) 執行。</span><span class="sxs-lookup"><span data-stu-id="a1f95-142">This approach is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="a1f95-143">使用 ASP.NET Core 映射 (以 Linux 或 Windows Nano 上的 .NET) 執行時間為基礎，您可以使用較低數目的伺服器或 Vm 來執行系統，最終節省基礎結構和裝載的成本。</span><span class="sxs-lookup"><span data-stu-id="a1f95-143">With ASP.NET Core images (based on the .NET runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="a1f95-144">[上一個](general-guidance.md) 
>[下一步](net-framework-container-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="a1f95-144">[Previous](general-guidance.md)
[Next](net-framework-container-scenarios.md)</span></span>
