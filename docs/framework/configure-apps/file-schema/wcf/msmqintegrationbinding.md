---
title: <msmqIntegrationBinding>
ms.date: 03/30/2017
helpviewer_keywords:
- msmqIntegrationBinding Element
ms.assetid: edf277f3-e3bf-4ed8-9f55-83b5788430a7
ms.openlocfilehash: ba28a81dd2ea0684ed863821afd3a8f31c0fb064
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/06/2020
ms.locfileid: "74140775"
---
# \<msmqIntegrationBinding>
<span data-ttu-id="71203-101">定義繫結，此繫結可透過 MSMQ 傳遞訊息來提供查詢支援。</span><span class="sxs-lookup"><span data-stu-id="71203-101">Defines a binding that provides queuing support by routing messages through MSMQ.</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<bindings>**](bindings.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<customBinding>**](custombinding.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<binding>**\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<msmqIntegrationBinding>**  
  
## <a name="syntax"></a><span data-ttu-id="71203-102">語法</span><span class="sxs-lookup"><span data-stu-id="71203-102">Syntax</span></span>  
  
```xml  
<msmqIntegrationBinding>
  <binding closeTimeout="TimeSpan"
           customDeadLetterQueue="Uri"
           deadLetterQueue="Uri"
           durable="Boolean"
           exactlyOnce="Boolean"
           maxReceivedMessageSize="Integer"
           maxRetryCycles="Integer"
           name="String"
           openTimeout="TimeSpan"
           receiveContextEnabled="Boolean"
           receiveErrorHandling="Drop/Fault/Move/Reject"
           receiveTimeout="TimeSpan"
           receiveRetryCount="Integer"
           retryCycleDelay="TimeSpan"
           sendTimeout="TimeSpan"
           serializationFormat="XML/Binary/ActiveX/ByteArray/Stream"
           timeToLive="TimeSpan"
           useMsmqTracing="Boolean"
           useSourceJournal="Boolean">
  </binding>
</msmqIntegrationBinding>
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="71203-103">屬性和項目</span><span class="sxs-lookup"><span data-stu-id="71203-103">Attributes and Elements</span></span>  
 <span data-ttu-id="71203-104">下列各節說明屬性、子元素和父元素</span><span class="sxs-lookup"><span data-stu-id="71203-104">The following sections describe attributes, child elements, and parent elements</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="71203-105">屬性</span><span class="sxs-lookup"><span data-stu-id="71203-105">Attributes</span></span>  
  
|<span data-ttu-id="71203-106">屬性</span><span class="sxs-lookup"><span data-stu-id="71203-106">Attribute</span></span>|<span data-ttu-id="71203-107">描述</span><span class="sxs-lookup"><span data-stu-id="71203-107">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="71203-108">closeTimeout</span><span class="sxs-lookup"><span data-stu-id="71203-108">closeTimeout</span></span>|<span data-ttu-id="71203-109"><xref:System.TimeSpan> 值，指定提供用來讓關閉作業完成的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="71203-109">A <xref:System.TimeSpan> value that specifies the interval of time provided for a close operation to complete.</span></span> <span data-ttu-id="71203-110">這個值應該大於或等於 <xref:System.TimeSpan.Zero>。</span><span class="sxs-lookup"><span data-stu-id="71203-110">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="71203-111">預設為 00:01:00。</span><span class="sxs-lookup"><span data-stu-id="71203-111">The default is 00:01:00.</span></span>|  
|<span data-ttu-id="71203-112">customDeadLetterQueue</span><span class="sxs-lookup"><span data-stu-id="71203-112">customDeadLetterQueue</span></span>|<span data-ttu-id="71203-113">URI，其中包含每個應用程式寄不出的信件佇列的位置，所有已過期、無法傳輸或傳遞的訊息都會放到該佇列中。</span><span class="sxs-lookup"><span data-stu-id="71203-113">A URI that contains the location of the per-application dead letter queue, where messages that have expired or that have failed transfer or delivery are placed.</span></span><br /><br /> <span data-ttu-id="71203-114">寄不出的信件佇列是傳送應用程式佇列管理員上的佇列，用於無法傳遞的過期訊息。</span><span class="sxs-lookup"><span data-stu-id="71203-114">The dead letter queue is a queue on the queue manager of the sending application for expired messages that have failed to be delivered.</span></span><br /><br /> <span data-ttu-id="71203-115">由 <xref:System.ServiceModel.MsmqBindingBase.CustomDeadLetterQueue%2A> 指定的 URI 必須使用 net.msmq 配置。</span><span class="sxs-lookup"><span data-stu-id="71203-115">The URI that is specified by <xref:System.ServiceModel.MsmqBindingBase.CustomDeadLetterQueue%2A> must use the net.msmq scheme.</span></span>|  
|<span data-ttu-id="71203-116">deadLetterQueue</span><span class="sxs-lookup"><span data-stu-id="71203-116">deadLetterQueue</span></span>|<span data-ttu-id="71203-117">指定要使用何種寄不出信件佇列類型的 <xref:System.ServiceModel.MsmqBindingBase.DeadLetterQueue%2A> 值 (如果有的話)。</span><span class="sxs-lookup"><span data-stu-id="71203-117">A <xref:System.ServiceModel.MsmqBindingBase.DeadLetterQueue%2A>.value specifying which type of dead-letter queue to use, if any</span></span><br /><br /> <span data-ttu-id="71203-118">寄不出的信件佇列是無法傳遞至應用程式的訊息存放的位置。</span><span class="sxs-lookup"><span data-stu-id="71203-118">A dead-letter queue is the location that messages that have failed to be delivered to the application will be transferred.</span></span><br /><br /> <span data-ttu-id="71203-119">對於需要 exactlyOnce 保證的訊息 (也就是 `exactlyOnce` 屬性設定為 `true`)，這個屬性預設為 MSMQ 中的整個系統交易式寄不出信件佇列。</span><span class="sxs-lookup"><span data-stu-id="71203-119">For messages that require exactlyOnce assurance (i.e., the `exactlyOnce` attribute is set to `true`), this attribute defaults to the system-wide transactional dead-letter queue in MSMQ.</span></span><br /><br /> <span data-ttu-id="71203-120">對於不需要保證的訊息，這個屬性預設為 `null`。</span><span class="sxs-lookup"><span data-stu-id="71203-120">For messages that require no assurances, this attribute defaults to `null`.</span></span>|  
|<span data-ttu-id="71203-121">持久</span><span class="sxs-lookup"><span data-stu-id="71203-121">durable</span></span>|<span data-ttu-id="71203-122">布林值，指出佇列中的訊息為永久性 (Durable) 或變動性 (Volatile)。</span><span class="sxs-lookup"><span data-stu-id="71203-122">A Boolean value that indicates whether the message is durable or volatile in the queue.</span></span> <span data-ttu-id="71203-123">永久性的訊息不受佇列管理員毀損的影響，但變動性訊息會受到影響。</span><span class="sxs-lookup"><span data-stu-id="71203-123">A durable message survives a queue manager crash, while a volatile message does not.</span></span> <span data-ttu-id="71203-124">如果應用程式需要較短的延遲時間，並可以容許訊息偶爾遺失，變動性訊息就很有用。</span><span class="sxs-lookup"><span data-stu-id="71203-124">Volatile messages are useful when applications require lower latency and can tolerate occasional lost messages.</span></span> <span data-ttu-id="71203-125">如果 `exactlyOnce` 屬性設定為 `true`，則訊息必須為永久性。</span><span class="sxs-lookup"><span data-stu-id="71203-125">If the `exactlyOnce` attribute is set to `true`, the messages must be durable.</span></span> <span data-ttu-id="71203-126">預設值為 `true`。</span><span class="sxs-lookup"><span data-stu-id="71203-126">The default is `true`.</span></span>|  
|<span data-ttu-id="71203-127">exactlyOnce</span><span class="sxs-lookup"><span data-stu-id="71203-127">exactlyOnce</span></span>|<span data-ttu-id="71203-128">布林值，這個值會指出每個訊息是否只傳遞一次。</span><span class="sxs-lookup"><span data-stu-id="71203-128">A Boolean value that indicates whether each message is delivered only once.</span></span> <span data-ttu-id="71203-129">接著會通知傳送者傳遞失敗。</span><span class="sxs-lookup"><span data-stu-id="71203-129">The sender will then be notified of delivery failures.</span></span> <span data-ttu-id="71203-130">`durable` 為 `false` 時，會忽略這個屬性，並傳輸訊息，但不具傳遞保證。</span><span class="sxs-lookup"><span data-stu-id="71203-130">When `durable` is `false`, this attribute is ignored and messages are transferred without delivery assurance.</span></span> <span data-ttu-id="71203-131">預設值為 `true`。</span><span class="sxs-lookup"><span data-stu-id="71203-131">The default is `true`.</span></span> <span data-ttu-id="71203-132">如需詳細資訊，請參閱 <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> 。</span><span class="sxs-lookup"><span data-stu-id="71203-132">For more information, see <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A>.</span></span>|  
|<span data-ttu-id="71203-133">maxReceivedMessageSize</span><span class="sxs-lookup"><span data-stu-id="71203-133">maxReceivedMessageSize</span></span>|<span data-ttu-id="71203-134">正整數，定義此繫結可以處理的訊息大小上限 (以位元組為單位，包括標頭)。</span><span class="sxs-lookup"><span data-stu-id="71203-134">A positive integer that defines the maximum message size, in bytes, including headers, that is processed by this binding.</span></span> <span data-ttu-id="71203-135">超出此限制之訊息的寄件者將會收到 SOAP 錯誤。</span><span class="sxs-lookup"><span data-stu-id="71203-135">The sender of a message exceeding this limit will receive a SOAP fault.</span></span> <span data-ttu-id="71203-136">收件者會捨棄訊息，然後在追蹤記錄檔中建立此事件的項目。</span><span class="sxs-lookup"><span data-stu-id="71203-136">The receiver drops the message and creates an entry of the event in the trace log.</span></span> <span data-ttu-id="71203-137">預設值為 65536。</span><span class="sxs-lookup"><span data-stu-id="71203-137">The default is 65536.</span></span> <span data-ttu-id="71203-138">這項關於訊息大小的限制是為了避免受到阻絕服務 (DoS) 攻擊。</span><span class="sxs-lookup"><span data-stu-id="71203-138">This bound on message size is intended to limit exposure to Denial of Service (DoS) attacks.</span></span>|  
|<span data-ttu-id="71203-139">maxRetryCycles</span><span class="sxs-lookup"><span data-stu-id="71203-139">maxRetryCycles</span></span>|<span data-ttu-id="71203-140">整數，指出有害訊息偵測功能使用的重試循環次數。</span><span class="sxs-lookup"><span data-stu-id="71203-140">An integer that indicates the number of retry cycles used by the poison-message detection feature.</span></span> <span data-ttu-id="71203-141">當訊息無法在循環的傳遞嘗試中成功傳遞，便成為有害訊息。</span><span class="sxs-lookup"><span data-stu-id="71203-141">A message becomes a poison message when it fails all delivery attempts of all cycles.</span></span> <span data-ttu-id="71203-142">預設值為 2。</span><span class="sxs-lookup"><span data-stu-id="71203-142">The default is 2.</span></span> <span data-ttu-id="71203-143">如需詳細資訊，請參閱 <xref:System.ServiceModel.MsmqBindingBase.MaxRetryCycles%2A> 。</span><span class="sxs-lookup"><span data-stu-id="71203-143">For more information, see <xref:System.ServiceModel.MsmqBindingBase.MaxRetryCycles%2A>.</span></span>|  
|<span data-ttu-id="71203-144">NAME</span><span class="sxs-lookup"><span data-stu-id="71203-144">name</span></span>|<span data-ttu-id="71203-145">包含繫結之組態名稱的字串。</span><span class="sxs-lookup"><span data-stu-id="71203-145">A string that contains the configuration name of the binding.</span></span> <span data-ttu-id="71203-146">這個值應該是唯一的，因為它會當做繫結的識別使用。</span><span class="sxs-lookup"><span data-stu-id="71203-146">This value should be unique because it is used as an identification for the binding.</span></span> <span data-ttu-id="71203-147">從 .NET Framework 4 開始，系結和行為都不需要有名稱。</span><span class="sxs-lookup"><span data-stu-id="71203-147">Starting with .NET Framework 4, bindings and behaviors are not required to have a name.</span></span> <span data-ttu-id="71203-148">如需預設設定和無相關系結和行為的詳細資訊，請參閱[簡化](../../../wcf/simplified-configuration.md)的設定和[WCF 服務的簡化](../../../wcf/samples/simplified-configuration-for-wcf-services.md)設定。</span><span class="sxs-lookup"><span data-stu-id="71203-148">For more information about default configuration and nameless bindings and behaviors, see [Simplified Configuration](../../../wcf/simplified-configuration.md) and [Simplified Configuration for WCF Services](../../../wcf/samples/simplified-configuration-for-wcf-services.md).</span></span>|  
|<span data-ttu-id="71203-149">openTimeout</span><span class="sxs-lookup"><span data-stu-id="71203-149">openTimeout</span></span>|<span data-ttu-id="71203-150"><xref:System.TimeSpan> 值，指定提供用來讓開啟作業完成的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="71203-150">A <xref:System.TimeSpan> value that specifies the interval of time provided for an open operation to complete.</span></span> <span data-ttu-id="71203-151">這個值應該大於或等於 <xref:System.TimeSpan.Zero>。</span><span class="sxs-lookup"><span data-stu-id="71203-151">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="71203-152">預設為 00:01:00。</span><span class="sxs-lookup"><span data-stu-id="71203-152">The default is 00:01:00.</span></span>|  
|<span data-ttu-id="71203-153">receiveErrorHandling</span><span class="sxs-lookup"><span data-stu-id="71203-153">receiveErrorHandling</span></span>|<span data-ttu-id="71203-154"><xref:System.ServiceModel.ReceiveErrorHandling> 值，指定如何處理有害和不可分派的訊息。</span><span class="sxs-lookup"><span data-stu-id="71203-154">A <xref:System.ServiceModel.ReceiveErrorHandling> value that specifies how poison and nondispatchable messages are handled.</span></span>|  
|<span data-ttu-id="71203-155">receiveRetryCount</span><span class="sxs-lookup"><span data-stu-id="71203-155">receiveRetryCount</span></span>|<span data-ttu-id="71203-156">整數，這個整數會指定如果從應用程式佇列到應用程式的訊息傳輸失敗，佇列管理員應嘗試的立即重試次數上限。</span><span class="sxs-lookup"><span data-stu-id="71203-156">An integer that specifies the maximum number of immediate retries the queue manager should attempt if transmission of a message from the application queue to the application fails.</span></span><br /><br /> <span data-ttu-id="71203-157">如果達到傳遞嘗試的次數上限，且應用程式未存取訊息，訊息便會傳送到重試佇列，以便日後再次傳遞。</span><span class="sxs-lookup"><span data-stu-id="71203-157">If the maximum number of delivery attempts is reached and the message is not accessed by the application, then the message is sent to a retry queue for redelivery at a later time.</span></span> <span data-ttu-id="71203-158">在訊息傳回傳送佇列之前的時間長度是由 `retryCycleDelay` 控制。</span><span class="sxs-lookup"><span data-stu-id="71203-158">The amount of time before the message is transferred back to the sending queue is controlled by `retryCycleDelay`.</span></span> <span data-ttu-id="71203-159">如果重試循環達到 `maxRetryCycles` 值，則訊息便會傳送到有害訊息佇列，或是負認可會傳回至寄件者。</span><span class="sxs-lookup"><span data-stu-id="71203-159">If retry cycles reach the `maxRetryCycles` value, then the message is either sent to the poison-message queue, or a negative acknowledgement is sent back to the sender.</span></span>|  
|<span data-ttu-id="71203-160">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="71203-160">receiveTimeout</span></span>|<span data-ttu-id="71203-161"><xref:System.TimeSpan> 值，指定接收作業完成其作業之時間間隔。</span><span class="sxs-lookup"><span data-stu-id="71203-161">A <xref:System.TimeSpan> value that specifies the interval of time provided for a receive operation to complete.</span></span> <span data-ttu-id="71203-162">這個值應該大於或等於 <xref:System.TimeSpan.Zero>。</span><span class="sxs-lookup"><span data-stu-id="71203-162">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="71203-163">預設為 00:10:00。</span><span class="sxs-lookup"><span data-stu-id="71203-163">The default is 00:10:00.</span></span>|  
|<span data-ttu-id="71203-164">receiveContextEnabled</span><span class="sxs-lookup"><span data-stu-id="71203-164">receiveContextEnabled</span></span>|<span data-ttu-id="71203-165">布林值，這個值會指定接收在佇列內處理訊息的內容是否已啟用。</span><span class="sxs-lookup"><span data-stu-id="71203-165">A Boolean that specifies if receive context for processing messages in queues is enabled.</span></span> <span data-ttu-id="71203-166">當此設定為時 `true` ，服務可以「查看」佇列上的訊息以開始處理它，而且如果發生錯誤且擲回例外狀況，則會保留在佇列上。</span><span class="sxs-lookup"><span data-stu-id="71203-166">When this is set to `true`, a service can "peek" a message on the queue to begin processing it, and, if anything goes wrong and an exception is thrown, it remains on the queue.</span></span> <span data-ttu-id="71203-167">服務也可以「鎖定」訊息，以便在稍後的時間點重試處理。</span><span class="sxs-lookup"><span data-stu-id="71203-167">Services can also "lock" messages in order to retry processing at a later point in time.</span></span> <span data-ttu-id="71203-168">ReceiveCoNtext 提供「完成」訊息的機制，一旦處理之後，就可以從佇列中移除它。訊息不會再透過網路讀取和重新寫入佇列，而且個別訊息在處理期間不會在不同的服務實例之間跳動。</span><span class="sxs-lookup"><span data-stu-id="71203-168">ReceiveContext provides a mechanism for "completing" the message once processed so it can be removed from the queue.Messages are no longer being read and re-written to queues over the network, and individual messages aren’t bouncing across different service instances during processing.</span></span>|  
|<span data-ttu-id="71203-169">retryCycleDelay</span><span class="sxs-lookup"><span data-stu-id="71203-169">retryCycleDelay</span></span>|<span data-ttu-id="71203-170">TimeSpan 值，指定嘗試傳遞無法立即傳遞之訊息時，重試循環之間的時間延遲。</span><span class="sxs-lookup"><span data-stu-id="71203-170">A TimeSpan value that specifies the time delay between retry cycles when attempting to deliver a message that could not be delivered immediately.</span></span> <span data-ttu-id="71203-171">該值只定義最小等待時間，因為實際的等待時間會更長。</span><span class="sxs-lookup"><span data-stu-id="71203-171">The value defines only the minimum wait time because actual wait time can be longer.</span></span> <span data-ttu-id="71203-172">預設值為 00:30:00。</span><span class="sxs-lookup"><span data-stu-id="71203-172">The default value is 00:30:00.</span></span> <span data-ttu-id="71203-173">如需詳細資訊，請參閱 <xref:System.ServiceModel.MsmqBindingBase.RetryCycleDelay%2A> 。</span><span class="sxs-lookup"><span data-stu-id="71203-173">For more information, see <xref:System.ServiceModel.MsmqBindingBase.RetryCycleDelay%2A>.</span></span>|  
|<span data-ttu-id="71203-174">sendTimeout</span><span class="sxs-lookup"><span data-stu-id="71203-174">sendTimeout</span></span>|<span data-ttu-id="71203-175"><xref:System.TimeSpan> 值，指定提供用來讓傳送作業完成的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="71203-175">A <xref:System.TimeSpan> value that specifies the interval of time provided for a send operation to complete.</span></span> <span data-ttu-id="71203-176">這個值應該大於或等於 <xref:System.TimeSpan.Zero>。</span><span class="sxs-lookup"><span data-stu-id="71203-176">This value should be greater than or equal to <xref:System.TimeSpan.Zero>.</span></span> <span data-ttu-id="71203-177">預設為 00:01:00。</span><span class="sxs-lookup"><span data-stu-id="71203-177">The default is 00:01:00.</span></span>|  
|<span data-ttu-id="71203-178">serializationFormat</span><span class="sxs-lookup"><span data-stu-id="71203-178">serializationFormat</span></span>|<span data-ttu-id="71203-179">定義用來序列化訊息本文的格式。</span><span class="sxs-lookup"><span data-stu-id="71203-179">Defines the format used for serialization of the message body.</span></span> <span data-ttu-id="71203-180">此屬性的型別為 <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat>。</span><span class="sxs-lookup"><span data-stu-id="71203-180">This attribute is of type <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat>.</span></span>|  
|<span data-ttu-id="71203-181">timeToLive</span><span class="sxs-lookup"><span data-stu-id="71203-181">timeToLive</span></span>|<span data-ttu-id="71203-182">TimeSpan 值，指定訊息在到期並置入寄不出的信件佇列之前，訊息仍保持有效的時間。</span><span class="sxs-lookup"><span data-stu-id="71203-182">A TimeSpan value that specifies how long the messages are valid before they are expired and put into the dead-letter queue.</span></span> <span data-ttu-id="71203-183">預設為 1.00:00:00。</span><span class="sxs-lookup"><span data-stu-id="71203-183">The default is 1.00:00:00.</span></span><br /><br /> <span data-ttu-id="71203-184">設定這個屬性可確保有時效的訊息在由接收應用程式處理之前不會變成過時。</span><span class="sxs-lookup"><span data-stu-id="71203-184">This attribute is set to ensure that time-sensitive messages do not become stale before they are processed by the receiving applications.</span></span> <span data-ttu-id="71203-185">佇列中未由接收應用程式於指定的時間間隔內使用的訊息，即稱為過期訊息。</span><span class="sxs-lookup"><span data-stu-id="71203-185">A message in a queue that is not consumed by the receiving application within the time interval specified is said to be expired.</span></span> <span data-ttu-id="71203-186">過期訊息會傳送至特別的佇列，稱為寄不出的信件佇列。</span><span class="sxs-lookup"><span data-stu-id="71203-186">Expired messages are sent to special queue called the dead letter queue.</span></span> <span data-ttu-id="71203-187">寄不出的信件佇列的位置是使用 `DeadLetterQueue` 屬性設定，或根據保證設定為適當的預設值。</span><span class="sxs-lookup"><span data-stu-id="71203-187">The location of the dead letter queue is set with the `DeadLetterQueue` attribute or to the appropriate default, based on assurances.</span></span>|  
|<span data-ttu-id="71203-188">useMsmqTracing</span><span class="sxs-lookup"><span data-stu-id="71203-188">useMsmqTracing</span></span>|<span data-ttu-id="71203-189">布林值，指定是否應追蹤由此繫結處理的訊息。</span><span class="sxs-lookup"><span data-stu-id="71203-189">A Boolean value that specifies whether messages processed by this binding should be traced.</span></span> <span data-ttu-id="71203-190">預設值為 `false`。</span><span class="sxs-lookup"><span data-stu-id="71203-190">The default is `false`.</span></span> <span data-ttu-id="71203-191">如果啟用追蹤，每當訊息離開或到達訊息佇列電腦時，都會建立報告訊息並傳送至報告佇列。</span><span class="sxs-lookup"><span data-stu-id="71203-191">When tracing is enabled, report messages are created and sent to the report queue each time the message leaves or arrives at a Message Queuing computer.</span></span>|  
|<span data-ttu-id="71203-192">useSourceJournal</span><span class="sxs-lookup"><span data-stu-id="71203-192">useSourceJournal</span></span>|<span data-ttu-id="71203-193">布林值，指定是否要將此繫結處理之訊息的複本儲存在來源日誌。</span><span class="sxs-lookup"><span data-stu-id="71203-193">A Boolean value that specifies copies of messages processed by this binding should be stored in the source journal.</span></span> <span data-ttu-id="71203-194">預設值為 `false`。</span><span class="sxs-lookup"><span data-stu-id="71203-194">The default is `false`.</span></span><br /><br /> <span data-ttu-id="71203-195">有些佇列應用程式要記錄已離開電腦輸出佇列的訊息，這些程式可以將訊息複製到日誌佇列。</span><span class="sxs-lookup"><span data-stu-id="71203-195">Queued applications that want to keep a record of messages that have left the computer's outgoing queue can copy the messages to a journal queue.</span></span> <span data-ttu-id="71203-196">只要訊息一離開輸出佇列，而且收到目的端電腦已收到訊息的認可，訊息的複本就會保留在傳送端電腦的系統日誌佇列中。</span><span class="sxs-lookup"><span data-stu-id="71203-196">Once a message leaves the outgoing queue and an acknowledgment is received that the message was received on the destination computer, a copy of the message is kept in the sending computer's system journal queue.</span></span>|  
  
## <a name="serializationformat-attribute"></a><span data-ttu-id="71203-197">{serializationFormat} 屬性</span><span class="sxs-lookup"><span data-stu-id="71203-197">{serializationFormat} Attribute</span></span>  
  
|<span data-ttu-id="71203-198">值</span><span class="sxs-lookup"><span data-stu-id="71203-198">Value</span></span>|<span data-ttu-id="71203-199">描述</span><span class="sxs-lookup"><span data-stu-id="71203-199">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="71203-200">Xml</span><span class="sxs-lookup"><span data-stu-id="71203-200">Xml</span></span>|<span data-ttu-id="71203-201">XML 格式</span><span class="sxs-lookup"><span data-stu-id="71203-201">XML format</span></span>|  
|<span data-ttu-id="71203-202">Binary</span><span class="sxs-lookup"><span data-stu-id="71203-202">Binary</span></span>|<span data-ttu-id="71203-203">二進位格式</span><span class="sxs-lookup"><span data-stu-id="71203-203">Binary format</span></span>|  
|<span data-ttu-id="71203-204">ActiveX</span><span class="sxs-lookup"><span data-stu-id="71203-204">ActiveX</span></span>|<span data-ttu-id="71203-205">ActiveX 格式</span><span class="sxs-lookup"><span data-stu-id="71203-205">ActiveX format</span></span>|  
|<span data-ttu-id="71203-206">ByteArray</span><span class="sxs-lookup"><span data-stu-id="71203-206">ByteArray</span></span>|<span data-ttu-id="71203-207">將物件序列化為位元組陣列。</span><span class="sxs-lookup"><span data-stu-id="71203-207">Serializes the object to an array of bytes.</span></span>|  
|<span data-ttu-id="71203-208">資料流</span><span class="sxs-lookup"><span data-stu-id="71203-208">Stream</span></span>|<span data-ttu-id="71203-209">格式化為資料流的本文</span><span class="sxs-lookup"><span data-stu-id="71203-209">The body formatted as a stream</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="71203-210">子元素</span><span class="sxs-lookup"><span data-stu-id="71203-210">Child Elements</span></span>  
  
|<span data-ttu-id="71203-211">元素</span><span class="sxs-lookup"><span data-stu-id="71203-211">Element</span></span>|<span data-ttu-id="71203-212">描述</span><span class="sxs-lookup"><span data-stu-id="71203-212">Description</span></span>|  
|-------------|-----------------|  
|[\<security>](security-of-msmqintegrationbinding.md)|<span data-ttu-id="71203-213">定義繫結的安全性設定。</span><span class="sxs-lookup"><span data-stu-id="71203-213">Defines the security settings for the binding.</span></span> <span data-ttu-id="71203-214">此項目的型別為 <xref:System.ServiceModel.Configuration.MsmqIntegrationSecurityElement>。</span><span class="sxs-lookup"><span data-stu-id="71203-214">This element is of type <xref:System.ServiceModel.Configuration.MsmqIntegrationSecurityElement>.</span></span>|  
  
### <a name="parent-elements"></a><span data-ttu-id="71203-215">父項目</span><span class="sxs-lookup"><span data-stu-id="71203-215">Parent Elements</span></span>  
  
|<span data-ttu-id="71203-216">元素</span><span class="sxs-lookup"><span data-stu-id="71203-216">Element</span></span>|<span data-ttu-id="71203-217">描述</span><span class="sxs-lookup"><span data-stu-id="71203-217">Description</span></span>|  
|-------------|-----------------|  
|[\<bindings>](bindings.md)|<span data-ttu-id="71203-218">這個項目會保存標準和自訂繫結的集合。</span><span class="sxs-lookup"><span data-stu-id="71203-218">This element holds a collection of standard and custom bindings.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="71203-219">備註</span><span class="sxs-lookup"><span data-stu-id="71203-219">Remarks</span></span>  
 <span data-ttu-id="71203-220">這個繫結項目可以用來啟用 Windows Communication Foundation （WCF）應用程式，以使用 COM、MSMQ 原生 Api 或命名空間中定義的類型，在現有的 MSMQ 應用程式中傳送和接收訊息 <xref:System.Messaging?displayProperty=nameWithType> 。您可以使用這個設定專案來指定定址佇列的方式、傳輸保證、是否必須永久儲存訊息，以及訊息應如何受到保護和驗證。</span><span class="sxs-lookup"><span data-stu-id="71203-220">This binding element can be used to enable Windows Communication Foundation (WCF) applications to send messages to and receive messages from existing MSMQ applications that use either COM, MSMQ native APIs, or the types defined in the <xref:System.Messaging?displayProperty=nameWithType> namespace You can use this configuration element to specify ways to address the queue, transfer assurances, whether messages must be durably stored, and how messages should be protected and authenticated.</span></span> <span data-ttu-id="71203-221">如需詳細資訊，請參閱[如何：使用 WCF 端點和訊息佇列應用程式交換訊息](../../../wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="71203-221">For more information, see [How to: Exchange Messages with WCF Endpoints and Message Queuing Applications](../../../wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md).</span></span>  
  
## <a name="example"></a><span data-ttu-id="71203-222">範例</span><span class="sxs-lookup"><span data-stu-id="71203-222">Example</span></span>  
  
```xml  
<configuration>
  <system.ServiceModel>
    <bindings>
      <msmqIntegrationBinding>
        <binding closeTimeout="00:00:10"
                 openTimeout="00:00:20"
                 receiveTimeout="00:00:30"
                 sendTimeout="00:00:40"
                 deadLetterQueue="net.msmq://localhost/blah"
                 durable="true"
                 exactlyOnce="true"
                 maxReceivedMessageSize="1000"
                 maxImmediateRetries="11"
                 maxRetryCycles="12"
                 poisonMessageHandling="Disabled"
                 rejectAfterLastRetry="false"
                 retryCycleDelay="00:05:55"
                 timeToLive="00:11:11"
                 useSourceJournal="true"
                 useMsmqTracing="true"
                 serializationFormat="Binary">
          <security mode="None" />
        </binding>
      </msmqIntegrationBinding>
    </bindings>
  </system.ServiceModel>
</configuration>
```  
  
## <a name="see-also"></a><span data-ttu-id="71203-223">另請參閱</span><span class="sxs-lookup"><span data-stu-id="71203-223">See also</span></span>

- <xref:System.ServiceModel.Configuration.MsmqIntegrationBindingElement>
- <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>
- <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBindingElement>
- [\<binding>](bindings.md)
- [<span data-ttu-id="71203-224">繫結</span><span class="sxs-lookup"><span data-stu-id="71203-224">Bindings</span></span>](../../../wcf/bindings.md)
- [<span data-ttu-id="71203-225">設定系統提供的繫結</span><span class="sxs-lookup"><span data-stu-id="71203-225">Configuring System-Provided Bindings</span></span>](../../../wcf/feature-details/configuring-system-provided-bindings.md)
- [<span data-ttu-id="71203-226">使用繫結設定服務與用戶端</span><span class="sxs-lookup"><span data-stu-id="71203-226">Using Bindings to Configure Services and Clients</span></span>](../../../wcf/using-bindings-to-configure-services-and-clients.md)
- [<span data-ttu-id="71203-227">WCF 中的佇列</span><span class="sxs-lookup"><span data-stu-id="71203-227">Queues in WCF</span></span>](../../../wcf/feature-details/queues-in-wcf.md)
