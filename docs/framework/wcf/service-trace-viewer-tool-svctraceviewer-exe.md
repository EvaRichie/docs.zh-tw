---
title: 服務追蹤檢視器工具 (SvcTraceViewer.exe)
description: 使用服務追蹤檢視器，在記錄檔中合併、查看和篩選追蹤訊息，讓您可以診斷、修復和驗證 WCF 服務問題。
ms.date: 03/30/2017
ms.assetid: 9027efd3-df8d-47ed-8bcd-f53d55ed803c
ms.openlocfilehash: 0ad6094965291a965346522688a8334abbd4e6b3
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244565"
---
# <a name="service-trace-viewer-tool-svctraceviewerexe"></a><span data-ttu-id="c3cc4-103">服務追蹤檢視器工具 (SvcTraceViewer.exe)</span><span class="sxs-lookup"><span data-stu-id="c3cc4-103">Service Trace Viewer Tool (SvcTraceViewer.exe)</span></span>

<span data-ttu-id="c3cc4-104">Windows Communication Foundation （WCF）服務追蹤檢視器工具可協助您分析 WCF 所產生的診斷追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-104">Windows Communication Foundation (WCF) Service Trace Viewer Tool helps you analyze diagnostic traces that are generated by WCF.</span></span> <span data-ttu-id="c3cc4-105">服務追蹤檢視器提供一種方法，可讓您輕鬆地在記錄檔中合併、查看和篩選追蹤訊息，以便您診斷、修復和驗證 WCF 服務問題。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-105">Service Trace Viewer provides a way to easily merge, view, and filter trace messages in the log so that you can diagnose, repair, and verify WCF service issues.</span></span>

## <a name="configuring-tracing"></a><span data-ttu-id="c3cc4-106">設定追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-106">Configuring Tracing</span></span>

<span data-ttu-id="c3cc4-107">診斷追蹤可提供您資訊，顯示整個應用程式的作業期間所發生之事件。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-107">Diagnostic traces provide you with information that shows what is happening throughout your application's operation.</span></span> <span data-ttu-id="c3cc4-108">顧名思義，您可以從作業的來源開始追蹤，一直追蹤到作業的目的端，也可以透過中繼點追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-108">As the name implies, you can follow operations from their source to destination and through intermediate points as well.</span></span>

<span data-ttu-id="c3cc4-109">您可以使用應用程式的設定檔案來設定追蹤，例如 Web 裝載應用程式的 Web.config，或自我裝載應用程式的*Appname*.config。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-109">You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or *Appname*.config for self-hosted applications.</span></span> <span data-ttu-id="c3cc4-110">下列為範例：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-110">The following is an example:</span></span>

```xml
<system.diagnostics>
    <trace autoflush="true" />
    <sources>
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"
                    propagateActivity="true">
            <listeners>
               <add name="sdt"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "SdrConfigExample.e2e" />
            </listeners>
         </source>
    </sources>
</system.diagnostics>
```

<span data-ttu-id="c3cc4-111">在這個範例中，指定了追蹤接聽項的名稱與型別。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-111">In this example, the name and type of the trace listener is specified.</span></span> <span data-ttu-id="c3cc4-112">接聽項命名為 `sdt`，而標準 .NET Framework 追蹤接聽項 (System.Diagnostics.XmlWriterTraceListener) 會當成型別加入。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-112">The Listener is named `sdt` and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type.</span></span> <span data-ttu-id="c3cc4-113">`initializeData`屬性是用來將該接聽程式的記錄檔名稱設定為 `SdrConfigExample.e2e` 。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-113">The `initializeData` attribute is used to set the name of the log file for that Listener to be `SdrConfigExample.e2e`.</span></span> <span data-ttu-id="c3cc4-114">對於記錄檔，您可以使用完整路徑來取代簡單檔名。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-114">For the log file, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="c3cc4-115">範例會在根目錄中建立名為 SdrConfigExample.e2e 的檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-115">The example creates a file in the root directory called SdrConfigExample.e2e.</span></span> <span data-ttu-id="c3cc4-116">當您使用追蹤檢視器來開啟檔案（如「開啟和流覽 WCF 追蹤檔案」一節中所述）時，您可以看到所有已傳送的訊息。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-116">When you use the Trace Viewer to open the file as described in the "Opening and Viewing WCF Trace Files" section, you can see all the messages that have been sent.</span></span>

<span data-ttu-id="c3cc4-117">追蹤層級是由 `switchValue` 設定所控制。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-117">The tracing level is controlled by the `switchValue` setting.</span></span> <span data-ttu-id="c3cc4-118">下表描述可使用的追蹤層級。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-118">The available tracing levels are described in the following table.</span></span>

|<span data-ttu-id="c3cc4-119">追蹤層級</span><span class="sxs-lookup"><span data-stu-id="c3cc4-119">Trace Level</span></span>|<span data-ttu-id="c3cc4-120">描述</span><span class="sxs-lookup"><span data-stu-id="c3cc4-120">Description</span></span>|
|-----------------|-----------------|
|<span data-ttu-id="c3cc4-121">重要</span><span class="sxs-lookup"><span data-stu-id="c3cc4-121">Critical</span></span>|<span data-ttu-id="c3cc4-122">-記錄「失敗-快速」和「事件記錄檔」專案，以及追蹤相互關聯資訊。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-122">-   Logs Fail-Fast and Event Log entries, and trace correlation information.</span></span> <span data-ttu-id="c3cc4-123">以下為一些會使用到「嚴重」層級的範例：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-123">The following are some examples of when you might use the Critical level:</span></span><br /><span data-ttu-id="c3cc4-124">-因為發生未處理的例外狀況，所以您的 AppDomain 已關閉。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-124">-   Your AppDomain went down because of an unhandled exception.</span></span><br /><span data-ttu-id="c3cc4-125">-您的應用程式無法啟動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-125">-   Your application fails to start.</span></span><br /><span data-ttu-id="c3cc4-126">-造成失敗的訊息源自進程 MyApp.exe。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-126">-   The message that caused the failure originated from the process MyApp.exe.</span></span>|
|<span data-ttu-id="c3cc4-127">錯誤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-127">Error</span></span>|<span data-ttu-id="c3cc4-128">-記錄所有例外狀況。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-128">-   Logs all exceptions.</span></span> <span data-ttu-id="c3cc4-129">您可以在下列情況使用「錯誤」層級：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-129">You can use the Error level in the following situations:</span></span><br /><span data-ttu-id="c3cc4-130">-因為轉換例外狀況無效，所以您的程式碼損毀。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-130">-   Your code crashed because of an Invalid Cast Exception.</span></span><br /><span data-ttu-id="c3cc4-131">-「無法建立端點」例外狀況會導致您的應用程式在啟動時失敗。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-131">-   A "failed to create endpoint" exception is causing your application to fail on startup.</span></span>|
|<span data-ttu-id="c3cc4-132">警告</span><span class="sxs-lookup"><span data-stu-id="c3cc4-132">Warning</span></span>|<span data-ttu-id="c3cc4-133">-存在可能會導致錯誤或嚴重失敗的狀況。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-133">-   A condition exists that may subsequently result in an error or critical failure.</span></span> <span data-ttu-id="c3cc4-134">您可以在下列情況使用這個層級：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-134">You can use this level in the following situations:</span></span><br /><span data-ttu-id="c3cc4-135">-應用程式收到的要求超過其節流設定所允許的數量。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-135">-   The application is receiving more requests than its throttling settings allows.</span></span><br /><span data-ttu-id="c3cc4-136">-接收的佇列是其設定容量的98%。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-136">-   The receiving queue is at 98 percent of its configured capacity.</span></span>|
|<span data-ttu-id="c3cc4-137">資訊</span><span class="sxs-lookup"><span data-stu-id="c3cc4-137">Information</span></span>|<span data-ttu-id="c3cc4-138">-會產生有助於監視和診斷系統狀態、測量效能或分析的訊息。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-138">-   Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.</span></span> <span data-ttu-id="c3cc4-139">您可以使用此類資訊來進行容量規劃與效能管理。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-139">You can utilize such information for capacity planning and performance management.</span></span> <span data-ttu-id="c3cc4-140">您可以在下列情況使用這個層級：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-140">You can use this level in the following situations:</span></span><br /><span data-ttu-id="c3cc4-141">-在訊息到達 AppDomain 並還原序列化之後發生失敗。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-141">-   A failure occurred after the message reached the AppDomain and was deserialized.</span></span><br /><span data-ttu-id="c3cc4-142">-建立 HTTP 系結時發生失敗。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-142">-   A failure occurred while the HTTP binding was being created.</span></span>|
|<span data-ttu-id="c3cc4-143">「詳細資訊」</span><span class="sxs-lookup"><span data-stu-id="c3cc4-143">Verbose</span></span>|<span data-ttu-id="c3cc4-144">-使用者程式碼和服務的調試層級追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-144">-   Debug-level tracing for both user code and servicing.</span></span> <span data-ttu-id="c3cc4-145">設定這個層級的時機：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-145">Set this level when:</span></span><br /><span data-ttu-id="c3cc4-146">-當發生失敗時，您不確定程式碼中的哪一個方法被呼叫。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-146">-   You are not sure which method in your code was called when the failure occurred.</span></span><br /><span data-ttu-id="c3cc4-147">-您設定的端點不正確，且服務無法啟動，因為保留存放區中的專案已鎖定。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-147">-   You have an incorrect endpoint configured and the service failed to start because the entry in the reservation store is locked.</span></span>|
|<span data-ttu-id="c3cc4-148">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="c3cc4-148">ActivityTracing</span></span>|<span data-ttu-id="c3cc4-149">介於處理活動與元件之間的流程事件。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-149">Flow events between processing activities and components.</span></span><br /><br /> <span data-ttu-id="c3cc4-150">這個層級可以讓系統管理員與開發人員相互關聯相同應用程式定義域中的多個應用程式。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-150">This level allows administrators and developers to correlate applications in the same application domain.</span></span><br /><br /> <span data-ttu-id="c3cc4-151">-活動界限的追蹤：啟動/停止。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-151">-   Traces for activity boundaries: start/stop.</span></span><br /><span data-ttu-id="c3cc4-152">-傳輸的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-152">-   Traces for transfers.</span></span>|

 <span data-ttu-id="c3cc4-153">您可以使用 `add` 來指定要使用的追蹤接聽項名稱與型別。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-153">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="c3cc4-154">在範例組態中，接聽項命名為 `sdt`，而標準 .NET Framework 追蹤接聽項 (`System.Diagnostics.XmlWriterTraceListener`) 會當成型別加入。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-154">In the example configuration, the Listener is named `sdt` and the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) is added as the type.</span></span> <span data-ttu-id="c3cc4-155">請使用 `initializeData` 來設定該接聽項的記錄檔名稱。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-155">Use `initializeData` to set the name of the log file for that Listener.</span></span> <span data-ttu-id="c3cc4-156">此外，您可以使用完整路徑來取代簡單檔名。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-156">In addition, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="c3cc4-157">從 .NET Framework 4.8 開始，某些高對比主題中的 ComboBox 控制項會以正確的色彩顯示。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-157">Starting in .NET Framework 4.8, ComboBox controls in some high contrast themes are displayed in the correct color.</span></span> <span data-ttu-id="c3cc4-158">您可以從*svcTraceViewer.exe.config*檔案中移除下列設定，以停用這項變更：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-158">You can disable this change by removing the following setting from the *svcTraceViewer.exe.config* file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false" />
```

## <a name="using-the-service-trace-viewer-tool"></a><span data-ttu-id="c3cc4-159">使用服務追蹤檢視器工具</span><span class="sxs-lookup"><span data-stu-id="c3cc4-159">Using the Service Trace Viewer Tool</span></span>

### <a name="opening-and-viewing-wcf-trace-files"></a><span data-ttu-id="c3cc4-160">開啟和檢視 WCF 追蹤檔案</span><span class="sxs-lookup"><span data-stu-id="c3cc4-160">Opening and Viewing WCF Trace Files</span></span>

<span data-ttu-id="c3cc4-161">服務追蹤檢視器支援三種檔案類型：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-161">The Service Trace Viewer supports three file types:</span></span>

- <span data-ttu-id="c3cc4-162">WCF 追蹤檔案（. .Svclog）</span><span class="sxs-lookup"><span data-stu-id="c3cc4-162">WCF Tracing File (.svcLog)</span></span>

- <span data-ttu-id="c3cc4-163">事件追蹤檔 (.etl)</span><span class="sxs-lookup"><span data-stu-id="c3cc4-163">Event Tracing File (.etl)</span></span>

- <span data-ttu-id="c3cc4-164">Crimson 追蹤檔</span><span class="sxs-lookup"><span data-stu-id="c3cc4-164">Crimson Tracing File</span></span>

 <span data-ttu-id="c3cc4-165">服務追蹤檢視器可讓您開啟所有支援的追蹤檔、新增並整合其他追蹤檔，或者同時開啟與合併一組追蹤檔。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-165">Service Trace Viewer enables you to open any supported trace file, add and integrate additional trace files, or open and merge a group of trace files simultaneously.</span></span>

##### <a name="to-open-a-trace-file"></a><span data-ttu-id="c3cc4-166">若要開啟追蹤檔案</span><span class="sxs-lookup"><span data-stu-id="c3cc4-166">To open a trace file</span></span>

1. <span data-ttu-id="c3cc4-167">使用命令視窗流覽至您的 WCF 安裝位置（C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin），然後輸入，以啟動服務追蹤檢視器 `SvcTraceViewer.exe` 。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-167">Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin), and then type `SvcTraceViewer.exe`.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-168">服務追蹤檢視器工具可以和兩種檔案類型產生關聯：.svclog 與 .stvproj。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-168">The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj.</span></span> <span data-ttu-id="c3cc4-169">您可以在命令列中使用兩個參數來註冊與取消註冊檔案的副檔名。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-169">You can use two parameters in command line to register and unregister the file extensions.</span></span>
>
> <span data-ttu-id="c3cc4-170">/register：註冊 ".svclog" 和 ".stvproj" 副檔名與 SvcTraceViewer.exe 之間的關聯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-170">/register: register the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>
>
> <span data-ttu-id="c3cc4-171">/unregister：移除註冊 ".svclog" 與 ".stvproj" 副檔名與 SvcTraceViewer.exe 之間的關聯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-171">/unregister: unregister the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>

1. <span data-ttu-id="c3cc4-172">當服務追蹤檢視器啟動時 **，按一下 [** 檔案]，然後指向 [**開啟**]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-172">When Service Trace Viewer starts, click **File** and then point to **Open**.</span></span> <span data-ttu-id="c3cc4-173">巡覽至您的追蹤檔案存放的位置。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-173">Navigate to the location where your trace files are stored.</span></span>

2. <span data-ttu-id="c3cc4-174">按兩下您要開啟的追蹤檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-174">Double-click the trace file that you want to open.</span></span>

    > [!NOTE]
    > <span data-ttu-id="c3cc4-175">按下 SHIFT 鍵並同時按一下多個追蹤檔案，以便同時選取並開啟多個檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-175">Press SHIFT while clicking multiple trace files to select and open them simultaneously.</span></span> <span data-ttu-id="c3cc4-176">服務追蹤檢視器會將所有檔案的內容合併為單一檢視。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-176">Service Trace Viewer merges the content of all files and presents one view.</span></span> <span data-ttu-id="c3cc4-177">例如，您可以同時開啟用戶端與服務的追蹤檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-177">For example, you can open trace files of both client and service.</span></span> <span data-ttu-id="c3cc4-178">當您在組態中啟用了訊息記錄與活動傳播時，這將會很有用。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-178">This is useful when you have enabled message logging and activity propagation in configuration.</span></span> <span data-ttu-id="c3cc4-179">這樣一來，您就可以檢查用戶端與服務之間的訊息交換。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-179">In this way, you can examine message exchange between client and service.</span></span> <span data-ttu-id="c3cc4-180">您也可以將多個檔案拖曳到檢視器中，或使用 [**專案**] 索引標籤。如需詳細資訊，請參閱管理專案一節。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-180">You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.</span></span>

3. <span data-ttu-id="c3cc4-181">若要將其他追蹤檔案新增至已開啟的集合，**請按一下 [** 檔案]，然後指向 [**新增**]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-181">To add additional trace files to the collection that is open, click **File** and then point to **Add**.</span></span> <span data-ttu-id="c3cc4-182">在開啟的視窗中，巡覽至追蹤檔的位置並按兩下您要新增的檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-182">In the window that opens, navigate to the location of the trace files and double-click the file you want to add.</span></span>

> [!CAUTION]
> <span data-ttu-id="c3cc4-183">不建議您載入大於 200MB 的追蹤記錄檔。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-183">It is not recommended that you load a trace log file bigger than 200MB.</span></span> <span data-ttu-id="c3cc4-184">如果嘗試載入大於這項限制的檔案，載入程序可能會花費很長的時間 (視您電腦的資源而定)。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-184">If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource.</span></span> <span data-ttu-id="c3cc4-185">服務追蹤檢視器工具不是造成需花費這麼長時間的原因，但它可能會耗盡電腦的記憶體。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-185">The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory.</span></span> <span data-ttu-id="c3cc4-186">建議您設定部分載入，以避免發生這種狀況。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-186">It is recommended that you configure partial loading to avoid this.</span></span> <span data-ttu-id="c3cc4-187">如需如何執行此作業的詳細資訊，請參閱「載入大型追蹤檔」一節。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-187">For more information on how to do this, see "Loading Large Trace Files" section.</span></span>

#### <a name="event-tracing-and-crimson-tracing"></a><span data-ttu-id="c3cc4-188">事件追蹤與 Crimson 追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-188">Event Tracing and Crimson Tracing</span></span>

<span data-ttu-id="c3cc4-189">檢視器的原生格式是 WCF 發出的活動追蹤格式。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-189">The viewer’s native format is the activity tracing format that WCF emits.</span></span> <span data-ttu-id="c3cc4-190">以不同格式發出的追蹤資料必須先經過轉換，才能透過檢視器加以顯示。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-190">Traces emitted in a different format must be converted before the viewer displays them.</span></span> <span data-ttu-id="c3cc4-191">除了活動追蹤格式之外，目前的檢視器還支援事件追蹤和 Crimson 追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-191">Currently, in addition to the activity tracing format, the viewer supports event tracing and crimson tracing.</span></span>

<span data-ttu-id="c3cc4-192">當您開啟不包含活動追蹤的檔案時，檢視器會嘗試轉換檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-192">When you open a file that does not contain activity traces, the viewer attempts to convert the file.</span></span> <span data-ttu-id="c3cc4-193">您必須指定將包含已轉換追蹤資料之檔案的名稱與位置。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-193">You must specify the name and location of the file that will contain the converted trace data.</span></span> <span data-ttu-id="c3cc4-194">一旦資料轉換完畢，檢視器就會顯示新檔案的內容。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-194">Once the data has been converted, the viewer displays the content of the new file.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-195">轉換時需要使用磁碟空間來儲存轉換的追蹤資料。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-195">Conversion requires disk space to store the converted trace data.</span></span> <span data-ttu-id="c3cc4-196">在開始轉換之前，請先確定您擁有足夠的磁碟空間來儲存資料。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-196">Make sure you have enough disk space available to store the data before you start a conversion.</span></span> <span data-ttu-id="c3cc4-197">否則，轉換會失敗。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-197">Otherwise, the conversion fails.</span></span>

### <a name="managing-projects"></a><span data-ttu-id="c3cc4-198">管理專案</span><span class="sxs-lookup"><span data-stu-id="c3cc4-198">Managing Projects</span></span>

<span data-ttu-id="c3cc4-199">檢視器支援專案以協助檢視多個追蹤檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-199">The viewer supports projects to facilitate viewing multiple trace files.</span></span> <span data-ttu-id="c3cc4-200">例如，如果您擁有一個用戶端追蹤檔與一個服務追蹤檔，則您可以將它們新增至專案中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-200">For example, if you have a client trace file and a service trace file, you can add them to a project.</span></span> <span data-ttu-id="c3cc4-201">之後，每次當您開啟專案時，就會同時載入專案中的所有追蹤檔。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-201">Then, every time you open the project, all the trace files in the project are loaded simultaneously.</span></span>

<span data-ttu-id="c3cc4-202">有兩種方式管理專案：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-202">There are two ways to manage projects:</span></span>

- <span data-ttu-id="c3cc4-203">**在 [檔案**] 功能表中，您可以開啟、儲存和關閉專案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-203">In the **File** menu, you can open, save and close projects.</span></span>

- <span data-ttu-id="c3cc4-204">在 [**專案**] 索引標籤中，您可以將檔案加入至專案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-204">In the **Project** tab, you can add files to a project.</span></span>

### <a name="viewing-wcf-traces"></a><span data-ttu-id="c3cc4-205">檢視 WCF 追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-205">Viewing WCF Traces</span></span>

<span data-ttu-id="c3cc4-206">WCF 會使用活動追蹤格式來發出追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-206">WCF emits traces using the activity tracing format.</span></span> <span data-ttu-id="c3cc4-207">在活動追蹤模型中，個別追蹤會依其用途分為不同的活動群組。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-207">In the activity tracing model, individual traces are grouped in activities according to their purpose.</span></span> <span data-ttu-id="c3cc4-208">邏輯控制流程會在活動之間傳輸。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-208">Logical control flow is transferred between activities.</span></span> <span data-ttu-id="c3cc4-209">例如，在應用程式的存留期內，會出現許多「訊息傳送活動」然後消失。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-209">For example, during the lifetime of an application, many "message send activities" appear and disappear.</span></span> <span data-ttu-id="c3cc4-210">如需有關查看追蹤和活動以及服務追蹤檢視器之使用者介面的詳細資訊，請參閱[使用服務追蹤檢視器來查看相互關聯的追蹤和疑難排解](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-210">For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span></span>

#### <a name="switching-to-different-views"></a><span data-ttu-id="c3cc4-211">切換至不同的檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-211">Switching to Different Views</span></span>

<span data-ttu-id="c3cc4-212">服務追蹤檢視器可提供不同的檢視，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-212">The Service Trace Viewer provides the following different views.</span></span> <span data-ttu-id="c3cc4-213">它們會在檢視器的左窗格中顯示為索引標籤，也可以從 [ **View** ] 功能表存取。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-213">They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the **View** menu.</span></span>

- <span data-ttu-id="c3cc4-214">活動檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-214">Activity View</span></span>

- <span data-ttu-id="c3cc4-215">專案檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-215">Project View</span></span>

- <span data-ttu-id="c3cc4-216">訊息檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-216">Message View</span></span>

- <span data-ttu-id="c3cc4-217">圖形檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-217">Graph View</span></span>

##### <a name="activity-view"></a><span data-ttu-id="c3cc4-218">活動檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-218">Activity view</span></span>

<span data-ttu-id="c3cc4-219">開啟追蹤檔案之後，您可以看到群組為活動的追蹤，並顯示在左側窗格的 [**活動**] 視圖中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-219">Once the trace files are opened, you can see the traces grouped into activities and displayed in the **Activity** view in the left-hand pane.</span></span>

<span data-ttu-id="c3cc4-220">[**活動**] 視圖會顯示活動名稱、活動中的追蹤數目、持續時間、開始時間和結束時間。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-220">The **Activity** view displays activity names, number of traces in the activity, duration time, start time and end time.</span></span>

<span data-ttu-id="c3cc4-221">只要按一下任何一項列出的活動，此活動的追蹤就會顯示在右側的追蹤窗格中，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-221">By clicking any of the listed activities, the traces in this activity are displayed in the trace pane on the right.</span></span> <span data-ttu-id="c3cc4-222">然後您可以選取追蹤以檢視其詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-222">You can then select a trace to view its details.</span></span>

<span data-ttu-id="c3cc4-223">您可以藉由按下**Ctrl**或**Shift**鍵，然後按一下所需的活動，來選取多個活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-223">You can select multiple activities by pressing the **Ctrl** or **Shift** key and clicking the desired activities.</span></span> <span data-ttu-id="c3cc4-224">追蹤窗格會顯示選取之活動的所有追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-224">The trace pane displays all the traces of the selected activities.</span></span>

<span data-ttu-id="c3cc4-225">您可以按兩下活動，將其顯示在**圖表**視圖中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-225">You can double-click an activity to display it in **Graph** View.</span></span> <span data-ttu-id="c3cc4-226">另一種方式是選取活動並切換至**圖表**視圖。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-226">The alternative way is to select an activity and switch to **Graph** View.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-227">活動 "000000000000" 是無法在圖形視圖中顯示的特殊活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-227">The activity "000000000000" is a special activity that cannot be displayed in the Graph View.</span></span> <span data-ttu-id="c3cc4-228">由於其他所有活動皆連結至這個活動，所以如果顯示這個活動，將對效能產生嚴重的影響。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-228">Because all other activities are linked to it, displaying this activity has a severe performance impact.</span></span>

<span data-ttu-id="c3cc4-229">您可以按一下資料行標題，將活動清單排序。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-229">You can click the column title to sort the activity list.</span></span> <span data-ttu-id="c3cc4-230">包含警告追蹤的活動背景為黃色，而包含錯誤追蹤的活動背景則為紅色。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-230">Activities that contain warning traces have a yellow background and those that contain error traces have a red one.</span></span>

<span data-ttu-id="c3cc4-231">活動的類型各有不同，而每種類型都會對應至每個活動左側的某個圖示。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-231">There are different types of activities and each type corresponds to an icon on the left side of each activity.</span></span> <span data-ttu-id="c3cc4-232">如需這些圖示的意義，請參閱「了解追蹤圖示」一節。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-232">You can refer to the Understanding Trace Icons section for their meaning.</span></span>

##### <a name="project-view"></a><span data-ttu-id="c3cc4-233">專案檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-233">Project View</span></span>

<span data-ttu-id="c3cc4-234">這個檢視可讓您管理目前專案中的追蹤檔案。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-234">This view enables you to manage trace files in the current project.</span></span> <span data-ttu-id="c3cc4-235">如需詳細資訊，請參閱＜管理專案＞一節。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-235">See the Managing Project section for more details.</span></span>

##### <a name="message-view"></a><span data-ttu-id="c3cc4-236">訊息檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-236">Message View</span></span>

<span data-ttu-id="c3cc4-237">這個視圖可讓您查看所有的訊息記錄追蹤，包括動作、日期/時間、處理常式、活動和 From/To，以及流覽至相關聯訊息記錄追蹤的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-237">This view enables you to view all message log traces, including Action, Date/Time, Process, Acivity and From/To, and navigate to the details of the associated message log trace.</span></span> <span data-ttu-id="c3cc4-238">您可以依據活動界限、進程/執行緒或傳送 & 接收來分組訊息記錄追蹤，以便更輕鬆地流覽訊息流程。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-238">You can group the message log traces by Activity Boundary, Process/Thread, or Send & Receive for easier navigation of the message flow.</span></span>

##### <a name="graph-view"></a><span data-ttu-id="c3cc4-239">圖形檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-239">Graph View</span></span>

<span data-ttu-id="c3cc4-240">此視圖會以圖表形式顯示給定活動的追蹤資料。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-240">This view displays the trace data for a given activity in chart form.</span></span> <span data-ttu-id="c3cc4-241">圖表格式可讓您看見事件以階段的方式執行，以及當資料在多個活動之間移動時，這些活動之間的關係。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-241">The chart form enables you to see the stepwise execution of events and the interrelationships between multiple activities as data moves between them.</span></span>

<span data-ttu-id="c3cc4-242">若要切換至**圖形**視圖，請在 [**活動**] 視圖中選取活動，然後按一下 [**活動**] 索引標籤，或**訊息**視圖中的訊息記錄追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-242">To switch to **Graph** view, select an activity in the **Activity** view and click the **Activity** tab, or a message log trace in the **Message** View.</span></span> <span data-ttu-id="c3cc4-243">如果載入了多個追蹤檔案，而且活動涉及來自一個檔案以上的追蹤，則圖形檢視會顯示所有相關的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-243">If multiple trace files are loaded and the activity involves traces from more than one file, all of the relevant traces appear in the graph view.</span></span> <span data-ttu-id="c3cc4-244">按兩下 [活動] 和 [訊息記錄檔追蹤] 也會引導您前往**圖表**視圖。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-244">Double-clicking on the activities and message log traces also leads you to the **Graph** view.</span></span>

<span data-ttu-id="c3cc4-245">在**圖表**視圖中，每個垂直資料行都代表一個活動，而資料行中的每個區塊都代表一個追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-245">In **Graph** view, each vertical column represents an activity, and each block in the column represents a trace.</span></span> <span data-ttu-id="c3cc4-246">所有活動會依處理序 (或執行緒) 分組。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-246">The activities are grouped by process (or thread).</span></span> <span data-ttu-id="c3cc4-247">活動之間的小箭頭代表傳輸，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-247">The small arrows between activities represent transfers.</span></span> <span data-ttu-id="c3cc4-248">處理序之間的大箭頭則代表訊息交換。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-248">The big arrows between processes represent message exchange.</span></span> <span data-ttu-id="c3cc4-249">選取的活動一律會以黃色表示。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-249">The activity in selection is always in yellow.</span></span>

###### <a name="selecting-traces-in-the-graph"></a><span data-ttu-id="c3cc4-250">選取圖形中的追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-250">Selecting Traces in the Graph</span></span>

1. <span data-ttu-id="c3cc4-251">按一下圖形中的區塊。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-251">Click a block in the graph.</span></span>

2. <span data-ttu-id="c3cc4-252">使用向上與向下鍵來選取相鄰的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-252">Use the up and down keys to select its neighboring traces.</span></span>

3. <span data-ttu-id="c3cc4-253">觀察 [追蹤窗格] 與 [詳細資料窗格] 中的追蹤資訊。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-253">Observe the trace information in the Trace Pane and Detail Pane.</span></span>

###### <a name="expanding-or-collapsing-activity-transfers"></a><span data-ttu-id="c3cc4-254">展開或摺疊活動傳輸</span><span class="sxs-lookup"><span data-stu-id="c3cc4-254">Expanding or Collapsing Activity Transfers</span></span>

<span data-ttu-id="c3cc4-255">當選取的活動向外傳輸至另一個活動中時，您可以展開活動傳輸，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-255">You can expand activity transfers when the activity in selection transfers out to another activity.</span></span> <span data-ttu-id="c3cc4-256">這可讓您追蹤傳輸。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-256">It enables you to follow the transfers.</span></span>

<span data-ttu-id="c3cc4-257">若要展開或摺疊活動傳輸，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-257">To expand or collapse activity transfers,</span></span>

1. <span data-ttu-id="c3cc4-258">使用傳輸圖示左邊的 "+" 符號來尋找傳輸追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-258">Locate the transfer trace with a "+" sign on the left of the transfer icon.</span></span>

2. <span data-ttu-id="c3cc4-259">按一下 [+]，或按**Ctrl**鍵和 "+" （使用鍵盤）。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-259">Click the "+", or press **Ctrl** and "+" using the keyboard.</span></span>

3. <span data-ttu-id="c3cc4-260">下一個活動隨即會出現在圖形中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-260">The next activity appears in the graph.</span></span>

4. <span data-ttu-id="c3cc4-261">[-] 會出現在傳輸圖示的左邊。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-261">A "-" appears on the left of the transfer icon.</span></span> <span data-ttu-id="c3cc4-262">按一下 [-] 符號，或按 Ctrl 和 "-"，活動傳輸會折迭。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-262">Click the "-" sign or press Ctrl and "-", the activity transfer collapses.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-263">當多個傳輸進入某個活動，而且您展開其中一個傳輸，則會顯示從根活動到新活動之間的所有活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-263">When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed.</span></span> <span data-ttu-id="c3cc4-264">這些新的活動會以摺疊形式顯示。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-264">These new activities appear in collapsed form.</span></span> <span data-ttu-id="c3cc4-265">如果您想要查看這些活動的詳細資料，可以按一下圖形標頭的展開圖示，垂直展開這些活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-265">If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.</span></span>

###### <a name="expanding-or-collapsing-activities-vertically"></a><span data-ttu-id="c3cc4-266">垂直展開或摺疊活動</span><span class="sxs-lookup"><span data-stu-id="c3cc4-266">Expanding or Collapsing Activities Vertically</span></span>

<span data-ttu-id="c3cc4-267">檢視器會藉由摺疊活動來隱藏活動圖形中不必要的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-267">The viewer hides unnecessary detail in the activity graph by collapsing activities.</span></span> <span data-ttu-id="c3cc4-268">在摺疊的活動中，不會顯示個別的追蹤，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-268">In a collapsed activity, individual traces are not displayed.</span></span> <span data-ttu-id="c3cc4-269">只會顯示傳輸追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-269">Only transfers trace appear.</span></span> <span data-ttu-id="c3cc4-270">如果您想要檢視活動中的所有追蹤，可以按一下圖形標題的活動展開符號，垂直展開活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-270">If you want to view all traces in an activity, expand the activity vertically by clicking the expand symbol of the activity in the header of the graph.</span></span>

<span data-ttu-id="c3cc4-271">若要垂直展開或摺疊活動，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-271">To expand or collapse activities vertically,</span></span>

1. <span data-ttu-id="c3cc4-272">按一下活動標頭中的 [+] 圖示，以垂直方式展開活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-272">Click the "+" icon in the activity header to expand the activity vertically.</span></span>

2. <span data-ttu-id="c3cc4-273">請注意，圖形會顯示所有的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-273">Notice that all traces are displayed in the graph.</span></span>

3. <span data-ttu-id="c3cc4-274">按一下活動標頭中的 [-] 圖示，垂直折迭活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-274">Click the "-" icon in the activity header to collapse the activity vertically.</span></span>

4. <span data-ttu-id="c3cc4-275">請注意，活動中只會顯示重要的傳輸、訊息記錄、警告與例外狀況追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-275">Notice that only important transfers, message logs, warning and exception traces are shown in the activity.</span></span>

###### <a name="options"></a><span data-ttu-id="c3cc4-276">選項。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-276">Options</span></span>

<span data-ttu-id="c3cc4-277">您可以從 [圖形視圖] 的 [**選項**] 功能表中選取兩個選項。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-277">You can select two options from the **Option** menu in Graph view.</span></span>

- <span data-ttu-id="c3cc4-278">顯示活動界限追蹤：取消核取此選項時，即可忽略圖形中的活動界限追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-278">Show Activity Boundary Traces, which when unchecked ignore the activity boundary traces in the graph.</span></span>

- <span data-ttu-id="c3cc4-279">顯示非訊息詳細資訊追蹤：取消核取此選項時，即可忽略詳細資訊層級追蹤 (訊息追蹤除外)。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-279">Show Non-message Verbose Traces, which when unchecked ignore verbose level traces, except for message traces.</span></span> <span data-ttu-id="c3cc4-280">在大多數情況下，詳細資訊層級追蹤的分析比較不重要。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-280">In most cases, verbose level traces are less important for analysis.</span></span> <span data-ttu-id="c3cc4-281">當您不想要分析詳細資訊層級追蹤，只想要專注在更重要的追蹤時，這個選項就會很有用。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-281">This option is helpful when you do not want to analyze verbose level traces and only want to focus on more important traces.</span></span>

###### <a name="layout-mode"></a><span data-ttu-id="c3cc4-282">配置模式</span><span class="sxs-lookup"><span data-stu-id="c3cc4-282">Layout Mode</span></span>

<span data-ttu-id="c3cc4-283">檢視器有兩種配置模式： [**處理**] 和 [**執行緒**]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-283">The viewer has two Layout Modes: **Process** and **Thread**.</span></span> <span data-ttu-id="c3cc4-284">這個設定會定義最大的組織單元。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-284">This setting defines the largest unit of organization.</span></span> <span data-ttu-id="c3cc4-285">預設的版面配置模式為 [**進程**]，表示活動會依圖表中的進程分組。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-285">The default Layout Mode is **Process**, which means that activities are grouped by processes in the graph.</span></span>

###### <a name="execution-list"></a><span data-ttu-id="c3cc4-286">執行清單</span><span class="sxs-lookup"><span data-stu-id="c3cc4-286">Execution List</span></span>

<span data-ttu-id="c3cc4-287">您可以從這個下拉式清單選取要顯示在圖形中的處理序或執行緒。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-287">You can select which process or thread to be displayed in the graph from this drop-down list.</span></span> <span data-ttu-id="c3cc4-288">例如，如果您有兩個用戶端 (A 與 B) 的追蹤檔，並且開啟了一個服務，但只想要在圖形中顯示服務與用戶端 A，則可以取消選取清單中的用戶端 B。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-288">For example, if you have the trace files of two clients (A and B) and one service opened, and you only want to display the service and client A in the graph, you can deselect client B from the list.</span></span>

#### <a name="viewing-trace-details"></a><span data-ttu-id="c3cc4-289">檢視追蹤詳細資料</span><span class="sxs-lookup"><span data-stu-id="c3cc4-289">Viewing Trace Details</span></span>

<span data-ttu-id="c3cc4-290">若要檢視追蹤詳細資料，請在 [追蹤] 窗格中選取一項追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-290">To view a trace detail, select a trace in the Trace pane.</span></span> <span data-ttu-id="c3cc4-291">詳細資料會顯示在 [詳細資料] 窗格中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-291">The details are displayed in the Detail pane.</span></span>

##### <a name="trace-pane"></a><span data-ttu-id="c3cc4-292">追蹤窗格</span><span class="sxs-lookup"><span data-stu-id="c3cc4-292">Trace Pane</span></span>

<span data-ttu-id="c3cc4-293">[追蹤窗格] 位於服務追蹤檢視器的右上角，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-293">The upper right pane in the Service Trace Viewer is the Trace Pane.</span></span> <span data-ttu-id="c3cc4-294">這個窗格會列出選取之活動中的所有追蹤，並且列出追蹤層級、執行緒 ID、處理序名稱等額外的資訊。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-294">It lists all the traces in the selected activity with extra information, for example, trace level, thread ID, and process name.</span></span>

<span data-ttu-id="c3cc4-295">您可以用滑鼠右鍵按一下追蹤並選取 [**將追蹤複製到剪貼**簿]，將追蹤的原始 XML 複製到剪貼簿。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-295">You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting **Copy Trace to Clipboard**.</span></span>

##### <a name="detail-pane"></a><span data-ttu-id="c3cc4-296">詳細資料窗格</span><span class="sxs-lookup"><span data-stu-id="c3cc4-296">Detail Pane</span></span>

<span data-ttu-id="c3cc4-297">[詳細資料窗格] 位於服務追蹤檢視器的左下角，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-297">The bottom left pane in the Service Trace Viewer is the Detail Pane.</span></span> <span data-ttu-id="c3cc4-298">這個窗格提供三個用來檢視追蹤詳細資料的索引標籤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-298">It provides three tabs to view trace details.</span></span>

<span data-ttu-id="c3cc4-299">**格式化**的視圖會以更有條理的方式顯示資訊。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-299">The **Formatted** view displays the information in a more organized way.</span></span> <span data-ttu-id="c3cc4-300">這種檢閱會在表格和樹狀目錄中列出所有已知的 XML 項目，讓這些資訊更容易閱讀與了解。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-300">It lists all known XML elements in tables and trees, making it easier to read and understand the information.</span></span>

<span data-ttu-id="c3cc4-301">**Xml**視圖會顯示對應于所選追蹤的 xml。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-301">The **XML** view displays XML corresponding to the selected trace.</span></span> <span data-ttu-id="c3cc4-302">這種檢視支援反白顯示功能與語法色彩。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-302">It supports highlighting and syntax color.</span></span> <span data-ttu-id="c3cc4-303">當您使用 [**尋找**] 搜尋字串時，它會反白顯示搜尋結果。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-303">When you use **Find** to search strings, it highlights the search results.</span></span>

<span data-ttu-id="c3cc4-304">**訊息**視圖會顯示訊息記錄檔追蹤中 XML 的訊息部分。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-304">The **Message** view displays the message part of the XML in message log traces.</span></span> <span data-ttu-id="c3cc4-305">當您選取非訊息追蹤時，這種檢視就不會出現。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-305">It is invisible when you select a non-message trace.</span></span>

### <a name="filtering-wcf-traces"></a><span data-ttu-id="c3cc4-306">篩選 WCF 追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-306">Filtering WCF Traces</span></span>

<span data-ttu-id="c3cc4-307">為了更輕鬆地分析追蹤，您可以使用下列方式來篩選：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-307">To make the analysis of trace easier, you can filter them in the following ways:</span></span>

- <span data-ttu-id="c3cc4-308">篩選器工具列可讓您存取預先定義和自訂的篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-308">The filter toolbar provides access to pre-defined and custom filters.</span></span> <span data-ttu-id="c3cc4-309">您可以透過 [ **View** ] 功能表來啟用它。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-309">It can be enabled through the **View** menu.</span></span>

- <span data-ttu-id="c3cc4-310">您可以使用檢視器預先定義的篩選器，選擇性地篩選 WCF 追蹤的各個部分。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-310">The pre-defined filter of the viewer can be used to selectively filter parts of the WCF traces.</span></span> <span data-ttu-id="c3cc4-311">根據預設，這個篩選器會允許所有的基礎結構追蹤通過。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-311">By default, it is set to allow all infrastructure traces to pass through.</span></span> <span data-ttu-id="c3cc4-312">此篩選器的設定是在 [**流覽**] 功能表底下的 [**篩選選項**] 子功能表中定義。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-312">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

- <span data-ttu-id="c3cc4-313">[自訂 XPath] 篩選器可讓使用者完整控制整個篩選過程。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-313">Custom XPath filters give users full control over filtering.</span></span> <span data-ttu-id="c3cc4-314">您可以在 [**流覽**] 功能表底下的**自訂篩選器**中定義它們。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-314">They can be defined in the **Custom Filter** under **View** menu.</span></span>

<span data-ttu-id="c3cc4-315">只有通過所有篩選器的追蹤資料會顯示出來。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-315">Only traces that passes through all filters is displayed.</span></span>

#### <a name="using-the-filter-toolbar"></a><span data-ttu-id="c3cc4-316">使用篩選器工具列</span><span class="sxs-lookup"><span data-stu-id="c3cc4-316">Using the Filter Toolbar</span></span>

<span data-ttu-id="c3cc4-317">篩選器工具列會出現在工具的上方。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-317">The filter toolbar appears across the top of the tool.</span></span> <span data-ttu-id="c3cc4-318">如果不存在，您可以在 [ **View** ] 功能表中啟動它。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-318">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="c3cc4-319">工具列內含三個元件：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-319">The bar has three components:</span></span>

- <span data-ttu-id="c3cc4-320">尋找： [**尋找**] 會定義要在篩選作業中尋找的主旨。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-320">Look for: **Look for** defines the subject to look for in the filter operation.</span></span> <span data-ttu-id="c3cc4-321">例如，如果您想要尋找在進程 X 內容中發出的所有追蹤，請將此欄位設定為 X，並將 [**搜尋**輸入] 欄位設為 [進程名稱]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-321">For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the **Search In** field to ‘Process Name’.</span></span> <span data-ttu-id="c3cc4-322">當您選取了以時間為基礎的篩選器時，這個欄位就會變更為 DateTime 選取器控制項。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-322">This field changes to a DateTime selector control when a time-based filter is selected.</span></span>

- <span data-ttu-id="c3cc4-323">搜尋：這個欄位會定義要套用的篩選器型別。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-323">Search in: This field defines the type of filter to apply.</span></span>

- <span data-ttu-id="c3cc4-324">層級：層級設定定義了篩選器所允許的最小追蹤層級。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-324">Level: The level setting defines the minimum trace level allowed by the filter.</span></span> <span data-ttu-id="c3cc4-325">例如，如果層級設為 [錯誤與更高層級]，則只會顯示 [錯誤] 與 [嚴重] 層級的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-325">For example, if the level is set to Error and Up, only traces at the Error and critical level are displayed.</span></span> <span data-ttu-id="c3cc4-326">這個篩選器會結合 [尋找目標] 與 [搜尋] 指定的準則。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-326">This filter combines with the criteria specified by Look For and Search In.</span></span>

<span data-ttu-id="c3cc4-327">[**立即篩選**] 按鈕會啟動篩選作業。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-327">The **Filter Now** button starts the filter operation.</span></span> <span data-ttu-id="c3cc4-328">有一些篩選器，特別是當它們套用到大型資料集時，會花較長的時間來完成。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-328">Some filters, especially when they are applied to a large data set, take a long time to complete.</span></span> <span data-ttu-id="c3cc4-329">您可以按下 [**作業**] 功能表底下狀態列中的 [**停止**] 按鈕來取消篩選作業。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-329">You can cancel the filter operation by pressing the **Stop** button that appears in the status bar under the **Operations** menu.</span></span>

<span data-ttu-id="c3cc4-330">[**清除**] 按鈕會重設預先定義和自訂篩選準則，以允許所有追蹤通過。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-330">The **Clear** button resets pre-defined and custom filters to allow all traces to pass through.</span></span>

#### <a name="filter-options"></a><span data-ttu-id="c3cc4-331">篩選選項：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-331">Filter Options</span></span>

<span data-ttu-id="c3cc4-332">檢視器會自訂移除檢視中的 WCF 追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-332">The viewer can automatically remove WCF traces from the view.</span></span> <span data-ttu-id="c3cc4-333">它會選擇性地移除由 WCF 特定區域所發出的追蹤，例如，從檢視中移除與交易相關的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-333">It can selectively remove traces emitted by specific areas of WCF, for example, removing transaction related traces from the view.</span></span>

<span data-ttu-id="c3cc4-334">此篩選器的設定是在 [**流覽**] 功能表底下的 [**篩選選項**] 子功能表中定義。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-334">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

#### <a name="custom-filters"></a><span data-ttu-id="c3cc4-335">自訂篩選器</span><span class="sxs-lookup"><span data-stu-id="c3cc4-335">Custom Filters</span></span>

<span data-ttu-id="c3cc4-336">如果您很熟悉 XML 路徑語言 (XPath)，可以使用它來建構自訂篩選器，以便在追蹤資料中搜尋任何您感興趣的 XML 項目。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-336">If you are familiar with the XML Path Language (XPath), you can use it to construct custom filters to search the trace data for any XML element of interest.</span></span> <span data-ttu-id="c3cc4-337">這些篩選器都可以透過篩選器工具列加以存取。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-337">The filters are accessible through the filter toolbar.</span></span>

<span data-ttu-id="c3cc4-338">自訂篩選器可包含一些參數。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-338">Custom filters can include parameters.</span></span> <span data-ttu-id="c3cc4-339">您也可以匯入預先存在的自訂篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-339">You can also import pre-existing custom filters.</span></span>

##### <a name="creating-a-custom-filter"></a><span data-ttu-id="c3cc4-340">建立自訂篩選器</span><span class="sxs-lookup"><span data-stu-id="c3cc4-340">Creating a custom filter</span></span>

<span data-ttu-id="c3cc4-341">您可以用兩種方式來建立篩選器：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-341">Filters can be created in two ways:</span></span>

###### <a name="creating-a-custom-filter-using-the-template-wizard"></a><span data-ttu-id="c3cc4-342">使用範本精靈來建立自訂篩選器</span><span class="sxs-lookup"><span data-stu-id="c3cc4-342">Creating a Custom Filter using the Template Wizard</span></span>

<span data-ttu-id="c3cc4-343">您可以按一下現有的追蹤，依據追蹤結構來建立篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-343">You can click an existing trace and create a filter based on the structure of the trace.</span></span> <span data-ttu-id="c3cc4-344">此範例將以執行緒 ID 為基礎建立一個自訂篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-344">This example creates a custom filter based on thread ID.</span></span>

1. <span data-ttu-id="c3cc4-345">在檢視器右上方的追蹤窗格中，選取一個包含您要篩選之項目的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-345">In the trace pane in the top right area of the viewer, select a trace that includes the element you want to filter for.</span></span>

2. <span data-ttu-id="c3cc4-346">按一下位於 [追蹤] 窗格頂端的 [**建立自訂篩選**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-346">Click the **Create Custom Filter** button located at the top of the trace pane.</span></span>

3. <span data-ttu-id="c3cc4-347">在隨即出現的對話方塊中，輸入篩選器名稱。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-347">In the dialog box that appears, enter a name for your filter.</span></span> <span data-ttu-id="c3cc4-348">在此範例中，請輸入 `Thread ID` 。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-348">In this example, enter `Thread ID`.</span></span> <span data-ttu-id="c3cc4-349">您也可以為自己的篩選器提供說明。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-349">You can also provide a description of your filter.</span></span>

4. <span data-ttu-id="c3cc4-350">左側的樹狀檢閱顯示了您在步驟 1 所選取的追蹤記錄的結構。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-350">The tree view on the left displays the structure of the trace record you selected in step 1.</span></span> <span data-ttu-id="c3cc4-351">請瀏覽至您要建立相關條件的項目。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-351">Browse to the element you want to create a condition for.</span></span> <span data-ttu-id="c3cc4-352">在此範例中，流覽至要位於 XPath：節點中的 ThreadID /E2ETraceEvent/System/Execution/@ThreadID 。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-352">In this example, browse to the ThreadID to be located in the XPath: /E2ETraceEvent/System/Execution/@ThreadID node.</span></span> <span data-ttu-id="c3cc4-353">按兩下樹狀檢視中的 [ThreadID] 屬性。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-353">Double-click the ThreadID attribute in the tree view.</span></span> <span data-ttu-id="c3cc4-354">這樣可在對話方塊右側建立屬性的運算式。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-354">This creates an expression for the attribute on the right of the dialog.</span></span>

5. <span data-ttu-id="c3cc4-355">將 ThreadID 條件的參數欄位從 None 變更為 ' {0} '。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-355">Change the parameter field for the ThreadID condition from None to ‘{0}’.</span></span> <span data-ttu-id="c3cc4-356">此步驟會在套用篩選器時，讓您設定 [ThreadID] 值 </span><span class="sxs-lookup"><span data-stu-id="c3cc4-356">This step enables the ThreadID value to be configured when the filter is applied.</span></span> <span data-ttu-id="c3cc4-357">(請參閱「如何套用篩選器」一節)。您最多可以定義四個參數。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-357">(See the How to Apply a Filter section) You can define up to four parameters.</span></span> <span data-ttu-id="c3cc4-358">所有條件將由 OR 運算子結合在一起。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-358">Conditions are combined using the OR operator.</span></span>

6. <span data-ttu-id="c3cc4-359">按一下 **[確定]** 以建立篩選準則。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-359">Click **Ok** to create the filter.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-360">使用範本精靈建立篩選器之後，您就只能手動進行編輯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-360">Once a filter has been created using the template wizard, it can only be edited manually.</span></span> <span data-ttu-id="c3cc4-361">您無法針對先前已經建立的篩選器啟動精靈。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-361">It is not possible to activate the wizard for a filter that has been created previously.</span></span> <span data-ttu-id="c3cc4-362">此外，在範本精靈內建立的所有 XPath 篩選條件會透過 OR 運算子結合在一起。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-362">In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator.</span></span> <span data-ttu-id="c3cc4-363">如果您需要用到 AND 運算，可以在建立好篩選器之後，編輯篩選器運算式。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-363">If you require an AND operation, you can edit the filter expression after it has been created.</span></span>

###### <a name="creating-a-custom-filter-manually"></a><span data-ttu-id="c3cc4-364">手動建立自訂篩選器</span><span class="sxs-lookup"><span data-stu-id="c3cc4-364">Creating a Custom Filter Manually</span></span>

<span data-ttu-id="c3cc4-365">[自訂篩選] 功能表可讓您手動輸入 XPath 篩選條件。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-365">The Custom Filters menu allows you to enter XPath filters manually.</span></span>

1. <span data-ttu-id="c3cc4-366">在 [View] 功能表中，按一下 [**自訂篩選**] 功能表項目。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-366">In the View menu, click the **Custom Filters** menu item.</span></span>

2. <span data-ttu-id="c3cc4-367">在出現的對話方塊中，按一下 [**新增]。**</span><span class="sxs-lookup"><span data-stu-id="c3cc4-367">In the dialog that appears, click **New.**</span></span>

3. <span data-ttu-id="c3cc4-368">請至少指定一個篩選器名稱與 XPath 運算式。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-368">At the minimum, specify a Filter Name and XPath expression.</span></span>

4. <span data-ttu-id="c3cc4-369">按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-369">Click **OK**.</span></span>

###### <a name="applying-a-custom-filter"></a><span data-ttu-id="c3cc4-370">套用自訂篩選器</span><span class="sxs-lookup"><span data-stu-id="c3cc4-370">Applying a Custom Filter</span></span>

<span data-ttu-id="c3cc4-371">建立自訂篩選器後，可透過篩選器工具列存取自訂篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-371">Once a custom filter has been created, it is accessible though the filter toolbar.</span></span> <span data-ttu-id="c3cc4-372">在 [篩選器] 工具列的 [**搜尋于**] 欄位中，選取您要套用的篩選準則。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-372">Select the filter you want to apply in the **Search In** field of the filter toolbar.</span></span> <span data-ttu-id="c3cc4-373">針對先前的範例選取 [Thread ID]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-373">For the previous example, select ‘Thread ID’.</span></span>

1. <span data-ttu-id="c3cc4-374">在 [**尋找目標**] 欄位中，指定您要尋找的值。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-374">Specify the value you are looking for in the **Find What** field.</span></span> <span data-ttu-id="c3cc4-375">在此範例中，輸入您要搜尋的執行緒 ID。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-375">In our example, enter the ID of the thread you want to search for.</span></span>

2. <span data-ttu-id="c3cc4-376">按一下 [**立即篩選**]，並觀察作業的結果。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-376">Click **Filter Now**, and observe the result of the operation.</span></span>

<span data-ttu-id="c3cc4-377">如果您的篩選器使用多個參數，請在 [**尋找目標**] 欄位中使用 '; ' 做為分隔符號來輸入它們。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-377">If your filter uses multiple parameters, enter them using ‘;’ as a separator in the **Find What** field.</span></span> <span data-ttu-id="c3cc4-378">例如，下列字串定義了 3 個參數：‘1;findValue;text’。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-378">For example, the following string defines 3 parameters: ‘1;findValue;text’.</span></span> <span data-ttu-id="c3cc4-379">檢視器會將 ' 1 ' 套用至 {0} 篩選準則的參數。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-379">The viewer applies ‘1’ to the {0} parameter of the filter.</span></span> <span data-ttu-id="c3cc4-380">' findValue ' 和 ' text ' 會分別套用至 {1} 和 {2} 。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-380">‘findValue’ and ‘text’ are applied to {1} and {2} respectively.</span></span>

###### <a name="sharing-custom-filters"></a><span data-ttu-id="c3cc4-381">共用自訂篩選器</span><span class="sxs-lookup"><span data-stu-id="c3cc4-381">Sharing custom Filters</span></span>

<span data-ttu-id="c3cc4-382">您可以在不同的工作階段和不同的使用者之間共用自訂篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-382">Custom filters can be shared between different sessions and different users.</span></span> <span data-ttu-id="c3cc4-383">您可以將篩選器匯出到定義檔中，然後將此檔案匯入到其他位置。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-383">You can export the filters to a definition file and import this file at another location.</span></span>

 <span data-ttu-id="c3cc4-384">若要匯入自訂篩選器：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-384">To import a custom filter:</span></span>

1. <span data-ttu-id="c3cc4-385">在 [ **View** ] 功能表中，按一下 [**自訂篩選**]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-385">In the **View** menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="c3cc4-386">在開啟的對話方塊中，按一下 [匯**入**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-386">In the dialog box that opens, click the **Import** button.</span></span>

3. <span data-ttu-id="c3cc4-387">流覽至自訂篩選檔案（. .stvcf），按一下該檔案，然後按一下 [**開啟**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-387">Navigate to the custom filter file (.stvcf), click the file, and click the **Open** button.</span></span>

<span data-ttu-id="c3cc4-388">若要匯出自訂篩選器：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-388">To export a custom filter:</span></span>

1. <span data-ttu-id="c3cc4-389">在 [View] 功能表中，按一下 [**自訂篩選**]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-389">In the View menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="c3cc4-390">在隨即開啟的對話方塊內，選取您要匯出的篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-390">In the dialog box that opens, select the filter you want to export.</span></span>

3. <span data-ttu-id="c3cc4-391">按一下 [匯出]\*\*\*\* 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-391">Click the **Export** button.</span></span>

4. <span data-ttu-id="c3cc4-392">指定自訂篩選定義檔案（. .stvcf）的名稱和位置，然後按一下 [**儲存**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-392">Specify the name and location of the custom filter definition file (.stvcf), and click the **Save** button.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-393">您只能透過服務追蹤檢視器來匯入與匯出這些自訂的篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-393">These custom filters can only be imported and exported from Service Trace Viewer.</span></span> <span data-ttu-id="c3cc4-394">您無法使用其他工具來讀取這些篩選器。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-394">They cannot be read by other tools.</span></span>

### <a name="finding-data"></a><span data-ttu-id="c3cc4-395">尋找資料</span><span class="sxs-lookup"><span data-stu-id="c3cc4-395">Finding Data</span></span>

<span data-ttu-id="c3cc4-396">檢視器提供以下尋找資料的方法：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-396">The viewer provides the following ways to find data:</span></span>

- <span data-ttu-id="c3cc4-397">[尋找] 工具列可讓您快速存取最常用的尋找選項。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-397">The Find toolbar provides a quick access to the most common find options.</span></span>

- <span data-ttu-id="c3cc4-398">[尋找] 對話方塊提供您更多尋找選項。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-398">The Find dialog provides more find options.</span></span> <span data-ttu-id="c3cc4-399">您可以透過 [**編輯**] 功能表或快速鍵 Ctrl + F 來存取它。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-399">It is accessible through the **Edit** menu, or by the short key Ctrl + F.</span></span>

<span data-ttu-id="c3cc4-400">尋找工具列會顯示在檢視器上方。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-400">The find toolbar appears at the top of the viewer.</span></span> <span data-ttu-id="c3cc4-401">如果不存在，您可以在 [ **View** ] 功能表中啟動它。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-401">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="c3cc4-402">工具列內含兩個元件：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-402">The bar has two components:</span></span>

- <span data-ttu-id="c3cc4-403">尋找目標：讓您輸入搜尋關鍵字。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-403">Find What: Allows you to enter search keyword.</span></span>

- <span data-ttu-id="c3cc4-404">查詢：讓您輸入搜尋範圍。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-404">Look In: Allows you to enter the search scope.</span></span> <span data-ttu-id="c3cc4-405">您可以選擇是否要搜尋所有活動，或是僅限目前的活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-405">You can select whether to search in all activities or in the current activity only.</span></span>

<span data-ttu-id="c3cc4-406">[尋找] 對話方塊提供您另外兩個選項：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-406">The find dialog provides two additional options:</span></span>

- <span data-ttu-id="c3cc4-407">尋找目標：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-407">Find target:</span></span>

  - <span data-ttu-id="c3cc4-408">[原始記錄資料] 選項會在所有原始資料中搜尋關鍵字。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-408">The "Raw log data" option searches the keyword in all raw data.</span></span>

  - <span data-ttu-id="c3cc4-409">[XML Text] 和 [XML Attribute] 選項只會搜尋 XML 元素。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-409">The "XML Text" and "XML Attribute" options only search in XML elements.</span></span>

  - <span data-ttu-id="c3cc4-410">[已記錄的訊息] 選項只會在訊息中搜尋關鍵字。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-410">The "Logged Message" option searches the keyword only in messages.</span></span>

- <span data-ttu-id="c3cc4-411">忽略根活動：搜尋會忽略 "000000000000" 活動中的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-411">Ignore root activity: The search ignores the traces in the "000000000000" activity.</span></span> <span data-ttu-id="c3cc4-412">當根活動擁有數以千計的追蹤項目，而其中大部分為傳輸時，這個選項可以改善在大型追蹤檔案中搜尋的效能。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-412">This improves performance in large trace files when the root activity has thousands of traces, most of which are transfers.</span></span>

### <a name="navigating-traces"></a><span data-ttu-id="c3cc4-413">巡覽追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-413">Navigating Traces</span></span>

<span data-ttu-id="c3cc4-414">由於在應用程式執行階段會逐步記錄追蹤，巡覽追蹤可以幫助您針對應用程式進行偵錯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-414">Because traces are recorded step by step during application runtime, navigating traces can help you to debug your application.</span></span> <span data-ttu-id="c3cc4-415">服務追蹤檢視器提供各種巡覽追蹤的方式。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-415">The Service Trace Viewer provides various ways to navigate in traces.</span></span>

#### <a name="step-forward-or-backward"></a><span data-ttu-id="c3cc4-416">逐步前進或逐步返回</span><span class="sxs-lookup"><span data-stu-id="c3cc4-416">Step Forward or Backward</span></span>

<span data-ttu-id="c3cc4-417">如果您將每個追蹤視為程式中的一行程式碼，逐步執行與 Visual Studio 整合式開發環境（IDE）中的「不進入一步」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-417">If you consider each trace as a line of code in the program, stepping forward is very similar to "Step over" in the Visual Studio Integrated Development Environment (IDE).</span></span> <span data-ttu-id="c3cc4-418">差別在於，您也可以在追蹤中逐步返回。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-418">The difference is that you can also step backward in the traces.</span></span> <span data-ttu-id="c3cc4-419">「逐步前進」表示移動至活動內的下一個追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-419">Stepping forward means moving to the next trace in the activity.</span></span>

- <span data-ttu-id="c3cc4-420">逐步執行：使用 [**活動**] 功能表，或按下 F10。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-420">Step Forward: Use the **Activity** menu, or press "F10".</span></span> <span data-ttu-id="c3cc4-421">您也可以在 [追蹤] 窗格中使用方向鍵「向下」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-421">You can also use arrow key "down" in the trace pane.</span></span>

- <span data-ttu-id="c3cc4-422">逐步執行：使用 [**活動**] 功能表，或按下 F9 鍵。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-422">Step Backward: Use the **Activity** menu, or press "F9".</span></span> <span data-ttu-id="c3cc4-423">您也可以在 [追蹤] 窗格中使用方向鍵「向上」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-423">You can also use arrow key "up" in the trace pane.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-424">這會將您帶到在不同進程中或甚至是不同電腦上發生的活動，因為 WCF 訊息可以包含跨越電腦的活動識別碼。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-424">This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.</span></span>

#### <a name="follow-transfer"></a><span data-ttu-id="c3cc4-425">跟隨 Transfer</span><span class="sxs-lookup"><span data-stu-id="c3cc4-425">Follow Transfer</span></span>

<span data-ttu-id="c3cc4-426">傳輸追蹤是追蹤檔案中的特別追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-426">Transfer traces are special traces in the trace file.</span></span> <span data-ttu-id="c3cc4-427">活動可以藉由傳輸追蹤來傳輸到另一個活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-427">An activity may transfer to another activity by a transfer trace.</span></span> <span data-ttu-id="c3cc4-428">例如，「活動 A」可能會傳送至「活動 B」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-428">For example, "Activity A" may transfer to "Activity B".</span></span> <span data-ttu-id="c3cc4-429">在這種情況下，「活動 A」中會有一個名為「To： Activity」和「傳送」圖示的「傳輸」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-429">In such case, there is a transfer trace in the "Activity A" with the name "To: Activity" and the transfer icon.</span></span> <span data-ttu-id="c3cc4-430">這個傳輸追蹤是這兩個追蹤的連結。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-430">This transfer trace is a link between the two traces.</span></span> <span data-ttu-id="c3cc4-431">在「活動 B」中，活動結尾可能也會有傳輸追蹤，以傳輸回「活動 A」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-431">In "Activity B", there might also be a transfer trace at the end of the activity to transfer back to "Activity A".</span></span> <span data-ttu-id="c3cc4-432">這跟程式中的函式呼叫 (Function Call) 類似：A 呼叫 B，然後 B 將資料傳回 A。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-432">This is similar to function calls in programs: A calls B, then B returns.</span></span>

<span data-ttu-id="c3cc4-433">「追蹤轉移」類似偵錯工具中的「逐步執行」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-433">"Follow transfer" is similar to "Step into" in a debugger.</span></span> <span data-ttu-id="c3cc4-434">它能跟隨 A 到 B 的傳輸，而且不會對其他追蹤產生任何影響。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-434">It follows the transfer from A to B. It does not have any effect on other traces.</span></span>

<span data-ttu-id="c3cc4-435">您可以透過滑鼠或鍵盤來跟隨傳輸：</span><span class="sxs-lookup"><span data-stu-id="c3cc4-435">There are two ways to follow a transfer: by mouse or by keyboard:</span></span>

- <span data-ttu-id="c3cc4-436">透過滑鼠：按兩下追蹤窗格中的傳輸追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-436">By Mouse: Double-click the transfer trace in the trace pane.</span></span>

- <span data-ttu-id="c3cc4-437">透過鍵盤：選取傳輸追蹤，然後使用 [**活動**] 功能表中的 [跟隨 transfer]，或按下 F11 鍵</span><span class="sxs-lookup"><span data-stu-id="c3cc4-437">By Keyboard: Select a transfer trace, and use "Follow Transfer" in the **Activity** menu, or press "F11"</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-438">在許多情況下，當活動 A 傳輸至活動 B 時，活動 A 會等候活動 B 傳輸回到活動 A。也就是說，當活動 B 正在進行追蹤的這段期間，活動 A 不會記錄任何追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-438">In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing.</span></span> <span data-ttu-id="c3cc4-439">然而，活動 A 也可能不會等候活動 B 而逕行記錄追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-439">However, it is also possible that Activity A does not wait, and continues to log traces.</span></span> <span data-ttu-id="c3cc4-440">活動 B 也可能不會傳輸回到活動 A。因此，這裡的活動傳輸與函式呼叫還是有點不一樣。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-440">It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense.</span></span> <span data-ttu-id="c3cc4-441">您可以透過 [圖形] 檢視，更清楚地了解活動傳輸。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-441">You can understand activity transfers better in Graph view.</span></span>

#### <a name="jump-to-next-or-previous-transfer"></a><span data-ttu-id="c3cc4-442">跳到下一個傳輸或跳到上一個傳輸</span><span class="sxs-lookup"><span data-stu-id="c3cc4-442">Jump to Next or Previous Transfer</span></span>

<span data-ttu-id="c3cc4-443">當您在分析目前的活動時，或在已選取多個活動時選取活動，您會希望快速找到它所傳輸到的目標活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-443">When you are analyzing the current activity, or selected activities when multiple activities are selected, you may want to quickly find the activities it transfers to.</span></span> <span data-ttu-id="c3cc4-444">「跳到下一個傳輸」可讓您找出活動中的下一個傳輸追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-444">"Jump to next transfer" allows you to locate the next transfer trace in the activity.</span></span> <span data-ttu-id="c3cc4-445">一旦您找到傳輸追蹤，就可以使用「後續傳輸」來逐步執行下一個活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-445">Once you find the transfer trace, you can use "Follow transfer" to step into the next activity.</span></span>

- <span data-ttu-id="c3cc4-446">跳到下一個傳輸：使用 [**活動**] 功能表，或按下 Ctrl + F10。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-446">Jump to Next Transfer: Use the **Activity** menu, or press "Ctrl + F10".</span></span>

- <span data-ttu-id="c3cc4-447">跳到上一個傳輸：使用 [**活動**] 功能表，或按下 Ctrl + F9。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-447">Jump to Previous Transfer: Use the **Activity** menu, or press "Ctrl + F9".</span></span>

#### <a name="navigate-in-graph-view"></a><span data-ttu-id="c3cc4-448">巡覽圖形檢視</span><span class="sxs-lookup"><span data-stu-id="c3cc4-448">Navigate in Graph View</span></span>

<span data-ttu-id="c3cc4-449">雖然 [活動] 窗格和 [追蹤] 窗格中的導覽類似于調試，但使用 [**圖形**視圖] 可在導覽中提供更好的體驗。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-449">Although navigating in the activity pane and trace pane is similar to debugging, using **Graph** view provides a much better experience in navigation.</span></span> <span data-ttu-id="c3cc4-450">如需詳細資訊，請參閱「圖表視圖」一節。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-450">See "Graph View" section for more information.</span></span>

### <a name="loading-large-trace-files"></a><span data-ttu-id="c3cc4-451">載入大型追蹤檔</span><span class="sxs-lookup"><span data-stu-id="c3cc4-451">Loading Large Trace Files</span></span>

<span data-ttu-id="c3cc4-452">追蹤檔大小可能非常龐大。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-452">Trace files can be very large.</span></span> <span data-ttu-id="c3cc4-453">例如，如果您開啟「詳細資訊」層級的追蹤，則執行幾分鐘所產生的追蹤檔案可能很容易就會有數百 mb 或更大的大小，視網路速度和通訊模式而定。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-453">For example, if you turn on tracing on the "Verbose" level, the resulting trace file for running a few minutes can easily be hundreds of megabytes or even larger, depending on network speed and communication pattern.</span></span>

<span data-ttu-id="c3cc4-454">當您在服務追蹤檢視器中開啟一個非常大的追蹤檔時，可能會對系統效能帶來負面影響。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-454">When you open a very large trace file in the Service Trace Viewer, system performance can be negatively impacted.</span></span> <span data-ttu-id="c3cc4-455">載入速度與載入之後的回應時間可能非常緩慢。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-455">The loading speed and the response time after loading can be slow.</span></span> <span data-ttu-id="c3cc4-456">實際的速度不一定，取決於您的硬體組態而定。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-456">Actual speed differs from time to time, depending on your hardware configuration.</span></span> <span data-ttu-id="c3cc4-457">在大部分電腦上，載入大於 200M 的追蹤檔就會對效能有非常大的影響。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-457">In most PCs, loading a trace file larger than 200M has a severe performance impact.</span></span> <span data-ttu-id="c3cc4-458">如果追蹤檔大小超過 1G，這項工具可能會耗盡所有可用的記憶體，或是停止回應很長一段時間。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-458">For traces files larger than 1G, the tool may use up all available memory, or stop responding for a very long time.</span></span>

<span data-ttu-id="c3cc4-459">為了避免在分析大型追蹤檔案時發生緩慢的載入和回應時間，服務追蹤檢視器會提供一項稱為「部分載入」的功能，一次只會載入追蹤的一小部分。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-459">In order to avoid the slow loading and response time in analyzing large trace files, the Service Trace Viewer provides a feature called "Partial Loading", which only loads a small part of the trace at a time.</span></span> <span data-ttu-id="c3cc4-460">例如，您的追蹤檔案大小超過 1GB，可以在伺服器上執行好幾天。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-460">For example, you may have a trace file over 1GB, running for several days on the server.</span></span> <span data-ttu-id="c3cc4-461">當發生一些錯誤而您想要分析追蹤檔案時，不需要開啟整個追蹤檔。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-461">When some errors have occurred and you want to analyze the trace, it is not necessary to open the entire trace file.</span></span> <span data-ttu-id="c3cc4-462">反之，您可以在錯誤可能發生的特定期間載入追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-462">Instead, you can load the traces within a certain period of time when the error might have occurred.</span></span> <span data-ttu-id="c3cc4-463">因為範圍縮小，服務追蹤檢視器工具可以更快地載入檔案，讓您使用較小的資料集來找出錯誤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-463">Because the scope is smaller, the Service Trace Viewer tool can load the file faster and you can identify the errors using a smaller set of data.</span></span>

#### <a name="enabling-partial-loading"></a><span data-ttu-id="c3cc4-464">啟用部分載入</span><span class="sxs-lookup"><span data-stu-id="c3cc4-464">Enabling Partial Loading</span></span>

<span data-ttu-id="c3cc4-465">您不需要手動啟用部分載入。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-465">You do not need to manually enable partial loading.</span></span> <span data-ttu-id="c3cc4-466">如果您嘗試載入的追蹤檔案大小總計超過 40MB，服務追蹤檢視器會自動顯示 [部分載入] 對話方塊，讓您選取要載入的部分。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-466">If the total size of the trace file(s) you attempt to load exceeds 40MB, Service Trace Viewer automatically displays a Partial Loading dialog for you to select the part that you want to load.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-467">由於追蹤可能不會平均分散在時間範圍內，您在 [部分載入] 工具列中指定的期間長短與顯示的載入大小可能不成比例。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-467">Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown.</span></span> <span data-ttu-id="c3cc4-468">實際的載入大小可能比 [部分載入] 對話方塊中的 [預估大小] 還要小。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-468">The actual loading size can be smaller than the Estimated Size in the partial loading dialog.</span></span>

#### <a name="adjusting-partial-loading"></a><span data-ttu-id="c3cc4-469">調整部分載入</span><span class="sxs-lookup"><span data-stu-id="c3cc4-469">Adjusting Partial Loading</span></span>

<span data-ttu-id="c3cc4-470">在您部分載入追蹤檔之後，可能會想要變更正在載入的資料集。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-470">After you have partially loaded the trace file, you may want to change the data set being loaded.</span></span> <span data-ttu-id="c3cc4-471">您可以透過調整檢視器上方的 [部分載入] 工具列來達到這個目的。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-471">You can do so by adjusting the Partial Loading toolbar at the top of the viewer.</span></span>

1. <span data-ttu-id="c3cc4-472">使用滑鼠來移動工具列，或是輸入 [開始時間] 與 [結束時間]。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-472">Move the toolbar by mouse, or input the Begin and End time.</span></span>

2. <span data-ttu-id="c3cc4-473">按一下 [**調整**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-473">Click the **Adjust** button.</span></span>

## <a name="understanding-trace-icons"></a><span data-ttu-id="c3cc4-474">了解追蹤圖示</span><span class="sxs-lookup"><span data-stu-id="c3cc4-474">Understanding Trace Icons</span></span>

<span data-ttu-id="c3cc4-475">以下是服務追蹤檢視器工具在 [**活動**] 視圖、[**圖表]** 視圖和 [**追蹤**] 窗格中用來代表不同專案的圖示清單。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-475">The following is a list of icons that the Service Trace Viewer tool uses in the **Activity** view, **Graph** view and **Trace** pane to represent different items.</span></span>

> [!NOTE]
> <span data-ttu-id="c3cc4-476">某些未分類的追蹤（例如「訊息已關閉」）沒有圖示。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-476">Some traces that are not categorized (for example, "a message is closed") have no icon.</span></span>

### <a name="activity-tracing-traces"></a><span data-ttu-id="c3cc4-477">活動追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-477">Activity Tracing Traces</span></span>

|<span data-ttu-id="c3cc4-478">圖示</span><span class="sxs-lookup"><span data-stu-id="c3cc4-478">Icon</span></span>|<span data-ttu-id="c3cc4-479">描述</span><span class="sxs-lookup"><span data-stu-id="c3cc4-479">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="c3cc4-480">![警告追蹤](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-480">![Warning trace](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span></span>|<span data-ttu-id="c3cc4-481">警告追蹤：在警告層級發出的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-481">Warning trace: A trace that is emitted at the warning level</span></span>|
|<span data-ttu-id="c3cc4-482">![錯誤追蹤](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-482">![Error trace](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span></span>|<span data-ttu-id="c3cc4-483">錯誤追蹤：在錯誤層級發出的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-483">Error trace: A trace that is emitted at the error level.</span></span>|
|<span data-ttu-id="c3cc4-484">![活動開始追蹤：](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-484">![Activity Start trace:](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span></span>|<span data-ttu-id="c3cc4-485">活動開始追蹤：標記活動開始的追蹤，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-485">Activity Start trace: A trace that marks the beginning of an activity.</span></span> <span data-ttu-id="c3cc4-486">其中包含了活動的名稱。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-486">It contains the name of the activity.</span></span> <span data-ttu-id="c3cc4-487">身為應用程式設計師或開發人員，您應對每個處理序或執行緒的每個活動識別碼定義一個活動「開始」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-487">As the application designer or developer, you should define one activity Start trace per activity id per process or thread.</span></span><br /><br /> <span data-ttu-id="c3cc4-488">如果活動識別碼的傳播因為追蹤相互關聯而跨越追蹤，您會看到同一個活動識別碼有多個「開始」(每個追蹤來源一個)。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-488">If the activity id is propagated across trace sources for trace correlation, you can then see multiple Starts for the same activity id (one per trace source).</span></span> <span data-ttu-id="c3cc4-489">如果追蹤來源的 ActivityTracing 已啟用，便會發出「開始」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-489">The Start trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="c3cc4-490">![活動停止追蹤](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-490">![Activity Stop trace](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span></span>|<span data-ttu-id="c3cc4-491">活動停止追蹤：標記活動停止的追蹤，</span><span class="sxs-lookup"><span data-stu-id="c3cc4-491">Activity Stop trace: A trace that marks the end of an activity.</span></span> <span data-ttu-id="c3cc4-492">.</span><span class="sxs-lookup"><span data-stu-id="c3cc4-492">.</span></span> <span data-ttu-id="c3cc4-493">其中包含了活動的名稱。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-493">It contains the name of the activity.</span></span> <span data-ttu-id="c3cc4-494">身為應用程式設計師或開發人員，您應對每個追蹤來源的每個活動定義一個活動「停止」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-494">As the application designer or developer, you should define one activity Stop trace per activity id per trace source.</span></span> <span data-ttu-id="c3cc4-495">在指定的追蹤來源發出活動「停止」後，不會出現該追蹤來源的追蹤，除非追蹤時間精細度不夠小。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-495">No traces from a given trace source appear after the activity Stop emitted by that trace source, except if the trace time granularity is not sufficiently small.</span></span> <span data-ttu-id="c3cc4-496">發生這種情況時，時間相同的兩個追蹤 (包括「停止」) 可能會在顯示時交錯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-496">When that happens, two traces with the same time, including a Stop, may be interleaved when displayed.</span></span> <span data-ttu-id="c3cc4-497">如果活動識別碼的傳播因為追蹤相互關聯而跨越追蹤，您會看到同一個活動識別碼有多個「停止」(每個追蹤來源一個)。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-497">If the activity id is propagated across trace sources for trace correlation, you can see multiple Stops for the same activity id (one per trace source).</span></span> <span data-ttu-id="c3cc4-498">如果追蹤來源的 ActivityTracing 已啟用，便會發出「停止」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-498">The Stop trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="c3cc4-499">![活動暫止追蹤](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-499">![Activity Suspend trace](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span></span>|<span data-ttu-id="c3cc4-500">活動暫止追蹤：標記活動暫停時間的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-500">Activity Suspend trace: A trace that marks the time an activity is paused.</span></span> <span data-ttu-id="c3cc4-501">在活動繼續執行之前，暫止活動中不會發出追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-501">No traces are emitted in a suspended activity until the activity resumes.</span></span> <span data-ttu-id="c3cc4-502">暫止活動代表追蹤來源範圍內的該活動中沒有發生處理。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-502">A suspended activity denotes that no processing is happening in that activity in the scope of the trace source.</span></span> <span data-ttu-id="c3cc4-503">暫止/繼續追蹤對於分析很有用。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-503">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="c3cc4-504">如果追蹤來源的 ActivityTracing 已啟用，便會發出「暫止」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-504">The Suspend trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="c3cc4-505">![活動繼續追蹤](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-505">![Activity resume trace](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span></span>|<span data-ttu-id="c3cc4-506">活動繼續追蹤：標記活動在暫止後恢復繼續之時間的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-506">Activity resume trace: A trace that marks the time an activity is resumed after it had been suspended.</span></span> <span data-ttu-id="c3cc4-507">該活動中會再次發出追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-507">Traces may be emitted again in that activity.</span></span> <span data-ttu-id="c3cc4-508">暫止/繼續追蹤對於分析很有用。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-508">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="c3cc4-509">如果追蹤來源的 ActivityTracing 已啟用，便會發出「繼續」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-509">The Resume trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="c3cc4-510">![傳送](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-510">![Transfer](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span></span>|<span data-ttu-id="c3cc4-511">傳輸：當邏輯控制流程從一個活動傳輸至另一個活動時發出的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-511">Transfer: A trace that is emitted when logical control flow is transferred from one activity to another.</span></span> <span data-ttu-id="c3cc4-512">傳輸起源的活動會繼續執行工作，與傳輸移至的活動平行。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-512">The activity the transfer originates from may continue to perform work in parallel to the activity the transfer goes to.</span></span> <span data-ttu-id="c3cc4-513">如果追蹤來源的 ActivityTracing 已啟用，便會發出「傳輸」追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-513">The Transfer trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="c3cc4-514">![傳輸來源](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-514">![Transfer From](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span></span>|<span data-ttu-id="c3cc4-515">傳輸來源：可定義從另一個活動傳輸至目前活動的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-515">Transfer From: A trace that defines a transfer from another activity to the current activity.</span></span>|
|<span data-ttu-id="c3cc4-516">![傳輸至](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-516">![Transfer To](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span></span>|<span data-ttu-id="c3cc4-517">傳輸目標：可定義從目前活動傳輸至另一個活動之邏輯控制流程的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-517">Transfer To: A trace that defines a transfer of logical control flow from the current activity to another activity.</span></span>|

### <a name="wcf-traces"></a><span data-ttu-id="c3cc4-518">WCF 追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-518">WCF Traces</span></span>

|<span data-ttu-id="c3cc4-519">圖示</span><span class="sxs-lookup"><span data-stu-id="c3cc4-519">Icon</span></span>|<span data-ttu-id="c3cc4-520">描述</span><span class="sxs-lookup"><span data-stu-id="c3cc4-520">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="c3cc4-521">![訊息記錄追蹤](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-521">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="c3cc4-522">訊息記錄追蹤：當 `System.ServiceModel.MessageLogging` 追蹤來源已啟用時，由訊息記錄功能記錄 WCF 訊息時，所發出的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-522">Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the `System.ServiceModel.MessageLogging` trace source is enabled.</span></span> <span data-ttu-id="c3cc4-523">按一下此追蹤會顯示訊息。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-523">Clicking on this trace displays the message.</span></span> <span data-ttu-id="c3cc4-524">訊息有四個可設定記錄點：ServiceLevelSendRequest、TransportSend、TransportReceive 和 ServiceLevelReceiveRequest，也可以由訊息記錄追蹤中的 `messageSource` 屬性來指定。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-524">There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the `messageSource` attribute in the message log trace.</span></span>|
|<span data-ttu-id="c3cc4-525">![已接收訊息追蹤](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-525">![Message Received trace](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span></span>|<span data-ttu-id="c3cc4-526">已接收訊息追蹤：如果已在 `System.ServiceModel` 資訊或詳細資訊層級啟用追蹤來源，則在收到 WCF 訊息時所發出的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-526">Message Received trace: A trace that is emitted when a WCF message is received, if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="c3cc4-527">此追蹤對於在 [活動**圖表]** 視圖中查看訊息相互關聯箭號而言是不可或缺的。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-527">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|
|<span data-ttu-id="c3cc4-528">![訊息已傳送追蹤](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-528">![Message Sent trace](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span></span>|<span data-ttu-id="c3cc4-529">訊息傳送的追蹤：如果在 `System.ServiceModel` 資訊或詳細資訊層級啟用追蹤來源時，傳送 WCF 訊息時所發出的追蹤。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-529">Message Sent trace: A trace that is emitted when a WCF message is sent if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="c3cc4-530">此追蹤對於在 [活動**圖表]** 視圖中查看訊息相互關聯箭號而言是不可或缺的。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-530">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|

### <a name="activities"></a><span data-ttu-id="c3cc4-531">活動</span><span class="sxs-lookup"><span data-stu-id="c3cc4-531">Activities</span></span>

|<span data-ttu-id="c3cc4-532">圖示</span><span class="sxs-lookup"><span data-stu-id="c3cc4-532">Icon</span></span>|<span data-ttu-id="c3cc4-533">描述</span><span class="sxs-lookup"><span data-stu-id="c3cc4-533">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="c3cc4-534">![活動](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-534">![Activity](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span></span>|<span data-ttu-id="c3cc4-535">活動：表示目前活動為一般活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-535">Activity: Indicates that the current activity is a generic activity.</span></span>|
|<span data-ttu-id="c3cc4-536">![根活動](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-536">![Root activity](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span></span>|<span data-ttu-id="c3cc4-537">根活動：表示處理序的根活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-537">Root activity: Indicates the root activity of a process.</span></span>|

### <a name="wcf-activities"></a><span data-ttu-id="c3cc4-538">WCF 活動</span><span class="sxs-lookup"><span data-stu-id="c3cc4-538">WCF Activities</span></span>

|<span data-ttu-id="c3cc4-539">圖示</span><span class="sxs-lookup"><span data-stu-id="c3cc4-539">Icon</span></span>|<span data-ttu-id="c3cc4-540">描述</span><span class="sxs-lookup"><span data-stu-id="c3cc4-540">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="c3cc4-541">![環境活動](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-541">![Environment activity](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span></span>|<span data-ttu-id="c3cc4-542">環境活動：建立、開啟或關閉 WCF 主機或用戶端的活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-542">Environment activity: An activity that creates, opens, or closes a WCF host or client.</span></span> <span data-ttu-id="c3cc4-543">在這些階段內發生的錯誤會出現在這個活動中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-543">Errors that have happened during these phases will appear in this activity.</span></span>|
|<span data-ttu-id="c3cc4-544">![接聽活動](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-544">![Listen activity](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span></span>|<span data-ttu-id="c3cc4-545">接聽活動：記錄與接聽項相關之追蹤的活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-545">Listen activity: An activity that logs traces related to a listener.</span></span> <span data-ttu-id="c3cc4-546">在這個活動內，我們可以檢視接聽項資訊和連線要求。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-546">Inside this activity, we can view listener information and connection requests.</span></span>|
|<span data-ttu-id="c3cc4-547">![接收位元組活動](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-547">![Receive Bytes activity](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span></span>|<span data-ttu-id="c3cc4-548">接收位元組活動：這個活動會將所有關於在兩端點間連線上接收傳入位元組的追蹤組成群組。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-548">Receive Bytes activity: An activity that groups all traces related to receiving incoming bytes on a connection between two endpoints.</span></span> <span data-ttu-id="c3cc4-549">必須有這個活動，才能與傳播活動識別碼的傳輸活動建立相互關聯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-549">This activity is essential in correlating with transport activities that propagate their activity id such as http.sys.</span></span> <span data-ttu-id="c3cc4-550">包括連線中止在內的連線錯誤會出現在這個活動中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-550">Connection errors such as aborts will appear in this activity.</span></span>|
|<span data-ttu-id="c3cc4-551">![處理訊息活動](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-551">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="c3cc4-552">處理訊息活動：此活動會將與建立 WCF 訊息相關的追蹤組成群組。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-552">Process Message activity: An activity that groups traces related to creating a WCF message.</span></span> <span data-ttu-id="c3cc4-553">由於信封不良或格式錯誤的訊息而發生的錯誤會出現在這個活動中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-553">Errors due to a bad envelope or a malformed message will appear in that activity.</span></span> <span data-ttu-id="c3cc4-554">在這個活動內，我們可以檢查訊息標頭，了解是否已從呼叫端傳播出活動識別碼。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-554">Inside this activity, we can inspect message headers to see if an activity id was propagated from the caller.</span></span> <span data-ttu-id="c3cc4-555">如果已傳播活動識別碼，當傳輸至處理動作活動 (請參閱下一個圖示) 時，也可以將傳播的活動識別碼指派給該活動，讓呼叫端和被呼叫端追蹤之間能產生相互關聯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-555">If this is true, when we transfer to Process Action activity (the next icon), we can also assign to that activity the propagated activity id for correlation between the caller and callee’s traces.</span></span>|
|<span data-ttu-id="c3cc4-556">![訊息記錄追蹤](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-556">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="c3cc4-557">處理動作活動：此活動會將所有與 WCF 要求相關的追蹤，群組在兩個端點。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-557">Process Action activity: An activity that groups all traces related to a WCF request across two endpoints.</span></span> <span data-ttu-id="c3cc4-558">如果組態中兩個端點上的 `propagateActivity` 都設為 `true`，則來自這兩個端點的所有追蹤會合併為一個活動，以便直接相互關聯。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-558">If `propagateActivity` is set to `true` on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation.</span></span> <span data-ttu-id="c3cc4-559">由於傳輸或安全性處理在擴及使用者程式碼界限後返回 (如果回應存在的話) 所造成的錯誤，會包含在這個活動中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-559">Such activity will contain errors due to transport or security processing, extending to the user code boundary and back (if a response exists).</span></span>|
|<span data-ttu-id="c3cc4-560">![處理訊息活動](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="c3cc4-560">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="c3cc4-561">執行使用者程式碼活動：將處理要求的使用者程式碼追蹤組成群組的活動。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-561">Execute User Code activity: An activity that groups user code traces for processing a request.</span></span>|

## <a name="troubleshooting"></a><span data-ttu-id="c3cc4-562">疑難排解</span><span class="sxs-lookup"><span data-stu-id="c3cc4-562">Troubleshooting</span></span>

<span data-ttu-id="c3cc4-563">如果您沒有寫入登錄的許可權，當您使用 " `svctraceviewer /register` " 命令註冊工具時，會收到下列錯誤訊息「Microsoft 服務追蹤檢視器未向系統註冊」。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-563">If you do not have permission to write to the registry, you get the following error message "The Microsoft Service Trace Viewer was not registered to the system" when you use the "`svctraceviewer /register`" command to register the tool.</span></span> <span data-ttu-id="c3cc4-564">如果發生這種狀況，您應使用具有登錄寫入權限的帳戶登入。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-564">If this occurs, you should log in using an account that has write access to the registry.</span></span>

<span data-ttu-id="c3cc4-565">此外，服務追蹤檢視器工具會將一些設定 (例如，自訂篩選器和篩選選項) 寫入至其組件資料夾的 SvcTraceViewer.exe.settings 檔中。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-565">In addition, the Service Trace Viewer tool writes some settings (for example, custom filters and filter options) to the SvcTraceViewer.exe.settings file in its assembly folder.</span></span> <span data-ttu-id="c3cc4-566">如果您沒有此檔案的讀取權限，您仍可以啟動該工具，但無法載入設定。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-566">If you do not have read permission for the file, you can still launch the tool, but you cannot load the settings.</span></span>

<span data-ttu-id="c3cc4-567">如果您在開啟 .etl 檔案時收到錯誤訊息「處理一或多個追蹤時發生未知的錯誤」，則表示 .etl 檔案的格式無效。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-567">If you get the error message "An unknown error occurred while processing one or more traces" when opening the .etl file, it means that the format of the .etl file is invalid.</span></span>

<span data-ttu-id="c3cc4-568">如果您開啟的是使用阿拉伯文作業系統建立的追蹤記錄，可能會發現時間篩選器無法運作。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-568">If you open a trace log created using an Arabic operating system, you may notice that the time filter does not work.</span></span> <span data-ttu-id="c3cc4-569">例如，2005 年對應到阿拉伯曆的 1427 年。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-569">For example, year 2005 corresponds to year 1427 in Arabic calendar.</span></span> <span data-ttu-id="c3cc4-570">但是，服務追蹤檢視器工具篩選器所支援的時間範圍並不支援 1752 年之前的日期。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-570">However, the time range supported by the Service Trace Viewer tool filter does not support a date earlier than 1752.</span></span> <span data-ttu-id="c3cc4-571">這就表示您無法在該篩選器中選取正確的日期。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-571">This can imply that you are not able to select a correct date in the filter.</span></span> <span data-ttu-id="c3cc4-572">若要解決這個問題，您可以使用 XPath 運算式來建立自訂篩選器（**View/自訂篩選**）以包含特定的時間範圍。</span><span class="sxs-lookup"><span data-stu-id="c3cc4-572">To resolve this problem, you can create a custom filter (**View/Custom Filters**) using an XPath expression to include a specific time range.</span></span>

## <a name="see-also"></a><span data-ttu-id="c3cc4-573">另請參閱</span><span class="sxs-lookup"><span data-stu-id="c3cc4-573">See also</span></span>

- [<span data-ttu-id="c3cc4-574">使用服務追蹤檢視器檢視相關追蹤並進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="c3cc4-574">Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting</span></span>](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)
- [<span data-ttu-id="c3cc4-575">設定追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-575">Configuring Tracing</span></span>](./diagnostics/tracing/configuring-tracing.md)
- [<span data-ttu-id="c3cc4-576">端對端追蹤</span><span class="sxs-lookup"><span data-stu-id="c3cc4-576">End-to-End Tracing</span></span>](./diagnostics/tracing/end-to-end-tracing.md)
