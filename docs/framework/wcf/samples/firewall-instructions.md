---
title: 防火牆指示
description: 瞭解如何在防火牆中啟用 WCF 範例的埠或程式。 根據您的需求和安全性環境，使用其中一個程式。
ms.date: 03/30/2017
ms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1
ms.openlocfilehash: de55d067960b8f2096c129f6feaf037219e06a96
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/23/2020
ms.locfileid: "85246137"
---
# <a name="firewall-instructions"></a>防火牆指示

您必須在防火牆中啟用數個通訊埠或程式，讓 Windows Communication Foundation （WCF）範例可以運作。 許多範例都使用範圍 8000-8003 中的連接埠以及連接埠 9000 進行通訊。 防火牆預設為開啟狀態，可防止對這些連接埠的存取。 若要為範例啟用防火牆，請視您的需求和安全性環境，完成下列其中一個程序：

- 選項 1：執行時以互動方式啟用範例。 不要對您的防火牆組態進行任何進階變更，並開始建置與執行範例。 執行範例時，會出現 [ **Windows 安全性警示**] 對話方塊。 接著，您就可以互動方式將範例新增至解除封鎖清單中。 使用這個程序時，您可能必須重新啟動範例。

- 選項 2：事先啟用範例程式。 啟動 [ **Windows 防火牆控制台**] applet，並啟用您計畫執行的範例程式。 您必須先建置程式，讓可執行檔存在。 接下來的程序中有更詳細的指示。

- 選項 3：事先啟用連接埠範圍。 啟動 [ **Windows 防火牆控制台**] 小程式，並啟用範例所使用的埠80、443、8000-8003 和9000。 接下來的程序中有更詳細的指示。 這個選項的安全性最低，因為除了範例以外，它也允許其他程式使用這些連接埠。

如果您不確定要使用哪一個程序，請選擇第一個選項。 如果您執行的是其他廠商的防火牆，可能必須進行類似的變更。

> [!IMPORTANT]
> 變更防火牆組態會影響您的安全性。 建議您記下所做的變更，然後在使用完範例後，將這些變更移除。

## <a name="enable-samples-programs-in-advance"></a>事先啟用範例程式

1. 建置範例。

2. 選擇 [**開始**  >  **執行**]，然後輸入 `firewall.cpl` 。 這會開啟 [ **Windows 防火牆控制台**] 小程式。

    > [!NOTE]
    > 您必須擁有變更防火牆設定的權限，才能執行需要透過 Windows 防火牆進行通訊之能力的範例。 如果無法使用某些防火牆設定，而且您的電腦已連線至某個網域，表示您的系統管理員可能正在透過「群組原則」控制這些設定。

3. 完成下列其中一項操作特定的步驟，以允許程式通過 Windows 防火牆：

    - 在 Windows 7 或 Windows Server 2008 R2 上，按一下 [**允許程式或功能通過 Windows 防火牆**]。 按一下 [**變更設定**] [  >  **允許其他程式**]。

    - 在 Windows Vista 或 Windows Server 2008 上，按一下 [**允許程式通過 Windows 防火牆**]。

4. 在 [**例外**] 索引標籤上，按一下 [**新增程式**]。

5. 按一下 [**流覽]** 按鈕，然後選取您打算執行之範例的可執行檔。

6. 重複步驟4和5，直到您已新增您打算執行之所有範例的可執行檔為止。

7. 按一下 **[確定]** 以關閉防火牆小程式。

## <a name="enable-a-port-range-in-advance"></a>預先啟用埠範圍

1. 選擇 [**開始**  >  **執行**]，然後輸入 `firewall.cpl` 。 這會開啟 [ **Windows 防火牆控制台**] 小程式。

2. 在 Windows 7 或 Windows Server 2008 R2 上，按照以下步驟進行。

    1. 在 [Windows 防火牆] 視窗的左欄中，按一下 [ **Advanced settings** ]。

    2. 按一下左側資料行中的 [**輸入規則**]。

    3. 按一下右側資料行中的 [**新增規則**]。

    4. 選取 [**埠**] 並按 **[下一步]**。

    5. 選取 [ **TCP** ]，然後 `8000, 8001, 8002, 8003, 9000, 80, 443` 在 [**特定本機埠**] 欄位中輸入。

    6. 按 [下一步] 。

    7. 選取 **[允許連接**]，然後按 **[下一步]** 。

    8. 選取 [**網域**和**私人**]，然後按 **[下一步]**。

    9. 為此規則命名 `WCF-WF 4.0 Samples` ，然後按一下 **[完成]**。

    10. 按一下 [**輸出規則**]，然後重複步驟 c 到 h。

3. 在 Windows Vista 或 Windows Server 2008 上，請遵循下列步驟。

    1. 按一下 [**允許程式通過 Windows 防火牆**]。

    2. 在 [**例外**] 索引標籤上，按一下 [**新增埠**]。

    3. 輸入 [名稱]，輸入8000做為埠號碼，然後選取 [ **TCP** ] 選項。

    4. 按一下 [**變更領域**] 按鈕，選取 [僅限**我的網路**（子網）] 選項，然後按一下 **[確定]**。

    5. 為連接埠 8001、8002、8003、9000、80 和 443 重複步驟 b 到 d。

4. 按一下 **[確定]** 以關閉防火牆小程式。

> [!NOTE]
> 當您使用完範例時，請移除任何防火牆例外狀況。 若要這麼做，請開啟 [ **Windows 防火牆控制台**] applet，並移除先前程式所新增的任何程式或埠專案。
