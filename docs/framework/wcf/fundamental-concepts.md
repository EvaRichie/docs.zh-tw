---
title: Windows Communication Foundation 的主要概念
description: 深入瞭解 Windows Communication Foundation （WCF）架構的基本概念與此高階說明。
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], concepts
- concepts [WCF]
- fundamentals [WCF]
- Windows Communication Foundation [WCF], concepts
ms.assetid: 3e7e0afd-7913-499d-bafb-eac7caacbc7a
ms.openlocfilehash: 93e75942487a1a81a8b0e8ecd8d9d666610152dc
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244670"
---
# <a name="fundamental-windows-communication-foundation-concepts"></a><span data-ttu-id="a38a3-103">Windows Communication Foundation 的主要概念</span><span class="sxs-lookup"><span data-stu-id="a38a3-103">Fundamental Windows Communication Foundation Concepts</span></span>

<span data-ttu-id="a38a3-104">本檔提供 Windows Communication Foundation （WCF）架構的高層級觀點。</span><span class="sxs-lookup"><span data-stu-id="a38a3-104">This document provides a high-level view of the Windows Communication Foundation (WCF) architecture.</span></span> <span data-ttu-id="a38a3-105">以說明重要概念，以及如何搭配運用這些概念。</span><span class="sxs-lookup"><span data-stu-id="a38a3-105">It is intended to explain key concepts and how they fit together.</span></span> <span data-ttu-id="a38a3-106">如需建立最簡單版本 WCF 服務和用戶端的教學課程，請參閱[消費者入門教學](getting-started-tutorial.md)課程。</span><span class="sxs-lookup"><span data-stu-id="a38a3-106">For a tutorial on creating the simplest version of a WCF service and client, see [Getting Started Tutorial](getting-started-tutorial.md).</span></span> <span data-ttu-id="a38a3-107">若要瞭解 WCF 程式設計，請參閱[基本 wcf 程式設計](basic-wcf-programming.md)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-107">To learn WCF programming, see [Basic WCF Programming](basic-wcf-programming.md).</span></span>

## <a name="wcf-fundamentals"></a><span data-ttu-id="a38a3-108">WCF 基本概念</span><span class="sxs-lookup"><span data-stu-id="a38a3-108">WCF Fundamentals</span></span>

<span data-ttu-id="a38a3-109">WCF 是一種執行時間和一組 Api，可用於建立在服務與用戶端之間傳送訊息的系統。</span><span class="sxs-lookup"><span data-stu-id="a38a3-109">WCF is a runtime and a set of APIs for creating systems that send messages between services and clients.</span></span> <span data-ttu-id="a38a3-110">相同的基礎結構和 API 可用來在同一個電腦系統或位於其他電腦且透過網際網路存取的系統上，建立與其他應用程式通訊的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-110">The same infrastructure and APIs are used to create applications that communicate with other applications on the same computer system or on a system that resides in another company and is accessed over the Internet.</span></span>

### <a name="messaging-and-endpoints"></a><span data-ttu-id="a38a3-111">傳訊和端點</span><span class="sxs-lookup"><span data-stu-id="a38a3-111">Messaging and Endpoints</span></span>

<span data-ttu-id="a38a3-112">WCF 是以訊息為基礎的通訊概念為基礎，而任何可模型化為訊息的專案（例如 HTTP 要求或訊息佇列（也稱為 MSMQ）訊息）都可以在程式設計模型中以一致的方式表示。</span><span class="sxs-lookup"><span data-stu-id="a38a3-112">WCF is based on the notion of message-based communication, and anything that can be modeled as a message (for example, an HTTP request or a Message Queuing (also known as MSMQ) message) can be represented in a uniform way in the programming model.</span></span> <span data-ttu-id="a38a3-113">如此一來，不同傳輸機制上就可以有統一的 API。</span><span class="sxs-lookup"><span data-stu-id="a38a3-113">This enables a unified API across different transport mechanisms.</span></span>

<span data-ttu-id="a38a3-114">模型會區分_用戶端_，也就是起始通訊的應用程式，以及_服務_，這是等待用戶端與其通訊並回應該通訊的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-114">The model distinguishes between _clients_, which are applications that initiate communication, and _services_, which are applications that wait for clients to communicate with them and respond to that communication.</span></span> <span data-ttu-id="a38a3-115">單一應用程式可以同時做為用戶端和服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-115">A single application can act as both a client and a service.</span></span> <span data-ttu-id="a38a3-116">如需範例，請參閱[雙工服務](./feature-details/duplex-services.md)和[對等網路](./feature-details/peer-to-peer-networking.md)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-116">For examples, see [Duplex Services](./feature-details/duplex-services.md) and [Peer-to-Peer Networking](./feature-details/peer-to-peer-networking.md).</span></span>

<span data-ttu-id="a38a3-117">訊息會在端點間傳送。</span><span class="sxs-lookup"><span data-stu-id="a38a3-117">Messages are sent between endpoints.</span></span> <span data-ttu-id="a38a3-118">_端點_是傳送或接收訊息的位置（或兩者），而且它們會定義訊息結算所需的所有資訊。</span><span class="sxs-lookup"><span data-stu-id="a38a3-118">_Endpoints_ are places where messages are sent or received (or both), and they define all the information required for the message exchange.</span></span> <span data-ttu-id="a38a3-119">服務會公開一或多個應用程式端點 (以及零或多個基礎結構端點)，而用戶端則會產生與其中一個服務端點相容的端點。</span><span class="sxs-lookup"><span data-stu-id="a38a3-119">A service exposes one or more application endpoints (as well as zero or more infrastructure endpoints), and the client generates an endpoint that is compatible with one of the service's endpoints.</span></span>

<span data-ttu-id="a38a3-120">_端點_會以標準的方式來描述訊息應該傳送的位置、傳送的方式，以及訊息看起來的樣子。</span><span class="sxs-lookup"><span data-stu-id="a38a3-120">An _endpoint_ describes in a standard-based way where messages should be sent, how they should be sent, and what the messages should look like.</span></span> <span data-ttu-id="a38a3-121">服務可以將此資訊公開為用戶端可以處理的中繼資料，以產生適當的 WCF 用戶端和通訊_堆疊_。</span><span class="sxs-lookup"><span data-stu-id="a38a3-121">A service can expose this information as metadata that clients can process to generate appropriate WCF clients and communication _stacks_.</span></span>

### <a name="communication-protocols"></a><span data-ttu-id="a38a3-122">通訊協定</span><span class="sxs-lookup"><span data-stu-id="a38a3-122">Communication Protocols</span></span>

<span data-ttu-id="a38a3-123">通訊堆疊的其中一個必要元素是_傳輸通訊協定_。</span><span class="sxs-lookup"><span data-stu-id="a38a3-123">One required element of the communication stack is the _transport protocol_.</span></span> <span data-ttu-id="a38a3-124">使用通用傳輸 (例如 HTTP 和 TCP)，就可以在內部網路和網際網路上傳送訊息。</span><span class="sxs-lookup"><span data-stu-id="a38a3-124">Messages can be sent over intranets and the Internet using common transports, such as HTTP and TCP.</span></span> <span data-ttu-id="a38a3-125">另外，當中也包括了其他傳輸，以支援與訊息佇列應用程式和對等網路 mesh 上的節點通訊。</span><span class="sxs-lookup"><span data-stu-id="a38a3-125">Other transports are included that support communication with Message Queuing applications and nodes on a Peer Networking mesh.</span></span> <span data-ttu-id="a38a3-126">使用 WCF 的內建擴充點，可以新增更多傳輸機制。</span><span class="sxs-lookup"><span data-stu-id="a38a3-126">More transport mechanisms can be added using the built-in extension points of WCF.</span></span>

<span data-ttu-id="a38a3-127">通訊堆疊中的另一個必要元素是編碼方式，這會指定要以何種方式格式化任何給定訊息。</span><span class="sxs-lookup"><span data-stu-id="a38a3-127">Another required element in the communication stack is the encoding that specifies how any given message is formatted.</span></span> <span data-ttu-id="a38a3-128">WCF 提供下列編碼方式：</span><span class="sxs-lookup"><span data-stu-id="a38a3-128">WCF provides the following encodings:</span></span>

- <span data-ttu-id="a38a3-129">文字編碼方式，互通的編碼方式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-129">Text encoding, an interoperable encoding.</span></span>

- <span data-ttu-id="a38a3-130">訊息傳輸最佳化機制 (MTOM) 編碼方式，可在服務上有效傳送或接收無結構二進位資料的互通方式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-130">Message Transmission Optimization Mechanism (MTOM) encoding, which is an interoperable way for efficiently sending unstructured binary data to and from a service.</span></span>

- <span data-ttu-id="a38a3-131">二進位編碼方式，可有效進行傳輸。</span><span class="sxs-lookup"><span data-stu-id="a38a3-131">Binary encoding for efficient transfer.</span></span>

<span data-ttu-id="a38a3-132">使用 WCF 的內建擴充點，可以新增更多編碼機制（例如，壓縮編碼）。</span><span class="sxs-lookup"><span data-stu-id="a38a3-132">More encoding mechanisms (for example, a compression encoding) can be added using the built-in extension points of WCF.</span></span>

### <a name="message-patterns"></a><span data-ttu-id="a38a3-133">訊息模式</span><span class="sxs-lookup"><span data-stu-id="a38a3-133">Message Patterns</span></span>

<span data-ttu-id="a38a3-134">WCF 支援數種訊息模式，包括要求-回復、單向和雙工通訊。</span><span class="sxs-lookup"><span data-stu-id="a38a3-134">WCF supports several messaging patterns, including request-reply, one-way, and duplex communication.</span></span> <span data-ttu-id="a38a3-135">不同傳輸支援不同傳訊模式，因此會影響所支援的互動類型。</span><span class="sxs-lookup"><span data-stu-id="a38a3-135">Different transports support different messaging patterns, and thus affect the types of interactions that they support.</span></span> <span data-ttu-id="a38a3-136">WCF Api 和執行時間也可協助您以安全且可靠的方式傳送訊息。</span><span class="sxs-lookup"><span data-stu-id="a38a3-136">The WCF APIs and runtime also help you to send messages securely and reliably.</span></span>

## <a name="wcf-terms"></a><span data-ttu-id="a38a3-137">WCF 詞彙</span><span class="sxs-lookup"><span data-stu-id="a38a3-137">WCF Terms</span></span>

<span data-ttu-id="a38a3-138">WCF 檔中使用的其他概念和詞彙包括下列各項：</span><span class="sxs-lookup"><span data-stu-id="a38a3-138">Other concepts and terms used in the WCF documentation include the following:</span></span>

<span data-ttu-id="a38a3-139">**Message**</span><span class="sxs-lookup"><span data-stu-id="a38a3-139">**Message**</span></span>  
 <span data-ttu-id="a38a3-140">這是獨立的資料單位，可由數個部分組成，其中包括本文和標頭。</span><span class="sxs-lookup"><span data-stu-id="a38a3-140">A self-contained unit of data that can consist of several parts, including a body and headers.</span></span>

<span data-ttu-id="a38a3-141">**服務**</span><span class="sxs-lookup"><span data-stu-id="a38a3-141">**Service**</span></span>  
 <span data-ttu-id="a38a3-142">這是公開一個或多個端點的建構，其中每個端點會公開一項或多項服務作業。</span><span class="sxs-lookup"><span data-stu-id="a38a3-142">A construct that exposes one or more endpoints, with each endpoint exposing one or more service operations.</span></span>

<span data-ttu-id="a38a3-143">**端點**</span><span class="sxs-lookup"><span data-stu-id="a38a3-143">**Endpoint**</span></span>  
 <span data-ttu-id="a38a3-144">這是訊息傳送或接收 (或兩者) 所在位置的建構。</span><span class="sxs-lookup"><span data-stu-id="a38a3-144">A construct at which messages are sent or received (or both).</span></span> <span data-ttu-id="a38a3-145">它包含一個位置（位址），它會定義訊息的傳送位置、描述如何傳送訊息的通訊機制規格（系結），以及一組可在該位置傳送或接收（或兩者）的訊息定義（服務合約），描述可以傳送的訊息。</span><span class="sxs-lookup"><span data-stu-id="a38a3-145">It comprises a location (an address) that defines where messages can be sent, a specification of the communication mechanism (a binding) that describes how messages should be sent, and a definition for a set of messages that can be sent or received (or both) at that location (a service contract) that describes what message can be sent.</span></span>

<span data-ttu-id="a38a3-146">WCF 服務會對外界公開為端點集合。</span><span class="sxs-lookup"><span data-stu-id="a38a3-146">A WCF service is exposed to the world as a collection of endpoints.</span></span>

<span data-ttu-id="a38a3-147">**應用程式端點**</span><span class="sxs-lookup"><span data-stu-id="a38a3-147">**Application endpoint**</span></span>  
 <span data-ttu-id="a38a3-148">由應用程式公開的端點，會對應至應用程式所實作的服務合約。</span><span class="sxs-lookup"><span data-stu-id="a38a3-148">An endpoint exposed by the application and that corresponds to a service contract implemented by the application.</span></span>

<span data-ttu-id="a38a3-149">**基礎結構端點**</span><span class="sxs-lookup"><span data-stu-id="a38a3-149">**Infrastructure endpoint**</span></span>  
 <span data-ttu-id="a38a3-150">由基礎結構公開的端點，可提升服務所需或提供、但與服務合約無關之功能的效率。</span><span class="sxs-lookup"><span data-stu-id="a38a3-150">An endpoint that is exposed by the infrastructure to facilitate functionality that is needed or provided by the service that does not relate to a service contract.</span></span> <span data-ttu-id="a38a3-151">例如，服務可能具有提供中繼資料資訊的基礎結構端點。</span><span class="sxs-lookup"><span data-stu-id="a38a3-151">For example, a service might have an infrastructure endpoint that provides metadata information.</span></span>

<span data-ttu-id="a38a3-152">**位址**</span><span class="sxs-lookup"><span data-stu-id="a38a3-152">**Address**</span></span>  
 <span data-ttu-id="a38a3-153">指定接收訊息的位置，</span><span class="sxs-lookup"><span data-stu-id="a38a3-153">Specifies the location where messages are received.</span></span> <span data-ttu-id="a38a3-154">可指定做為統一資源識別元 (URI)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-154">It is specified as a Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="a38a3-155">URI 結構描述部分會指定用來到達位址的傳輸機制，例如 HTTP 和 TCP。</span><span class="sxs-lookup"><span data-stu-id="a38a3-155">The URI schema part names the transport mechanism to use to reach the address, such as HTTP and TCP.</span></span> <span data-ttu-id="a38a3-156">URI 的階層式部分包含唯一位置，其格式取決於傳輸機制。</span><span class="sxs-lookup"><span data-stu-id="a38a3-156">The hierarchical part of the URI contains a unique location whose format is dependent on the transport mechanism.</span></span>

<span data-ttu-id="a38a3-157">端點位址可讓您為服務中的每個端點建立唯一的端點位址，或在特定狀況下讓各端點共用位址。</span><span class="sxs-lookup"><span data-stu-id="a38a3-157">The endpoint address enables you to create unique endpoint addresses for each endpoint in a service or, under certain conditions, to share an address across endpoints.</span></span> <span data-ttu-id="a38a3-158">下列範例示範將 HTTPS 通訊協定與非預設連接埠搭配使用的位址：</span><span class="sxs-lookup"><span data-stu-id="a38a3-158">The following example shows an address using the HTTPS protocol with a non-default port:</span></span>

```http
HTTPS://cohowinery:8005/ServiceModelSamples/CalculatorService
```

<span data-ttu-id="a38a3-159">**綁定**</span><span class="sxs-lookup"><span data-stu-id="a38a3-159">**Binding**</span></span>  
 <span data-ttu-id="a38a3-160">定義端點如何與外界通訊。</span><span class="sxs-lookup"><span data-stu-id="a38a3-160">Defines how an endpoint communicates to the world.</span></span> <span data-ttu-id="a38a3-161">它是由一組稱為繫結項目的元件所建構，這些元件會彼此「堆疊」，以建立通訊基礎結構。</span><span class="sxs-lookup"><span data-stu-id="a38a3-161">It is constructed of a set of components called binding elements that "stack" one on top of the other to create the communication infrastructure.</span></span> <span data-ttu-id="a38a3-162">繫結至少會定義傳輸 (例如 HTTP 或 TCP) 和使用的編碼方式 (例如文字或二進位)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-162">At the very least, a binding defines the transport (such as HTTP or TCP) and the encoding being used (such as text or binary).</span></span> <span data-ttu-id="a38a3-163">繫結程序可以包含用來指定像是安全性機制 (用來保護訊息) 等詳細資料的繫結程序項目，或端點所使用的訊息模式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-163">A binding can contain binding elements that specify details like the security mechanisms used to secure messages, or the message pattern used by an endpoint.</span></span> <span data-ttu-id="a38a3-164">如需詳細資訊，請參閱設定[服務](configuring-services.md)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-164">For more information, see [Configuring Services](configuring-services.md).</span></span>

<span data-ttu-id="a38a3-165">**Binding 元素**</span><span class="sxs-lookup"><span data-stu-id="a38a3-165">**Binding element**</span></span>  
 <span data-ttu-id="a38a3-166">表示一項特定的繫結程序，例如傳輸、編碼方式、基礎結構層級通訊協定的實作 (例如 WS-ReliableMessaging)，或通訊堆疊的任何其他元件。</span><span class="sxs-lookup"><span data-stu-id="a38a3-166">Represents a particular piece of the binding, such as a transport, an encoding, an implementation of an infrastructure-level protocol (such as WS-ReliableMessaging), or any other component of the communication stack.</span></span>

<span data-ttu-id="a38a3-167">**「行為」**</span><span class="sxs-lookup"><span data-stu-id="a38a3-167">**Behaviors**</span></span>  
 <span data-ttu-id="a38a3-168">此元件可控制服務、端點、特定作業或用戶端的各種執行階段層面。</span><span class="sxs-lookup"><span data-stu-id="a38a3-168">A component that controls various run-time aspects of a service, an endpoint, a particular operation, or a client.</span></span> <span data-ttu-id="a38a3-169">行為是根據範圍來分組：通用行為會影響全域所有的端點、服務行為只會影響服務相關的層面、端點行為只會影響端點相關的屬性，而作業層級行為會影響特定作業。</span><span class="sxs-lookup"><span data-stu-id="a38a3-169">Behaviors are grouped according to scope: common behaviors affect all endpoints globally, service behaviors affect only service-related aspects, endpoint behaviors affect only endpoint-related properties, and operation-level behaviors affect particular operations.</span></span> <span data-ttu-id="a38a3-170">例如，其中一個服務行為是節流，這會在過多訊息威脅造成服務處理功能過度負荷時，指定服務的回應方式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-170">For example, one service behavior is throttling, which specifies how a service reacts when an excess of messages threaten to overwhelm its handling capabilities.</span></span> <span data-ttu-id="a38a3-171">另一方面，端點行為只會控制與端點相關的層面，例如尋找安全性認證的方式和位置。</span><span class="sxs-lookup"><span data-stu-id="a38a3-171">An endpoint behavior, on the other hand, controls only aspects that are relevant to endpoints, such as how and where to find a security credential.</span></span>

<span data-ttu-id="a38a3-172">**系統提供的系結**</span><span class="sxs-lookup"><span data-stu-id="a38a3-172">**System-provided bindings**</span></span>  
 <span data-ttu-id="a38a3-173">WCF 包含一些系統提供的繫結。</span><span class="sxs-lookup"><span data-stu-id="a38a3-173">WCF includes a number of system-provided bindings.</span></span> <span data-ttu-id="a38a3-174">這些繫結是已針對特定案例最佳化的繫結項目集合。</span><span class="sxs-lookup"><span data-stu-id="a38a3-174">These are collections of binding elements that are optimized for specific scenarios.</span></span> <span data-ttu-id="a38a3-175">例如， <xref:System.ServiceModel.WSHttpBinding> 是為了與執行各種 WS 規格的服務進行互通性而設計的 \* 。</span><span class="sxs-lookup"><span data-stu-id="a38a3-175">For example, the <xref:System.ServiceModel.WSHttpBinding> is designed for interoperability with services that implement various WS-\* specifications.</span></span> <span data-ttu-id="a38a3-176">這些預先定義的繫結只會提供可正確套用至特定案例的選項，因此能夠節省時間。</span><span class="sxs-lookup"><span data-stu-id="a38a3-176">These predefined bindings save time by presenting only those options that can be correctly applied to the specific scenario.</span></span> <span data-ttu-id="a38a3-177">如果預先定義的繫結不符合您的需求，請建立自訂繫結。</span><span class="sxs-lookup"><span data-stu-id="a38a3-177">If a predefined binding does not meet your requirements, you can create your own custom binding.</span></span>

<span data-ttu-id="a38a3-178">**設定與編碼**</span><span class="sxs-lookup"><span data-stu-id="a38a3-178">**Configuration versus coding**</span></span>  
 <span data-ttu-id="a38a3-179">應用程式可以透過程式碼、組態或兩者的組合來控制。</span><span class="sxs-lookup"><span data-stu-id="a38a3-179">Control of an application can be done either through coding, through configuration, or through a combination of both.</span></span> <span data-ttu-id="a38a3-180">組態的優點是，在撰寫程式碼之後，允許開發人員以外的其他人 (例如，網路系統管理員) 設定用戶端和服務參數，而不需要重新編譯。</span><span class="sxs-lookup"><span data-stu-id="a38a3-180">Configuration has the advantage of allowing someone other than the developer (for example, a network administrator) to set client and service parameters after the code is written and without having to recompile.</span></span> <span data-ttu-id="a38a3-181">組態不僅可讓您設定如端點位址的值，還能讓您加入端點、繫結和行為，取得進一步的控制。</span><span class="sxs-lookup"><span data-stu-id="a38a3-181">Configuration not only enables you to set values like endpoint addresses, but also allows further control by enabling you to add endpoints, bindings, and behaviors.</span></span> <span data-ttu-id="a38a3-182">程式碼可讓開發人員嚴格控制服務或用戶端的所有元件，而且透過組態所做的任何設定都可以使用程式碼進行檢查，並在必要時加以覆寫。</span><span class="sxs-lookup"><span data-stu-id="a38a3-182">Coding allows the developer to retain strict control over all components of the service or client, and any settings done through the configuration can be inspected and if needed overridden by the code.</span></span>

<span data-ttu-id="a38a3-183">**服務作業**</span><span class="sxs-lookup"><span data-stu-id="a38a3-183">**Service operation**</span></span>  
 <span data-ttu-id="a38a3-184">在服務的程式碼中定義的程序，以實作某項作業的功能。</span><span class="sxs-lookup"><span data-stu-id="a38a3-184">A procedure defined in a service's code that implements the functionality for an operation.</span></span> <span data-ttu-id="a38a3-185">這項作業會向用戶端公開為 WCF 用戶端上的方法。</span><span class="sxs-lookup"><span data-stu-id="a38a3-185">This operation is exposed to clients as methods on a WCF client.</span></span> <span data-ttu-id="a38a3-186">此方法可傳回值並能接受選擇性數目的引數，或者不接受引數且不傳回任何回應。</span><span class="sxs-lookup"><span data-stu-id="a38a3-186">The method can return a value, and can take an optional number of arguments, or take no arguments, and return no response.</span></span> <span data-ttu-id="a38a3-187">例如，作用為簡單 "Hello" 的作業，可以做為用戶端出席狀態的通知，並且用來開始一系列的作業。</span><span class="sxs-lookup"><span data-stu-id="a38a3-187">For example, an operation that functions as a simple "Hello" can be used as a notification of a client's presence and to begin a series of operations.</span></span>

<span data-ttu-id="a38a3-188">**服務合約**</span><span class="sxs-lookup"><span data-stu-id="a38a3-188">**Service contract**</span></span>  
 <span data-ttu-id="a38a3-189">將多個相關作業結合成單一功能單位。</span><span class="sxs-lookup"><span data-stu-id="a38a3-189">Ties together multiple related operations into a single functional unit.</span></span> <span data-ttu-id="a38a3-190">合約可以定義服務層級的設定，例如服務的命名空間、對應的回呼合約和其他類似的設定。</span><span class="sxs-lookup"><span data-stu-id="a38a3-190">The contract can define service-level settings, such as the namespace of the service, a corresponding callback contract, and other such settings.</span></span> <span data-ttu-id="a38a3-191">在大部分的情況下，合約是以您選擇的程式語言建立介面，並且將 <xref:System.ServiceModel.ServiceContractAttribute> 屬性套用至介面的方式來定義。</span><span class="sxs-lookup"><span data-stu-id="a38a3-191">In most cases, the contract is defined by creating an interface in the programming language of your choice and applying the <xref:System.ServiceModel.ServiceContractAttribute> attribute to the interface.</span></span> <span data-ttu-id="a38a3-192">藉由實作介面，即可產生實際服務程式碼。</span><span class="sxs-lookup"><span data-stu-id="a38a3-192">The actual service code results by implementing the interface.</span></span>

<span data-ttu-id="a38a3-193">**作業合約**</span><span class="sxs-lookup"><span data-stu-id="a38a3-193">**Operation contract**</span></span>  
 <span data-ttu-id="a38a3-194">作業合約會定義作業的參數和傳回型別。</span><span class="sxs-lookup"><span data-stu-id="a38a3-194">An operation contract defines the parameters and return type of an operation.</span></span> <span data-ttu-id="a38a3-195">當建立會定義服務合約的介面時，您可以將 <xref:System.ServiceModel.OperationContractAttribute> 屬性套用至屬於合約一部分的每個方法定義，來表示作業合約。</span><span class="sxs-lookup"><span data-stu-id="a38a3-195">When creating an interface that defines the service contract, you signify an operation contract by applying the <xref:System.ServiceModel.OperationContractAttribute> attribute to each method definition that is part of the contract.</span></span> <span data-ttu-id="a38a3-196">作業可以模式化成接受單一訊息且傳回單一訊息，或者接受一組型別且傳回一個型別。</span><span class="sxs-lookup"><span data-stu-id="a38a3-196">The operations can be modeled as taking a single message and returning a single message, or as taking a set of types and returning a type.</span></span> <span data-ttu-id="a38a3-197">在後者中，系統會判斷該作業需要交換之訊息的格式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-197">In the latter case, the system will determine the format for the messages that need to be exchanged for that operation.</span></span>

<span data-ttu-id="a38a3-198">**訊息合約**</span><span class="sxs-lookup"><span data-stu-id="a38a3-198">**Message contract**</span></span>  
 <span data-ttu-id="a38a3-199">描述訊息的格式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-199">Describes the format of a message.</span></span> <span data-ttu-id="a38a3-200">例如，它會宣告訊息項目應放在標頭或本文、應該將哪個層級的安全性套用至哪些訊息的項目等等。</span><span class="sxs-lookup"><span data-stu-id="a38a3-200">For example, it declares whether message elements should go in headers versus the body, what level of security should be applied to what elements of the message, and so on.</span></span>

<span data-ttu-id="a38a3-201">**錯誤合約**</span><span class="sxs-lookup"><span data-stu-id="a38a3-201">**Fault contract**</span></span>  
 <span data-ttu-id="a38a3-202">可以與服務作業產生關聯，來表示可以傳回至呼叫者的錯誤。</span><span class="sxs-lookup"><span data-stu-id="a38a3-202">Can be associated with a service operation to denote errors that can be returned to the caller.</span></span> <span data-ttu-id="a38a3-203">作業可以有零或多個相關聯的錯誤。</span><span class="sxs-lookup"><span data-stu-id="a38a3-203">An operation can have zero or more faults associated with it.</span></span> <span data-ttu-id="a38a3-204">這些錯誤屬於 SOAP 錯誤，這種錯誤會模式化為程式設計模型中的例外狀況。</span><span class="sxs-lookup"><span data-stu-id="a38a3-204">These errors are SOAP faults that are modeled as exceptions in the programming model.</span></span>

<span data-ttu-id="a38a3-205">**資料合約**</span><span class="sxs-lookup"><span data-stu-id="a38a3-205">**Data contract**</span></span>  
 <span data-ttu-id="a38a3-206">服務所使用的資料型別其中繼資料內的描述。</span><span class="sxs-lookup"><span data-stu-id="a38a3-206">The descriptions in metadata of the data types that a service uses.</span></span> <span data-ttu-id="a38a3-207">這讓其他項目得以與服務相互溝通。</span><span class="sxs-lookup"><span data-stu-id="a38a3-207">This enables others to interoperate with the service.</span></span> <span data-ttu-id="a38a3-208">資料型別可以用於訊息的任何部分，例如做為參數或傳回型別。</span><span class="sxs-lookup"><span data-stu-id="a38a3-208">The data types can be used in any part of a message, for example, as parameters or return types.</span></span> <span data-ttu-id="a38a3-209">如果服務只使用簡單型別，就不需要明確使用資料合約。</span><span class="sxs-lookup"><span data-stu-id="a38a3-209">If the service is using only simple types, there is no need to explicitly use data contracts.</span></span>

<span data-ttu-id="a38a3-210">**Hosting**</span><span class="sxs-lookup"><span data-stu-id="a38a3-210">**Hosting**</span></span>  
 <span data-ttu-id="a38a3-211">服務必須裝載於某些處理序。</span><span class="sxs-lookup"><span data-stu-id="a38a3-211">A service must be hosted in some process.</span></span> <span data-ttu-id="a38a3-212">_主機_是控制服務存留期的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-212">A _host_ is an application that controls the lifetime of the service.</span></span> <span data-ttu-id="a38a3-213">服務可以是自我裝載，或由現有裝載處理序管理。</span><span class="sxs-lookup"><span data-stu-id="a38a3-213">Services can be self-hosted or managed by an existing hosting process.</span></span>

<span data-ttu-id="a38a3-214">**自我裝載服務**</span><span class="sxs-lookup"><span data-stu-id="a38a3-214">**Self-hosted service**</span></span>  
 <span data-ttu-id="a38a3-215">這種服務是在開發人員建立的處理序應用程式中執行。</span><span class="sxs-lookup"><span data-stu-id="a38a3-215">A service that runs within a process application that the developer created.</span></span> <span data-ttu-id="a38a3-216">開發人員會控制服務存留期、設定服務屬性、開啟服務 (這會將服務設定為接聽模式) 以及關閉服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-216">The developer controls its lifetime, sets the properties of the service, opens the service (which sets it into a listening mode), and closes the service.</span></span>

<span data-ttu-id="a38a3-217">**裝載進程**</span><span class="sxs-lookup"><span data-stu-id="a38a3-217">**Hosting process**</span></span>  
 <span data-ttu-id="a38a3-218">一種應用程式，設計用來裝載服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-218">An application that is designed to host services.</span></span> <span data-ttu-id="a38a3-219">其中包括網際網路資訊服務 (IIS)、Windows Activation Services (WAS) 和 Windows 服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-219">These include Internet Information Services (IIS), Windows Activation Services (WAS), and Windows Services.</span></span> <span data-ttu-id="a38a3-220">在這些裝載案例中，主機會控制服務的存留期。</span><span class="sxs-lookup"><span data-stu-id="a38a3-220">In these hosted scenarios, the host controls the lifetime of the service.</span></span> <span data-ttu-id="a38a3-221">例如，您可以使用 IIS 來設定包含服務組件和組態檔的虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="a38a3-221">For example, using IIS you can set up a virtual directory that contains the service assembly and configuration file.</span></span> <span data-ttu-id="a38a3-222">當接收到訊息時，IIS 就會啟動服務並控制它的存留期。</span><span class="sxs-lookup"><span data-stu-id="a38a3-222">When a message is received, IIS starts the service and controls its lifetime.</span></span>

<span data-ttu-id="a38a3-223">**實例**</span><span class="sxs-lookup"><span data-stu-id="a38a3-223">**Instancing**</span></span>  
 <span data-ttu-id="a38a3-224">服務具有執行個體模型 (Instancing Model)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-224">A service has an instancing model.</span></span> <span data-ttu-id="a38a3-225">執行個體模型有三種：「單一」表示單一 CLR 物件會服務所有用戶端，「每一呼叫」表示會建立新 CLR 物件來處理每個用戶端呼叫，而「每一工作階段」表示會建立一組 CLR 物件，每個物件各代表單一個別工作階段。</span><span class="sxs-lookup"><span data-stu-id="a38a3-225">There are three instancing models: "single," in which a single CLR object services all the clients; "per call," in which a new CLR object is created to handle each client call; and "per session," in which a set of CLR objects is created, one for each separate session.</span></span> <span data-ttu-id="a38a3-226">執行個體模型的選擇取決於應用程式需求和預期的服務使用模式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-226">The choice of an instancing model depends on the application requirements and the expected usage pattern of the service.</span></span>

<span data-ttu-id="a38a3-227">**用戶端應用程式**</span><span class="sxs-lookup"><span data-stu-id="a38a3-227">**Client application**</span></span>  
 <span data-ttu-id="a38a3-228">這是與一個或多個端點交換訊息的程式。</span><span class="sxs-lookup"><span data-stu-id="a38a3-228">A program that exchanges messages with one or more endpoints.</span></span> <span data-ttu-id="a38a3-229">用戶端應用程式首先會建立 WCF 用戶端的執行個體，並呼叫 WCF 用戶端的方法。</span><span class="sxs-lookup"><span data-stu-id="a38a3-229">The client application begins by creating an instance of a WCF client and calling methods of the WCF client.</span></span> <span data-ttu-id="a38a3-230">值得注意的是，單一應用程式可以同時是用戶端和服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-230">It is important to note that a single application can be both a client and a service.</span></span>

<span data-ttu-id="a38a3-231">**通道**</span><span class="sxs-lookup"><span data-stu-id="a38a3-231">**Channel**</span></span>  
 <span data-ttu-id="a38a3-232">這是繫結項目的實體實作。</span><span class="sxs-lookup"><span data-stu-id="a38a3-232">A concrete implementation of a binding element.</span></span> <span data-ttu-id="a38a3-233">繫結表示組態，通道則是與該組態相關聯的實作。</span><span class="sxs-lookup"><span data-stu-id="a38a3-233">The binding represents the configuration, and the channel is the implementation associated with that configuration.</span></span> <span data-ttu-id="a38a3-234">因此，每個繫結項目都有相關聯的通道。</span><span class="sxs-lookup"><span data-stu-id="a38a3-234">Therefore, there is a channel associated with each binding element.</span></span> <span data-ttu-id="a38a3-235">通道會彼此堆疊，以建立繫結程序的實體實作，也就是「通道堆疊」。</span><span class="sxs-lookup"><span data-stu-id="a38a3-235">Channels stack on top of each other to create the concrete implementation of the binding: the channel stack.</span></span>

<span data-ttu-id="a38a3-236">**WCF Client - WCF 用戶端**</span><span class="sxs-lookup"><span data-stu-id="a38a3-236">**WCF client**</span></span>  
 <span data-ttu-id="a38a3-237">用戶端應用程式的結構，會將服務作業公開為方法（以您選擇的 .NET Framework 程式設計語言，例如 Visual Basic 或 Visual c #）。</span><span class="sxs-lookup"><span data-stu-id="a38a3-237">A client-application construct that exposes the service operations as methods (in the .NET Framework programming language of your choice, such as Visual Basic or Visual C#).</span></span> <span data-ttu-id="a38a3-238">任何應用程式都可以裝載 WCF 用戶端，包括裝載服務的應用程式，</span><span class="sxs-lookup"><span data-stu-id="a38a3-238">Any application can host a WCF client, including an application that hosts a service.</span></span> <span data-ttu-id="a38a3-239">因此，您可以建立包含其他服務之 WCF 用戶端的服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-239">Therefore, it is possible to create a service that includes WCF clients of other services.</span></span>

<span data-ttu-id="a38a3-240">WCF 用戶端可以使用[System.servicemodel 中繼資料公用程式工具（Svcutil.exe）](servicemodel-metadata-utility-tool-svcutil-exe.md)自動產生，並將它指向發行中繼資料的執行中服務。</span><span class="sxs-lookup"><span data-stu-id="a38a3-240">A WCF client can be automatically generated by using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md) and pointing it at a running service that publishes metadata.</span></span>

<span data-ttu-id="a38a3-241">**中繼資料**</span><span class="sxs-lookup"><span data-stu-id="a38a3-241">**Metadata**</span></span>  
 <span data-ttu-id="a38a3-242">在服務中描述服務的特性，外部實體必須了解這些服務特性，才能與此服務通訊。</span><span class="sxs-lookup"><span data-stu-id="a38a3-242">In a service, describes the characteristics of the service that an external entity needs to understand to communicate with the service.</span></span> <span data-ttu-id="a38a3-243">[System.servicemodel 中繼資料公用程式工具（Svcutil.exe）](servicemodel-metadata-utility-tool-svcutil-exe.md)可以取用中繼資料，以產生 WCF 用戶端和隨附的設定，讓用戶端應用程式可用來與服務互動。</span><span class="sxs-lookup"><span data-stu-id="a38a3-243">Metadata can be consumed by the [ServiceModel Metadata Utility Tool (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md) to generate a WCF client and accompanying configuration that a client application can use to interact with the service.</span></span>

<span data-ttu-id="a38a3-244">服務公開的中繼資料包括 XML 結構描述文件 (定義服務的資料合約) 和 WSDL 文件 (描述服務的方法)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-244">The metadata exposed by the service includes XML schema documents, which define the data contract of the service, and WSDL documents, which describe the methods of the service.</span></span>

<span data-ttu-id="a38a3-245">啟用時，WCF 會藉由檢查服務及其端點，自動產生服務的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="a38a3-245">When enabled, metadata for the service is automatically generated by WCF by inspecting the service and its endpoints.</span></span> <span data-ttu-id="a38a3-246">若要從服務發行中繼資料，您必須明確啟用中繼資料行為。</span><span class="sxs-lookup"><span data-stu-id="a38a3-246">To publish metadata from a service, you must explicitly enable the metadata behavior.</span></span>

<span data-ttu-id="a38a3-247">**安全性**</span><span class="sxs-lookup"><span data-stu-id="a38a3-247">**Security**</span></span>  
 <span data-ttu-id="a38a3-248">在 WCF 中，包含機密性（加密訊息以防止竊聽）、完整性（偵測到對訊息進行篡改的方法）、驗證（驗證服務器和用戶端的方法），以及授權（控制資源的存取權）。</span><span class="sxs-lookup"><span data-stu-id="a38a3-248">In WCF, includes confidentiality (encryption of messages to prevent eavesdropping), integrity (the means for detection of tampering with the message), authentication (the means for validation of servers and clients), and authorization (the control of access to resources).</span></span> <span data-ttu-id="a38a3-249">這些函式是利用現有的安全性機制來提供，例如 TLS over HTTP （也稱為 HTTPS），或藉由執行一或多個不同的 WS- \* 安全性規格。</span><span class="sxs-lookup"><span data-stu-id="a38a3-249">These functions are provided by either leveraging existing security mechanisms, such as TLS over HTTP (also known as HTTPS), or by implementing one or more of the various WS-\* security specifications.</span></span>

<span data-ttu-id="a38a3-250">**傳輸安全性模式**</span><span class="sxs-lookup"><span data-stu-id="a38a3-250">**Transport security mode**</span></span>  
 <span data-ttu-id="a38a3-251">指定由傳輸層機制 (例如 HTTPS) 提供機密性、完整性和驗證。</span><span class="sxs-lookup"><span data-stu-id="a38a3-251">Specifies that confidentiality, integrity, and authentication are provided by the transport layer mechanisms (such as HTTPS).</span></span> <span data-ttu-id="a38a3-252">在使用如 HTTPS 的傳輸時，這個模式的優點在於效能會更有效率，而且易於理解 (因為普遍使用在網際網路上)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-252">When using a transport like HTTPS, this mode has the advantage of being efficient in its performance, and well understood because of its prevalence on the Internet.</span></span> <span data-ttu-id="a38a3-253">缺點是，這種類型的安全性是個別套用在通訊路徑上的每個躍點，因此通訊容易受到「攔截式」攻擊。</span><span class="sxs-lookup"><span data-stu-id="a38a3-253">The disadvantage is that this kind of security is applied separately on each hop in the communication path, making the communication susceptible to a "man in the middle" attack.</span></span>

<span data-ttu-id="a38a3-254">**訊息安全性模式**</span><span class="sxs-lookup"><span data-stu-id="a38a3-254">**Message security mode**</span></span>  
 <span data-ttu-id="a38a3-255">指定藉由執行一或多個安全性規格來提供安全性，例如名為[Web 服務安全性： SOAP 訊息安全性](http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0.pdf)的規格。</span><span class="sxs-lookup"><span data-stu-id="a38a3-255">Specifies that security is provided by implementing one or more of the security specifications, such as the specification named [Web Services Security: SOAP Message Security](http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0.pdf).</span></span> <span data-ttu-id="a38a3-256">每個訊息都會包含必要機制，以便在訊息傳輸期間提供安全性，並讓接收者可以偵測竄改及解密訊息。</span><span class="sxs-lookup"><span data-stu-id="a38a3-256">Each message contains the necessary mechanisms to provide security during its transit, and to enable the receivers to detect tampering and to decrypt the messages.</span></span> <span data-ttu-id="a38a3-257">就這個意義而言，安全性是封裝在每個訊息內，可以在多個躍點間提供端對端安全性。</span><span class="sxs-lookup"><span data-stu-id="a38a3-257">In this sense, the security is encapsulated within every message, providing end-to-end security across multiple hops.</span></span> <span data-ttu-id="a38a3-258">因為安全性資訊會成為訊息的一部分，所以也可以包含多個具有訊息的認證（稱為「_宣告_」）。</span><span class="sxs-lookup"><span data-stu-id="a38a3-258">Because security information becomes part of the message, it is also possible to include multiple kinds of credentials with the message (these are referred to as _claims_).</span></span> <span data-ttu-id="a38a3-259">這個方法的優點是，訊息可以透過任何傳輸安全地傳送，包括來源和目的地之間的多個傳輸。</span><span class="sxs-lookup"><span data-stu-id="a38a3-259">This approach also has the advantage of enabling the message to travel securely over any transport, including multiple transports between its origin and destination.</span></span> <span data-ttu-id="a38a3-260">缺點是使用的密碼編譯機制很複雜，因此會影響效能。</span><span class="sxs-lookup"><span data-stu-id="a38a3-260">The disadvantage of this approach is the complexity of the cryptographic mechanisms employed, resulting in performance implications.</span></span>

<span data-ttu-id="a38a3-261">**使用訊息認證安全性模式傳輸**</span><span class="sxs-lookup"><span data-stu-id="a38a3-261">**Transport with message credential security mode**</span></span>  
 <span data-ttu-id="a38a3-262">指定使用傳輸層來提供訊息的機密性、驗證和完整性，而每個訊息都包含訊息接收者所需的多個認證 (宣告)。</span><span class="sxs-lookup"><span data-stu-id="a38a3-262">Specifies the use of the transport layer to provide confidentiality, authentication, and integrity of the messages, while each of the messages can contain multiple credentials (claims) required by the receivers of the message.</span></span>

<span data-ttu-id="a38a3-263">**ATL-WS-01\***</span><span class="sxs-lookup"><span data-stu-id="a38a3-263">**WS-\***</span></span>  
 <span data-ttu-id="a38a3-264">一組發展中 Web 服務 (WS) 規格的縮寫，例如 WCF 中所實作的 WS-Security 與 WS-ReliableMessaging 等等。</span><span class="sxs-lookup"><span data-stu-id="a38a3-264">Shorthand for the growing set of Web Service (WS) specifications, such as WS-Security, WS-ReliableMessaging, and so on, that are implemented in WCF.</span></span>

## <a name="see-also"></a><span data-ttu-id="a38a3-265">另請參閱</span><span class="sxs-lookup"><span data-stu-id="a38a3-265">See also</span></span>

- [<span data-ttu-id="a38a3-266">什麼是 Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="a38a3-266">What Is Windows Communication Foundation</span></span>](whats-wcf.md)
- [<span data-ttu-id="a38a3-267">Windows Communication Foundation 架構</span><span class="sxs-lookup"><span data-stu-id="a38a3-267">Windows Communication Foundation Architecture</span></span>](architecture.md)
