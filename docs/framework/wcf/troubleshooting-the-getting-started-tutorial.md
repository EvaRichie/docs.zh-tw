---
title: 針對 Windows Communication Foundation 入門教學課程進行疑難排解
ms.date: 01/25/2019
ms.assetid: 69a21511-0871-4c41-9a53-93110e84d7fd
ms.openlocfilehash: 4d471372419996c5bc490c2d0fdd83927428a41e
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/26/2020
ms.locfileid: "96281335"
---
# <a name="troubleshoot-the-get-started-with-windows-communication-foundation-tutorials"></a><span data-ttu-id="40b40-102">針對 Windows Communication Foundation 入門教學課程進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="40b40-102">Troubleshoot the Get started with Windows Communication Foundation tutorials</span></span>

<span data-ttu-id="40b40-103">本文提供當您遵循教學課程中的步驟 [：開始使用 Windows Communication Foundation 應用程式](getting-started-tutorial.md)時，可能會遇到的最常見問題和錯誤的解決方案。</span><span class="sxs-lookup"><span data-stu-id="40b40-103">This article provides solutions for the most common problems and errors you might face when you follow the steps in the [Tutorial: Get started with Windows Communication Foundation applications](getting-started-tutorial.md).</span></span>
  
## <a name="common-problems"></a><span data-ttu-id="40b40-104">常見問題</span><span class="sxs-lookup"><span data-stu-id="40b40-104">Common problems</span></span>

<span data-ttu-id="40b40-105">**我在硬碟上找不到專案檔案。**</span><span class="sxs-lookup"><span data-stu-id="40b40-105">**I can't find the project files on my hard drive.**</span></span>

 <span data-ttu-id="40b40-106">Visual Studio 會將專案檔案儲存在 *C:\Users \\ &lt; 使用者名稱 &gt; \source\repos* 中。</span><span class="sxs-lookup"><span data-stu-id="40b40-106">Visual Studio saves project files in *C:\Users\\&lt;user name&gt;\source\repos*.</span></span>  

<span data-ttu-id="40b40-107">**我找不到 *Svcutil.exe* 所產生的 *App.config* 檔案。**</span><span class="sxs-lookup"><span data-stu-id="40b40-107">**I can't find the *App.config* file generated by *Svcutil.exe*.**</span></span>

 <span data-ttu-id="40b40-108">在 Visual Studio 中，[ **加入現有專案** ] 視窗預設只會顯示具有下列副檔名的檔案：</span><span class="sxs-lookup"><span data-stu-id="40b40-108">In Visual Studio, the **Add Existing Item** window only displays files with the following extensions by default:</span></span>

- <span data-ttu-id="40b40-109">*.cs*</span><span class="sxs-lookup"><span data-stu-id="40b40-109">*.cs*</span></span>
- <span data-ttu-id="40b40-110">*.resx*</span><span class="sxs-lookup"><span data-stu-id="40b40-110">*.resx*</span></span>
- <span data-ttu-id="40b40-111">*。設定*</span><span class="sxs-lookup"><span data-stu-id="40b40-111">*.settings*</span></span>
- <span data-ttu-id="40b40-112">*.xsd*</span><span class="sxs-lookup"><span data-stu-id="40b40-112">*.xsd*</span></span>
- <span data-ttu-id="40b40-113">*.wsdl*</span><span class="sxs-lookup"><span data-stu-id="40b40-113">*.wsdl*</span></span>

<span data-ttu-id="40b40-114">若要顯示所有檔案類型，請在 [**加入現有專案**] 視窗右下角的下拉式清單中，選取 [所有檔案] **(\* . \*) 。**</span><span class="sxs-lookup"><span data-stu-id="40b40-114">To display all file types, select **All Files (\*.\*)** in the drop-down list in the lower-right corner of the **Add Existing Item** window.</span></span>  
  
## <a name="common-errors"></a><span data-ttu-id="40b40-115">常見錯誤</span><span class="sxs-lookup"><span data-stu-id="40b40-115">Common errors</span></span>

### <a name="compile-the-service-application"></a><span data-ttu-id="40b40-116">編譯服務應用程式</span><span class="sxs-lookup"><span data-stu-id="40b40-116">Compile the service application</span></span>

<span data-ttu-id="40b40-117">**在 ' GettingStartedHost ' 中找不到 ' Sub Main ' 的錯誤 BC30420。**</span><span class="sxs-lookup"><span data-stu-id="40b40-117">**Error BC30420 'Sub Main' was not found in 'GettingStartedHost.Module1'.**</span></span>

<span data-ttu-id="40b40-118">Visual Basic 應用程式的進入點不正確。</span><span class="sxs-lookup"><span data-stu-id="40b40-118">The entry point is incorrect for the Visual Basic application.</span></span> <span data-ttu-id="40b40-119">進行下列變更：</span><span class="sxs-lookup"><span data-stu-id="40b40-119">Make the following change:</span></span>

   1. <span data-ttu-id="40b40-120">在 [ **方案總管** ] 視窗中，選取 [ **GettingStartedHost** ] 資料夾，然後從快捷方式功能表選取 [ **屬性** ]。</span><span class="sxs-lookup"><span data-stu-id="40b40-120">In the **Solution Explorer** window, select the **GettingStartedHost** folder, and then select **Properties** from the shortcut menu.</span></span>
    <span data-ttu-id="40b40-121">a.</span><span class="sxs-lookup"><span data-stu-id="40b40-121">a.</span></span> <span data-ttu-id="40b40-122">在 [ **GettingStartedHost** ] 視窗中，針對 [ **啟始物件**]，從清單中選取 [ **服務** ] (或特定應用程式) 的進入點。</span><span class="sxs-lookup"><span data-stu-id="40b40-122">In the **GettingStartedHost** window, for **Startup object**, select **Service.Program** (or the entry point for your particular application) from the list.</span></span>
    <span data-ttu-id="40b40-123">b.</span><span class="sxs-lookup"><span data-stu-id="40b40-123">b.</span></span> <span data-ttu-id="40b40-124">從主功能表中 **，選取 [**  >  **全部儲存**]。</span><span class="sxs-lookup"><span data-stu-id="40b40-124">From the main menu, select **File** > **Save All**.</span></span>

### <a name="run-the-service-application"></a><span data-ttu-id="40b40-125">執行服務應用程式</span><span class="sxs-lookup"><span data-stu-id="40b40-125">Run the service application</span></span>

<span data-ttu-id="40b40-126">**HTTP 無法註冊 URL ' HTTP： \/ /+： 8000/GettingStarted/CalculatorService '。您的進程沒有此命名空間的存取權限。**</span><span class="sxs-lookup"><span data-stu-id="40b40-126">**HTTP could not register URL 'http:\//+:8000/GettingStarted/CalculatorService'. Your process does not have access rights to this namespace.**</span></span>

 <span data-ttu-id="40b40-127">如需適當的存取權，請使用系統管理許可權啟動裝載 Windows Communication Foundation (WCF) 服務的進程：</span><span class="sxs-lookup"><span data-stu-id="40b40-127">For proper access, start the process hosting the Windows Communication Foundation (WCF) service with administrative privileges:</span></span>

- <span data-ttu-id="40b40-128">針對 Visual Studio：選取 [**開始**] 功能表中的 [Visual Studio] 程式，然後從快捷方式功能表 **選取 [以**  >  **系統管理員身分執行**]。</span><span class="sxs-lookup"><span data-stu-id="40b40-128">For Visual Studio: Select the Visual Studio program in the **Start** menu, and then select **More** > **Run as administrator** from the shortcut menu.</span></span>
- <span data-ttu-id="40b40-129">在主控台視窗中：選取 [**開始**] 功能表中的 [**命令提示** 字元]，然後從快捷方式功能表 **選取 [以**  >  **系統管理員身分執行**]。</span><span class="sxs-lookup"><span data-stu-id="40b40-129">For a console window: Select **Command Prompt** in the **Start** menu, and then select **More** > **Run As administrator** from the shortcut menu.</span></span>
- <span data-ttu-id="40b40-130">針對 Windows 檔案總管：選取可執行檔，然後從快捷方式功能表選取 [以 **系統管理員身分執行** ]。</span><span class="sxs-lookup"><span data-stu-id="40b40-130">For Windows Explorer: Select the executable, and then select **Run as administrator** from the shortcut menu.</span></span>

### <a name="compile-the-client-application"></a><span data-ttu-id="40b40-131">編譯用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="40b40-131">Compile the client application</span></span>

<span data-ttu-id="40b40-132">**' CalculatorClient ' 不包含 ' ' 的定義， \<method name> 而且找不到任何擴充方法 ' \<method name> ' 接受類型 ' CalculatorClient ' 的第一個引數 (您是否遺漏 using 指示詞或元件參考？ )**</span><span class="sxs-lookup"><span data-stu-id="40b40-132">**'CalculatorClient', does not contain a definition for '\<method name>' and no extension method '\<method name>' accepting a first argument of type 'CalculatorClient' could be found (are you missing a using directive or an assembly reference?)**</span></span>  

<span data-ttu-id="40b40-133">只有您以屬性標示的方法 `ServiceOperationAttribute` 會公開公開。</span><span class="sxs-lookup"><span data-stu-id="40b40-133">Only those methods that you mark with the `ServiceOperationAttribute` attribute are publically exposed.</span></span> <span data-ttu-id="40b40-134">如果您 `ServiceOperationAttribute` 從介面中的方法省略屬性 `ICalculator` ，您會在編譯期間收到此錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="40b40-134">If you omit the `ServiceOperationAttribute` attribute from a method in the `ICalculator` interface, you receive this error message during compilation.</span></span>  

<span data-ttu-id="40b40-135">**找不到類型或命名空間名稱 ' CalculatorClient ' (您是否遺漏 using 指示詞或元件參考？ )**</span><span class="sxs-lookup"><span data-stu-id="40b40-135">**The type or namespace name 'CalculatorClient' could not be found (are you missing a using directive or an assembly reference?)**</span></span>

 <span data-ttu-id="40b40-136">如果您在使用 *Svcutil.exe* 工具產生 *generatedProxy.cs* (或) *generatedProxy* 檔案至用戶端專案時未將該檔案新增至用戶端專案，就會收到這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="40b40-136">You receive this error if you don't add the *generatedProxy.cs* (or *generatedProxy.vb*) file to your client project when you generated them with the *Svcutil.exe* tool.</span></span>  

### <a name="run-the-client-application"></a><span data-ttu-id="40b40-137">執行用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="40b40-137">Run the client application</span></span>

<span data-ttu-id="40b40-138">**未處理的例外狀況： System.servicemodel. EndpointNotFoundException：無法連接到 ' HTTP： \/ /localhost： 8000/GettingStarted/CalculatorService '。TCP 錯誤碼10061：無法建立連接，因為目的電腦主動拒絕連線。**</span><span class="sxs-lookup"><span data-stu-id="40b40-138">**Unhandled Exception: System.ServiceModel.EndpointNotFoundException: Could not connect to 'http:\//localhost:8000/GettingStarted/CalculatorService'. TCP error code 10061: No connection could be made because the target machine actively refused it.**</span></span>

<span data-ttu-id="40b40-139">如果您在未先啟動服務的情況下執行用戶端應用程式，就會發生這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="40b40-139">This error occurs if you run the client application without first starting the service.</span></span> <span data-ttu-id="40b40-140">首先，執行主機應用程式來啟動服務，然後執行用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="40b40-140">First, run the host application to start the service, and then run the client application.</span></span>

### <a name="use-the-svcutilexe-tool"></a><span data-ttu-id="40b40-141">使用 Svcutil.exe 工具</span><span class="sxs-lookup"><span data-stu-id="40b40-141">Use the Svcutil.exe tool</span></span>

<span data-ttu-id="40b40-142">**' Svcutil ' 無法辨識為內部或外部命令、可操作的程式或批次檔。**</span><span class="sxs-lookup"><span data-stu-id="40b40-142">**'Svcutil' is not recognized as an internal or external command, operable program, or batch file.**</span></span>

 <span data-ttu-id="40b40-143">*Svcutil.exe* 必須在系統路徑中。</span><span class="sxs-lookup"><span data-stu-id="40b40-143">*Svcutil.exe* must be in the system path.</span></span> <span data-ttu-id="40b40-144">最簡單的解決方案是使用 Visual Studio 命令提示字元。</span><span class="sxs-lookup"><span data-stu-id="40b40-144">The easiest solution is to use the Visual Studio command prompt.</span></span> <span data-ttu-id="40b40-145">從 [**開始**] 功能表選取 **\<version> Visual Studio** 目錄，然後選取 [ **VS \<version> ] 開發人員命令提示字元**。</span><span class="sxs-lookup"><span data-stu-id="40b40-145">From the **Start** menu, select the **Visual Studio \<version>** directory, then select **Developer Command Prompt for VS \<version>**.</span></span> <span data-ttu-id="40b40-146">此命令提示字元會將系統路徑設定為 Visual Studio 中隨附之所有工具的正確位置。</span><span class="sxs-lookup"><span data-stu-id="40b40-146">This command prompt sets the system path to the correct locations for all tools shipped as part of Visual Studio.</span></span>  
  
### <a name="run-the-service-and-client-applications"></a><span data-ttu-id="40b40-147">執行服務和用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="40b40-147">Run the service and client applications</span></span>

<span data-ttu-id="40b40-148">**System.servicemodel.security.securitynegotiationexception： \/ 對目標 ' HTTP： \/ /localhost： 8000/GettingStarted/CalculatorService ' 使用 ' HTTP：/localhost： 8000/GettingStarted/CalculatorService ' 的 SOAP 安全性協商失敗**</span><span class="sxs-lookup"><span data-stu-id="40b40-148">**System.ServiceModel.Security.SecurityNegotiationException: SOAP security negotiation with 'http:\//localhost:8000/GettingStarted/CalculatorService' for target 'http:\//localhost:8000/GettingStarted/CalculatorService' failed**</span></span>  

<span data-ttu-id="40b40-149">當加入網域的電腦沒有網路連線時，就會發生此錯誤。</span><span class="sxs-lookup"><span data-stu-id="40b40-149">This error occurs on a domain-joined computer that doesn't have network connectivity.</span></span> <span data-ttu-id="40b40-150">將您的電腦連接到網路，或關閉服務和用戶端的安全性。</span><span class="sxs-lookup"><span data-stu-id="40b40-150">Connect your computer to the network or turn off security for both the service and the client.</span></span>

<span data-ttu-id="40b40-151">若要關閉安全性：</span><span class="sxs-lookup"><span data-stu-id="40b40-151">To turn off security:</span></span>

- <span data-ttu-id="40b40-152">針對服務，以下列程式碼取代建立的程式碼 `WSHttpBinding` ：</span><span class="sxs-lookup"><span data-stu-id="40b40-152">For the service, replace the code that creates the `WSHttpBinding` with the following code:</span></span>  
  
    ```csharp
    // Step 3: Add a service endpoint.
    selfhost.AddServiceEndpoint(typeof(ICalculator), new WSHttpBinding(SecurityMode.None), "CalculatorService");  
    ```

- <span data-ttu-id="40b40-153">若為用戶端，請在設定檔中更新元素底下的專案，如下所示 **\<security>** **\<binding>** ：</span><span class="sxs-lookup"><span data-stu-id="40b40-153">For the client, in the configuration file, update the **\<security>** element under the **\<binding>** element as follows:</span></span>  
  
    ```xml
    <binding name="WSHttpBinding_ICalculator">
      <security mode="None" />
    </binding
    ```  

## <a name="see-also"></a><span data-ttu-id="40b40-154">另請參閱</span><span class="sxs-lookup"><span data-stu-id="40b40-154">See also</span></span>  

 [<span data-ttu-id="40b40-155">WCF 應用程式入門</span><span class="sxs-lookup"><span data-stu-id="40b40-155">Get started with WCF applications</span></span>](getting-started-tutorial.md)  
 [<span data-ttu-id="40b40-156">WCF 疑難排解快速入門</span><span class="sxs-lookup"><span data-stu-id="40b40-156">WCF troubleshooting quickstart</span></span>](wcf-troubleshooting-quickstart.md)  
 [<span data-ttu-id="40b40-157">針對安裝問題進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="40b40-157">Troubleshooting setup issues</span></span>](troubleshooting-setup-issues.md)
