---
title: ServiceModel 中繼資料公用程式工具 (Svcutil.exe)
description: 深入瞭解 System.servicemodel 中繼資料公用程式，它會從服務模型程式碼的元資料檔案和元資料檔案產生 WFC 服務模型程式碼。
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], building
- endpoints [WCF]
- Svcutil.exe
- clients [WCF], consuming services
ms.assetid: 1abf3d9f-b420-46f1-b628-df238751f308
ms.openlocfilehash: 65013f43aa0075b6de6999741afb448c2a35afb2
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/24/2020
ms.locfileid: "95689923"
---
# <a name="servicemodel-metadata-utility-tool-svcutilexe"></a><span data-ttu-id="09246-103">ServiceModel 中繼資料公用程式工具 (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="09246-103">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>

<span data-ttu-id="09246-104">System.servicemodel 中繼資料公用程式工具是用來從元資料檔案產生服務模型程式碼，以及從服務模型程式碼產生元資料檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-104">The ServiceModel Metadata Utility tool is used to generate service model code from metadata documents, and metadata documents from service model code.</span></span>

## <a name="svcutilexe"></a><span data-ttu-id="09246-105">SvcUtil.exe</span><span class="sxs-lookup"><span data-stu-id="09246-105">SvcUtil.exe</span></span>

<span data-ttu-id="09246-106">[System.servicemodel 中繼資料公用程式] 工具位於 Windows SDK 安裝位置，特別是 *%ProgramFiles%\Microsoft SDKs\Windows\v6.0\Bin*。</span><span class="sxs-lookup"><span data-stu-id="09246-106">The ServiceModel Metadata Utility Tool can be found at the Windows SDK installation location, specifically *%ProgramFiles%\Microsoft SDKs\Windows\v6.0\Bin*.</span></span>

### <a name="functionalities"></a><span data-ttu-id="09246-107">功能</span><span class="sxs-lookup"><span data-stu-id="09246-107">Functionalities</span></span>

<span data-ttu-id="09246-108">下表摘要說明這項工具所提供的各種功能，以及討論其使用方式的對應主題：</span><span class="sxs-lookup"><span data-stu-id="09246-108">The following table summarizes the various functionalities provided by this tool, and the corresponding topic that discusses how it is used:</span></span>

|<span data-ttu-id="09246-109">Task</span><span class="sxs-lookup"><span data-stu-id="09246-109">Task</span></span>|<span data-ttu-id="09246-110">主題</span><span class="sxs-lookup"><span data-stu-id="09246-110">Topic</span></span>|
|----------|-----------|
|<span data-ttu-id="09246-111">從執行中服務或靜態中繼資料文件產生程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-111">Generates code from running services or static metadata documents.</span></span>|[<span data-ttu-id="09246-112">從服務中繼資料產生 WCF 用戶端</span><span class="sxs-lookup"><span data-stu-id="09246-112">Generating a WCF Client from Service Metadata</span></span>](./feature-details/generating-a-wcf-client-from-service-metadata.md)|
|<span data-ttu-id="09246-113">從編譯的程式碼匯出中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="09246-113">Exports metadata documents from compiled code.</span></span>|[<span data-ttu-id="09246-114">作法：使用 Svcutil.exe 來匯出已編譯服務程式碼的中繼資料</span><span class="sxs-lookup"><span data-stu-id="09246-114">How to: Use Svcutil.exe to Export Metadata from Compiled Service Code</span></span>](./feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md)|
|<span data-ttu-id="09246-115">驗證編譯的服務程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-115">Validates compiled service code.</span></span>|[<span data-ttu-id="09246-116">作法：使用 Svcutil.exe 來驗證已編譯服務程式碼</span><span class="sxs-lookup"><span data-stu-id="09246-116">How to: Use Svcutil.exe to Validate Compiled Service Code</span></span>](./feature-details/how-to-use-svcutil-exe-to-validate-compiled-service-code.md)|
|<span data-ttu-id="09246-117">從執行中服務下載中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="09246-117">Downloads metadata documents from running services.</span></span>|[<span data-ttu-id="09246-118">作法：使用 Svcutil.exe 來下載中繼資料文件</span><span class="sxs-lookup"><span data-stu-id="09246-118">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](./feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)|
|<span data-ttu-id="09246-119">產生序列化程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-119">Generates serialization code.</span></span>|[<span data-ttu-id="09246-120">作法：使用 XmlSerializer 改善 WCF 用戶端應用程式的啟動時間</span><span class="sxs-lookup"><span data-stu-id="09246-120">How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer</span></span>](./feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md)|

> [!CAUTION]
> <span data-ttu-id="09246-121">如果以參數形式提供的名稱相同，Svcutil 會覆寫磁片上的現有檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-121">Svcutil overwrites existing files on a disk if the names supplied as parameters are identical.</span></span> <span data-ttu-id="09246-122">這可能包括程式碼檔案、設定或中繼資料檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-122">This can include code files, configuration, or metadata files.</span></span> <span data-ttu-id="09246-123">若要在產生程式碼和設定檔時避免這種情況，請使用 `/mergeConfig` 參數。</span><span class="sxs-lookup"><span data-stu-id="09246-123">To avoid this when generating code and configuration files, use the `/mergeConfig` switch.</span></span>
>
> <span data-ttu-id="09246-124">此外， `/r` 用於參考型別的和 `/ct` 參數可用於產生資料合約。</span><span class="sxs-lookup"><span data-stu-id="09246-124">In addition, the `/r` and `/ct` switches for referencing types are for generating data contracts.</span></span> <span data-ttu-id="09246-125">使用 XmlSerializer 時，這些參數不會運作。</span><span class="sxs-lookup"><span data-stu-id="09246-125">These switches do not work when using XmlSerializer.</span></span>

### <a name="timeout"></a><span data-ttu-id="09246-126">逾時</span><span class="sxs-lookup"><span data-stu-id="09246-126">Timeout</span></span>

<span data-ttu-id="09246-127">在抓取中繼資料時，此工具有五分鐘的超時時間。</span><span class="sxs-lookup"><span data-stu-id="09246-127">The tool has a five minute timeout when retrieving metadata.</span></span> <span data-ttu-id="09246-128">這個逾時只適用於在網路上擷取中繼資料，</span><span class="sxs-lookup"><span data-stu-id="09246-128">This timeout only applies to retrieving metadata over the network.</span></span> <span data-ttu-id="09246-129">不適用於該中繼資料的任何處理。</span><span class="sxs-lookup"><span data-stu-id="09246-129">It does not apply to any processing of that metadata.</span></span>

### <a name="multi-targeting"></a><span data-ttu-id="09246-130">多目標</span><span class="sxs-lookup"><span data-stu-id="09246-130">Multi-targeting</span></span>

<span data-ttu-id="09246-131">這個工具不支援多目標。</span><span class="sxs-lookup"><span data-stu-id="09246-131">The tool does not support multi-targeting.</span></span> <span data-ttu-id="09246-132">如果您想要從 *svcutil.exe* 產生 .NET Framework 4 成品，請使用 .NET FRAMEWORK 4 SDK 中的 *svcutil.exe* 。</span><span class="sxs-lookup"><span data-stu-id="09246-132">If you want to generate a .NET Framework 4 artifact from *svcutil.exe*, use the *svcutil.exe* from the .NET Framework 4 SDK.</span></span> <span data-ttu-id="09246-133">若要產生 .NET Framework 3.5 成品，請使用 .NET Framework 3.5 SDK 中的可執行檔。</span><span class="sxs-lookup"><span data-stu-id="09246-133">To generate a .NET Framework 3.5 artifact, use the executable from the .NET Framework 3.5 SDK.</span></span>

### <a name="accessing-wsdl-documents"></a><span data-ttu-id="09246-134">存取 WSDL 文件</span><span class="sxs-lookup"><span data-stu-id="09246-134">Accessing WSDL Documents</span></span>

<span data-ttu-id="09246-135">使用 Svcutil 存取參考安全性權杖服務 (STS) 的 WSDL 文件時，Svcutil 會對 STS 進行 WS-MetadataExchange 呼叫。</span><span class="sxs-lookup"><span data-stu-id="09246-135">When you use Svcutil to access a WSDL document that has a reference to a security token service (STS), Svcutil makes a WS-MetadataExchange call to the STS.</span></span> <span data-ttu-id="09246-136">不過，服務可以使用 WS-MetadataExchange 或 HTTP GET 來公開 WSDL 文件。</span><span class="sxs-lookup"><span data-stu-id="09246-136">However, the service can expose its WSDL documents using either WS-MetadataExchange or HTTP GET.</span></span> <span data-ttu-id="09246-137">因此，如果 STS 只使用 HTTP GET 公開 WSDL 檔案，則以 WinFX 撰寫的用戶端將會失敗。</span><span class="sxs-lookup"><span data-stu-id="09246-137">Therefore, if the STS has only exposed the WSDL document using HTTP GET, a client written in WinFX will fail.</span></span> <span data-ttu-id="09246-138">針對以 .NET Framework 3.5 撰寫的用戶端，Svcutil 會嘗試同時使用 WS-MetadataExchange 和 HTTP GET 來取得 STS WSDL。</span><span class="sxs-lookup"><span data-stu-id="09246-138">For clients written in .NET Framework 3.5, Svcutil attempts to use both WS-MetadataExchange and HTTP GET to obtain the STS WSDL.</span></span>

## <a name="using-svcutilexe"></a><span data-ttu-id="09246-139">使用 SvcUtil.exe</span><span class="sxs-lookup"><span data-stu-id="09246-139">Using SvcUtil.exe</span></span>

### <a name="common-usages"></a><span data-ttu-id="09246-140">常見使用方式</span><span class="sxs-lookup"><span data-stu-id="09246-140">Common Usages</span></span>

<span data-ttu-id="09246-141">下表顯示此工具的一些常用選項：</span><span class="sxs-lookup"><span data-stu-id="09246-141">The following table shows some commonly used options for this tool:</span></span>

|<span data-ttu-id="09246-142">選項</span><span class="sxs-lookup"><span data-stu-id="09246-142">Option</span></span>|<span data-ttu-id="09246-143">描述</span><span class="sxs-lookup"><span data-stu-id="09246-143">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="09246-144">/目錄\<directory></span><span class="sxs-lookup"><span data-stu-id="09246-144">/directory:\<directory></span></span>|<span data-ttu-id="09246-145">要建立檔案的目錄。</span><span class="sxs-lookup"><span data-stu-id="09246-145">Directory to create files in.</span></span><br /><br /> <span data-ttu-id="09246-146">預設：目前的目錄。</span><span class="sxs-lookup"><span data-stu-id="09246-146">Default: The current directory.</span></span><br /><br /> <span data-ttu-id="09246-147">簡短形式：`/d`</span><span class="sxs-lookup"><span data-stu-id="09246-147">Short form: `/d`</span></span>|
|<span data-ttu-id="09246-148">/help</span><span class="sxs-lookup"><span data-stu-id="09246-148">/help</span></span>|<span data-ttu-id="09246-149">顯示工具的命令語法和選項。</span><span class="sxs-lookup"><span data-stu-id="09246-149">Displays the command syntax and options for the tool.</span></span><br /><br /> <span data-ttu-id="09246-150">簡短形式：`/?`</span><span class="sxs-lookup"><span data-stu-id="09246-150">Short form: `/?`</span></span>|
|<span data-ttu-id="09246-151">/noLogo</span><span class="sxs-lookup"><span data-stu-id="09246-151">/noLogo</span></span>|<span data-ttu-id="09246-152">隱藏版權和橫幅訊息。</span><span class="sxs-lookup"><span data-stu-id="09246-152">Suppress the copyright and banner message.</span></span>|
|<span data-ttu-id="09246-153">/svcutilConfig：\<configFile></span><span class="sxs-lookup"><span data-stu-id="09246-153">/svcutilConfig:\<configFile></span></span>|<span data-ttu-id="09246-154">指定要取代 App.config 檔所使用的自訂組態檔。</span><span class="sxs-lookup"><span data-stu-id="09246-154">Specifies a custom configuration file to use instead of the App.config file.</span></span> <span data-ttu-id="09246-155">指定的組態檔可用來註冊 system.serviceModel 副檔名，而不會變更工具的組態檔。</span><span class="sxs-lookup"><span data-stu-id="09246-155">This can be used to register system.serviceModel extensions without altering the tool's configuration file.</span></span>|
|<span data-ttu-id="09246-156">/target:\<output type></span><span class="sxs-lookup"><span data-stu-id="09246-156">/target:\<output type></span></span>|<span data-ttu-id="09246-157">指定要由工具產生的輸出。</span><span class="sxs-lookup"><span data-stu-id="09246-157">Specifies the output to be generated by the tool.</span></span><br /><br /> <span data-ttu-id="09246-158">有效值為 code、metadata 或 xmlSerializer。</span><span class="sxs-lookup"><span data-stu-id="09246-158">Valid values are code, metadata or xmlSerializer.</span></span><br /><br /> <span data-ttu-id="09246-159">簡短形式：`/t`</span><span class="sxs-lookup"><span data-stu-id="09246-159">Short form: `/t`</span></span>|

### <a name="code-generation"></a><span data-ttu-id="09246-160">程式碼產生</span><span class="sxs-lookup"><span data-stu-id="09246-160">Code Generation</span></span>

<span data-ttu-id="09246-161">Svcutil.exe 可從中繼資料文件產生服務合約、用戶端和資料型別的程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-161">Svcutil.exe can generate code for service contracts, clients and data types from metadata documents.</span></span> <span data-ttu-id="09246-162">這些中繼資料文件可在永久性儲存裝置或線上擷取。</span><span class="sxs-lookup"><span data-stu-id="09246-162">These metadata documents can be on a durable storage, or be retrieved online.</span></span> <span data-ttu-id="09246-163">線上擷取會遵循 WS-Metadata Exchange 通訊協定或 DISCO 通訊協定 (如需詳細資訊，請參閱「中繼資料下載」一節)。</span><span class="sxs-lookup"><span data-stu-id="09246-163">Online retrieval follows either the WS-Metadata Exchange protocol or the DISCO protocol (for details see the Metadata Download section).</span></span>

<span data-ttu-id="09246-164">您可以使用 *SvcUtil.exe* 工具，根據預先定義的 WSDL 檔案產生服務和資料合約。</span><span class="sxs-lookup"><span data-stu-id="09246-164">You can use the *SvcUtil.exe* tool to generate service and data contracts based on a predefined WSDL document.</span></span> <span data-ttu-id="09246-165">使用 /serviceContract 參數，並指定可以下載或找到 WSDL 文件的 URL 或檔案位置。</span><span class="sxs-lookup"><span data-stu-id="09246-165">Use the /serviceContract switch and specify a URL or file location where the WSDL document can be downloaded or found.</span></span> <span data-ttu-id="09246-166">這會產生 WSDL 檔案中定義的服務和資料合約，然後用來執行投訴服務。</span><span class="sxs-lookup"><span data-stu-id="09246-166">This generates the service and data contracts defined in the WSDL document that can then be used to implement a complaint service.</span></span> <span data-ttu-id="09246-167">如需詳細資訊，請參閱 [如何：取出中繼資料並執行符合規範的服務](./feature-details/how-to-retrieve-metadata-and-implement-a-compliant-service.md)。</span><span class="sxs-lookup"><span data-stu-id="09246-167">For more information, see [How to: Retrieve Metadata and Implement a Compliant Service](./feature-details/how-to-retrieve-metadata-and-implement-a-compliant-service.md).</span></span>

<span data-ttu-id="09246-168">對於具有 BasicHttpCoNtextBinding 端點的服務， *Svcutil.exe* 會產生 BasicHttpBinding，並將 `allowCookies` 屬性設定為 `true` 。</span><span class="sxs-lookup"><span data-stu-id="09246-168">For a service with a BasicHttpContextBinding endpoint, *Svcutil.exe* generates a BasicHttpBinding with the `allowCookies` attribute set to `true` instead.</span></span> <span data-ttu-id="09246-169">Cookie 用於伺服器上的內容。</span><span class="sxs-lookup"><span data-stu-id="09246-169">The cookies are used for context on the server.</span></span> <span data-ttu-id="09246-170">如果您要在服務使用 Cookie 時管理用戶端上的內容，您可以手動修改組態以使用內容繫結。</span><span class="sxs-lookup"><span data-stu-id="09246-170">If you would like to manage context on the client when the service uses cookies, you can manually modify the configuration to use a context binding.</span></span>

> [!CAUTION]
> <span data-ttu-id="09246-171">Svcutil.exe 會根據 WSDL 或從服務收到的原則檔產生用戶端。</span><span class="sxs-lookup"><span data-stu-id="09246-171">Svcutil.exe generates the client based on the WSDL or policy file received from the service.</span></span> <span data-ttu-id="09246-172"> (UPN) 的使用者主體名稱是藉由串連使用者名稱 " \@ " 和完整功能變數名稱 (FQDN) 來產生的。</span><span class="sxs-lookup"><span data-stu-id="09246-172">The user principal name (UPN) is generated by concatenating username, "\@" and a fully-qualified domain name (FQDN).</span></span> <span data-ttu-id="09246-173">但是，對於在 Active Directory 上登錄的使用者而言，這個格式無效，且此工具產生的 UPN 會造成 Kerberos 驗證失敗，並顯示「登入嘗試失敗」錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="09246-173">However, for users who registered on Active Directory, this format is not valid and the UPN generated by the tool causes a failure in Kerberos authentication with the error message "The logon attempt failed".</span></span> <span data-ttu-id="09246-174">若要解決這個問題，您應手動修復由這個工具產生的用戶端檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-174">To resolve this problem, you should manually fix the client file generated by this tool.</span></span>

`svcutil.exe [/t:code]  <metadataDocumentPath>* | <url>* | <epr>`

|<span data-ttu-id="09246-175">引數</span><span class="sxs-lookup"><span data-stu-id="09246-175">Argument</span></span>|<span data-ttu-id="09246-176">描述</span><span class="sxs-lookup"><span data-stu-id="09246-176">Description</span></span>|
|--------------|-----------------|
|`epr`|<span data-ttu-id="09246-177">XML 檔案的路徑，其中包含支援 WS-Metadata Exchange 之服務端點的 WS-Addressing EndpointReference。</span><span class="sxs-lookup"><span data-stu-id="09246-177">The path to an XML file that contains a WS-Addressing EndpointReference for a service endpoint that supports WS-Metadata Exchange.</span></span> <span data-ttu-id="09246-178">如需詳細資訊，請參閱「中繼資料下載」一節。</span><span class="sxs-lookup"><span data-stu-id="09246-178">For more information, see the Metadata Download section.</span></span>|
|`metadataDocumentPath`|<span data-ttu-id="09246-179">元資料檔案的路徑 (*wsdl* 或 *Xsd*) ，其中包含要匯入程式碼 ( .wsdl、.xsd、wspolicy 或. wsmex) 中的合約。</span><span class="sxs-lookup"><span data-stu-id="09246-179">The path to a metadata document (*wsdl* or *xsd*) that contains the contract to import into code (.wsdl, .xsd, .wspolicy, or .wsmex).</span></span><br /><br /> <span data-ttu-id="09246-180">如果您指定的是中繼資料的遠端 URL，Svcutil 會根據您的指定執行匯入並包含其中的內容。</span><span class="sxs-lookup"><span data-stu-id="09246-180">Svcutil follows imports and includes when you specify a remote URL for metadata.</span></span> <span data-ttu-id="09246-181">但是，如果您要處理本機檔案系統上的中繼資料檔，則必須在這個引數中指定所有檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-181">However, if you want to process metadata files on the local file system, you must specify all files in this argument.</span></span> <span data-ttu-id="09246-182">如此一來，您就可以在無法取得網路相依性的建置環境中使用 Svcutil。</span><span class="sxs-lookup"><span data-stu-id="09246-182">In this way, you can use Svcutil in a build environment where you cannot have network dependencies.</span></span> <span data-ttu-id="09246-183">您可以針對此引數使用萬用字元 ( \* .xsd、 \* .wsdl) 。</span><span class="sxs-lookup"><span data-stu-id="09246-183">You can use wildcards (\*.xsd, \*.wsdl) for this argument.</span></span>|
|`url`|<span data-ttu-id="09246-184">提供中繼資料之服務端點的 URL，或裝載於線上之中繼資料文件的 URL。</span><span class="sxs-lookup"><span data-stu-id="09246-184">The URL to a service endpoint that provides metadata or to a metadata document hosted online.</span></span> <span data-ttu-id="09246-185">如需如何擷取這些文件的詳細資訊，請參閱「中繼資料下載」一節。</span><span class="sxs-lookup"><span data-stu-id="09246-185">For more information on how these documents are retrieved, see the Metadata Download section.</span></span>|

|<span data-ttu-id="09246-186">選項</span><span class="sxs-lookup"><span data-stu-id="09246-186">Option</span></span>|<span data-ttu-id="09246-187">描述</span><span class="sxs-lookup"><span data-stu-id="09246-187">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="09246-188">/async</span><span class="sxs-lookup"><span data-stu-id="09246-188">/async</span></span>|<span data-ttu-id="09246-189">同時產生同步與非同步方法簽章。</span><span class="sxs-lookup"><span data-stu-id="09246-189">Generates both synchronous and asynchronous method signatures.</span></span><br /><br /> <span data-ttu-id="09246-190">預設：只產生同步方法簽章。</span><span class="sxs-lookup"><span data-stu-id="09246-190">Default: generate only synchronous method signatures.</span></span><br /><br /> <span data-ttu-id="09246-191">簡短形式：`/a`</span><span class="sxs-lookup"><span data-stu-id="09246-191">Short Form: `/a`</span></span>|
|<span data-ttu-id="09246-192">collectionType\<type></span><span class="sxs-lookup"><span data-stu-id="09246-192">/collectionType:\<type></span></span>|<span data-ttu-id="09246-193">指定 WCF 用戶端的清單集合類型。</span><span class="sxs-lookup"><span data-stu-id="09246-193">Specifies the list collection type for a WCF client.</span></span><br/><br /> <span data-ttu-id="09246-194">預設值：集合類型為 System.object。</span><span class="sxs-lookup"><span data-stu-id="09246-194">Default: collection type is System.Array.</span></span> <br /><br /> <span data-ttu-id="09246-195">簡短形式：`/ct`</span><span class="sxs-lookup"><span data-stu-id="09246-195">Short Form: `/ct`</span></span>|
|<span data-ttu-id="09246-196">/config:\<configFile></span><span class="sxs-lookup"><span data-stu-id="09246-196">/config:\<configFile></span></span>|<span data-ttu-id="09246-197">指定產生之組態檔的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-197">Specifies the filename for the generated configuration file.</span></span><br /><br /> <span data-ttu-id="09246-198">預設：output.config</span><span class="sxs-lookup"><span data-stu-id="09246-198">Default: output.config</span></span>|
|<span data-ttu-id="09246-199">/dataContractOnly</span><span class="sxs-lookup"><span data-stu-id="09246-199">/dataContractOnly</span></span>|<span data-ttu-id="09246-200">只產生資料合約類型的程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-200">Generates code for data contract types only.</span></span> <span data-ttu-id="09246-201">不會產生「服務合約」類型。</span><span class="sxs-lookup"><span data-stu-id="09246-201">Service Contract types are not generated.</span></span><br /><br /> <span data-ttu-id="09246-202">這個選項應該只能指定本機中繼資料檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-202">You should only specify local metadata files for this option.</span></span><br /><br /> <span data-ttu-id="09246-203">簡短形式：`/dconly`</span><span class="sxs-lookup"><span data-stu-id="09246-203">Short Form: `/dconly`</span></span>|
|<span data-ttu-id="09246-204">/enableDataBinding</span><span class="sxs-lookup"><span data-stu-id="09246-204">/enableDataBinding</span></span>|<span data-ttu-id="09246-205">在所有「資料合約」類型上實作 <xref:System.ComponentModel.INotifyPropertyChanged> 介面，以啟用資料繫結。</span><span class="sxs-lookup"><span data-stu-id="09246-205">Implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface on all Data Contract types to enable data binding.</span></span><br /><br /> <span data-ttu-id="09246-206">簡短形式：`/edb`</span><span class="sxs-lookup"><span data-stu-id="09246-206">Short Form: `/edb`</span></span>|
|<span data-ttu-id="09246-207">/excludeType:\<type></span><span class="sxs-lookup"><span data-stu-id="09246-207">/excludeType:\<type></span></span>|<span data-ttu-id="09246-208">指定要從參考的合約類型排除的完整型別名稱或組件限定型別名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-208">Specifies a fully-qualified or assembly-qualified type name to be excluded from referenced contract types.</span></span><br /><br /> <span data-ttu-id="09246-209">將這個參數與個別 DLL 的 `/r` 一起使用時，會參考 XSD 類別的完整名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-209">When using this switch together with `/r` from separate DLLs, the full name of the XSD class is referenced.</span></span><br /><br /> <span data-ttu-id="09246-210">簡短形式：`/et`</span><span class="sxs-lookup"><span data-stu-id="09246-210">Short Form: `/et`</span></span>|
|<span data-ttu-id="09246-211">/importXmlTypes</span><span class="sxs-lookup"><span data-stu-id="09246-211">/importXmlTypes</span></span>|<span data-ttu-id="09246-212">設定資料合約序列化程式，將非資料合約類型匯入為 IXmlSerializable 類型。</span><span class="sxs-lookup"><span data-stu-id="09246-212">Configures the Data Contract serializer to import non-Data Contract types as IXmlSerializable types.</span></span>|
|<span data-ttu-id="09246-213">/internal</span><span class="sxs-lookup"><span data-stu-id="09246-213">/internal</span></span>|<span data-ttu-id="09246-214">產生標示為內部的類別。</span><span class="sxs-lookup"><span data-stu-id="09246-214">Generates classes that are marked as internal.</span></span> <span data-ttu-id="09246-215">預設：只產生公用類別。</span><span class="sxs-lookup"><span data-stu-id="09246-215">Default: generate public classes only.</span></span><br /><br /> <span data-ttu-id="09246-216">簡短形式：`/i`</span><span class="sxs-lookup"><span data-stu-id="09246-216">Short Form: `/i`</span></span>|
|<span data-ttu-id="09246-217">/language\<language></span><span class="sxs-lookup"><span data-stu-id="09246-217">/language:\<language></span></span>|<span data-ttu-id="09246-218">指定要用於產生程式碼的程式語言。</span><span class="sxs-lookup"><span data-stu-id="09246-218">Specifies the programming language to use for code generation.</span></span> <span data-ttu-id="09246-219">您應提供在 Machine.config 檔案中註冊的語言名稱，或繼承自之類別的完整名稱 <xref:System.CodeDom.Compiler.CodeDomProvider> 。</span><span class="sxs-lookup"><span data-stu-id="09246-219">You should provide either a language name registered in the Machine.config file, or the fully qualified name of a class that inherits from <xref:System.CodeDom.Compiler.CodeDomProvider>.</span></span><br /><br /> <span data-ttu-id="09246-220">值：c#、cs、csharp、vb、visualbasic、c++、cpp</span><span class="sxs-lookup"><span data-stu-id="09246-220">Values: c#, cs, csharp, vb, visualbasic, c++, cpp</span></span><br /><br /> <span data-ttu-id="09246-221">預設：csharp</span><span class="sxs-lookup"><span data-stu-id="09246-221">Default: csharp</span></span><br /><br /> <span data-ttu-id="09246-222">簡短形式：`/l`</span><span class="sxs-lookup"><span data-stu-id="09246-222">Short form: `/l`</span></span>|
|<span data-ttu-id="09246-223">/mergeConfig</span><span class="sxs-lookup"><span data-stu-id="09246-223">/mergeConfig</span></span>|<span data-ttu-id="09246-224">將產生的組態合併至現有檔案，而非覆寫現有檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-224">Merges the generated configuration into an existing file, instead of overwriting the existing file.</span></span>|
|<span data-ttu-id="09246-225">/messageContract</span><span class="sxs-lookup"><span data-stu-id="09246-225">/messageContract</span></span>|<span data-ttu-id="09246-226">產生「訊息合約」類型。</span><span class="sxs-lookup"><span data-stu-id="09246-226">Generates Message Contract types.</span></span><br /><br /> <span data-ttu-id="09246-227">簡短形式：`/mc`</span><span class="sxs-lookup"><span data-stu-id="09246-227">Short Form: `/mc`</span></span>|
|<span data-ttu-id="09246-228">/namespace\<string,string></span><span class="sxs-lookup"><span data-stu-id="09246-228">/namespace:\<string,string></span></span>|<span data-ttu-id="09246-229">指定從 WSDL 或 XML 結構描述 targetNamespace 到 CLR 命名空間的對應。</span><span class="sxs-lookup"><span data-stu-id="09246-229">Specifies a mapping from a WSDL or XML Schema targetNamespace to a CLR namespace.</span></span> <span data-ttu-id="09246-230">使用 ' \* ' 代表 targetNamespace 對應所有 targetNamespaces，而不需要明確對應至該 CLR 命名空間。</span><span class="sxs-lookup"><span data-stu-id="09246-230">Using '\*' for the targetNamespace maps all targetNamespaces without an explicit mapping to that CLR namespace.</span></span><br /><br /> <span data-ttu-id="09246-231">為了確保訊息合約名稱不會與作業名稱衝突，您應該以 `::` 限定型別參考，或確定是唯一的名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-231">To make sure that the message contract name does not collide with operation name, you should either qualify the type reference with `::`, or make sure the names are unique.</span></span><br /><br /> <span data-ttu-id="09246-232">預設：自資料合約的結構描述文件之目標命名空間衍生而來。</span><span class="sxs-lookup"><span data-stu-id="09246-232">Default: Derived from the target namespace of the schema document for Data Contracts.</span></span> <span data-ttu-id="09246-233">預設命名空間用於所有其他產生的型別。</span><span class="sxs-lookup"><span data-stu-id="09246-233">The default namespace is used for all other generated types.</span></span><br /><br /> <span data-ttu-id="09246-234">簡短形式： `/n` **注意：**  當產生要與 XmlSerializer 搭配使用的類型時，只支援單一命名空間對應。</span><span class="sxs-lookup"><span data-stu-id="09246-234">Short Form: `/n` **Note:**  When generating types to use with XmlSerializer, only a single namespace mapping is supported.</span></span> <span data-ttu-id="09246-235">所有產生的類型都會在預設命名空間或 ' \* ' 指定的命名空間中。</span><span class="sxs-lookup"><span data-stu-id="09246-235">All generated types will either be in the default namespace or the namespace specified by '\*'.</span></span>|
|<span data-ttu-id="09246-236">/noConfig</span><span class="sxs-lookup"><span data-stu-id="09246-236">/noConfig</span></span>|<span data-ttu-id="09246-237">不要產生組態檔。</span><span class="sxs-lookup"><span data-stu-id="09246-237">Do not generate configuration files.</span></span>|
|<span data-ttu-id="09246-238">/noStdLib</span><span class="sxs-lookup"><span data-stu-id="09246-238">/noStdLib</span></span>|<span data-ttu-id="09246-239">不引用標準程式庫。</span><span class="sxs-lookup"><span data-stu-id="09246-239">Do not reference standard libraries.</span></span><br /><br /> <span data-ttu-id="09246-240">預設：引用 Mscorlib.dll 和 System.servicemodel.dll。</span><span class="sxs-lookup"><span data-stu-id="09246-240">Default: Mscorlib.dll and System.servicemodel.dll are referenced.</span></span>|
|<span data-ttu-id="09246-241">/out\<file></span><span class="sxs-lookup"><span data-stu-id="09246-241">/out:\<file></span></span>|<span data-ttu-id="09246-242">指定產生之程式碼的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-242">Specifies the file name for the generated code.</span></span><br /><br /> <span data-ttu-id="09246-243">預設：衍生自 WSDL 定義名稱、WSDL 服務名稱，或其中一個結構描述的目標命名空間。</span><span class="sxs-lookup"><span data-stu-id="09246-243">Default: Derived from the WSDL definition name, WSDL service name or target namespace of one of the schemas.</span></span><br /><br /> <span data-ttu-id="09246-244">簡短形式：`/o`</span><span class="sxs-lookup"><span data-stu-id="09246-244">Short form: `/o`</span></span>|
|<span data-ttu-id="09246-245">/reference\<file path></span><span class="sxs-lookup"><span data-stu-id="09246-245">/reference:\<file path></span></span>|<span data-ttu-id="09246-246">參考指定組件中的型別。</span><span class="sxs-lookup"><span data-stu-id="09246-246">References types in the specified assembly.</span></span> <span data-ttu-id="09246-247">產生用戶端時，使用這個選項即可指定組件，這些組件可能包含代表匯入之中繼資料的類型。</span><span class="sxs-lookup"><span data-stu-id="09246-247">When generating clients, use this option to specify assemblies that might contain types that represent the metadata being imported.</span></span><br /><br /> <span data-ttu-id="09246-248">您無法使用這個參數指定訊息合約和 <xref:System.Xml.Serialization.XmlSerializer> 型別。</span><span class="sxs-lookup"><span data-stu-id="09246-248">You cannot specify message contracts and <xref:System.Xml.Serialization.XmlSerializer> types using this switch.</span></span><br /><br /> <span data-ttu-id="09246-249">如果已參考 <xref:System.DateTimeOffset>，則會使用這個型別，而不會產生新型別。</span><span class="sxs-lookup"><span data-stu-id="09246-249">If <xref:System.DateTimeOffset> referenced, this type is used instead of generating a new type.</span></span> <span data-ttu-id="09246-250">如果應用程式是使用 .NET Framework 3.5 撰寫，SvcUtil.exe <xref:System.DateTimeOffset> 會自動參考。</span><span class="sxs-lookup"><span data-stu-id="09246-250">If the application is written using .NET Framework 3.5, SvcUtil.exe references <xref:System.DateTimeOffset> automatically.</span></span><br /><br /> <span data-ttu-id="09246-251">簡短形式：`/r`</span><span class="sxs-lookup"><span data-stu-id="09246-251">Short Form: `/r`</span></span>|
|<span data-ttu-id="09246-252">/serializable</span><span class="sxs-lookup"><span data-stu-id="09246-252">/serializable</span></span>|<span data-ttu-id="09246-253">產生已使用 Serializable 屬性標示的類別。</span><span class="sxs-lookup"><span data-stu-id="09246-253">Generates classes marked with the Serializable Attribute.</span></span><br /><br /> <span data-ttu-id="09246-254">簡短形式：`/s`</span><span class="sxs-lookup"><span data-stu-id="09246-254">Short Form: `/s`</span></span>|
|<span data-ttu-id="09246-255">/serviceContract</span><span class="sxs-lookup"><span data-stu-id="09246-255">/serviceContract</span></span>|<span data-ttu-id="09246-256">只產生服務合約的程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-256">Generate code for service contracts only.</span></span> <span data-ttu-id="09246-257">不會產生用戶端類別和組態</span><span class="sxs-lookup"><span data-stu-id="09246-257">Client class and configuration will not be generated</span></span><br /><br /> <span data-ttu-id="09246-258">簡短形式：`/sc`</span><span class="sxs-lookup"><span data-stu-id="09246-258">Short Form: `/sc`</span></span>|
|<span data-ttu-id="09246-259">/serializer:Auto</span><span class="sxs-lookup"><span data-stu-id="09246-259">/serializer:Auto</span></span>|<span data-ttu-id="09246-260">自動選取序列化程式。</span><span class="sxs-lookup"><span data-stu-id="09246-260">Automatically select the serializer.</span></span> <span data-ttu-id="09246-261">這會嘗試使用資料合約序列化程式，並在失敗時使用 XmlSerializer。</span><span class="sxs-lookup"><span data-stu-id="09246-261">This tries to use the Data Contract serializer and uses the XmlSerializer if that fails.</span></span><br /><br /> <span data-ttu-id="09246-262">簡短形式：`/ser`</span><span class="sxs-lookup"><span data-stu-id="09246-262">Short Form: `/ser`</span></span>|
|<span data-ttu-id="09246-263">/serializer:DataContractSerializer</span><span class="sxs-lookup"><span data-stu-id="09246-263">/serializer:DataContractSerializer</span></span>|<span data-ttu-id="09246-264">產生使用「資料合約序列化程式」以進行序列化與還原序列化的資料型別。</span><span class="sxs-lookup"><span data-stu-id="09246-264">Generates data types that use the Data Contract Serializer for serialization and deserialization.</span></span><br /><br /> <span data-ttu-id="09246-265">簡短形式：`/ser:DataContractSerializer`</span><span class="sxs-lookup"><span data-stu-id="09246-265">Short Form: `/ser:DataContractSerializer`</span></span>|
|<span data-ttu-id="09246-266">/serializer:XmlSerializer</span><span class="sxs-lookup"><span data-stu-id="09246-266">/serializer:XmlSerializer</span></span>|<span data-ttu-id="09246-267">產生使用 <xref:System.Xml.Serialization.XmlSerializer> 以進行序列化與還原序列化的資料型別。</span><span class="sxs-lookup"><span data-stu-id="09246-267">Generates data types that use the <xref:System.Xml.Serialization.XmlSerializer> for serialization and deserialization.</span></span><br /><br /> <span data-ttu-id="09246-268">簡短形式：`/ser:XmlSerializer`</span><span class="sxs-lookup"><span data-stu-id="09246-268">Short Form: `/ser:XmlSerializer`</span></span>|
|<span data-ttu-id="09246-269">/targetClientVersion</span><span class="sxs-lookup"><span data-stu-id="09246-269">/targetClientVersion</span></span>|<span data-ttu-id="09246-270">指定應用程式的目標 .NET Framework 版本。</span><span class="sxs-lookup"><span data-stu-id="09246-270">Specify which version of .NET Framework the application is targeting.</span></span> <span data-ttu-id="09246-271">有效值為 `Version30` 和 `Version35`。</span><span class="sxs-lookup"><span data-stu-id="09246-271">Valid values are `Version30` and `Version35`.</span></span> <span data-ttu-id="09246-272">預設值是 `Version30`。</span><span class="sxs-lookup"><span data-stu-id="09246-272">The default value is `Version30`.</span></span><br /><br /> <span data-ttu-id="09246-273">簡短形式：`/tcv`</span><span class="sxs-lookup"><span data-stu-id="09246-273">Short Form: `/tcv`</span></span><br /><br /> <span data-ttu-id="09246-274">`Version30`： `/tcv:Version30` 如果您要為使用 WinFX 的用戶端產生程式碼，請使用。</span><span class="sxs-lookup"><span data-stu-id="09246-274">`Version30`: Use `/tcv:Version30` if you are generating code for clients that use WinFX.</span></span><br /><br /> <span data-ttu-id="09246-275">`Version35`： `/tcv:Version35` 如果您要為使用 .NET Framework 3.5 的用戶端產生程式碼，請使用。</span><span class="sxs-lookup"><span data-stu-id="09246-275">`Version35`: Use `/tcv:Version35` if you are generating code for clients that use .NET Framework 3.5.</span></span> <span data-ttu-id="09246-276">將 `/tcv:Version35` 與 `/async` 參數一起使用時，會產生事件架構與回呼/委派架構的非同步方法。</span><span class="sxs-lookup"><span data-stu-id="09246-276">When using `/tcv:Version35` with the `/async` switch, both event-based and callback/delegate-based asynchronous methods are generated.</span></span> <span data-ttu-id="09246-277">此外，也會啟用具備 LINQ 功能的資料集和 <xref:System.DateTimeOffset> 的支援。</span><span class="sxs-lookup"><span data-stu-id="09246-277">In addition, support for LINQ-enabled DataSets and <xref:System.DateTimeOffset> is enabled.</span></span>|
|<span data-ttu-id="09246-278">/wrapped</span><span class="sxs-lookup"><span data-stu-id="09246-278">/wrapped</span></span>|<span data-ttu-id="09246-279">控制是否將特殊大小寫搭配 wrapped 參數用於文件常值樣式的文件。</span><span class="sxs-lookup"><span data-stu-id="09246-279">Controls whether special-casing is used for document-literal styled documents with wrapped parameters.</span></span> <span data-ttu-id="09246-280">使用 **/wrapped** 參數搭配 [服務模型中繼資料公用程式工具 ( # A0)](servicemodel-metadata-utility-tool-svcutil-exe.md) 工具來指定一般大小寫。</span><span class="sxs-lookup"><span data-stu-id="09246-280">Use the **/wrapped** switch with the [Service Model Metadata Utility Tool (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md) tool to specify normal casing.</span></span>|

> [!NOTE]
> <span data-ttu-id="09246-281">如果服務系結是系統提供的系結之一 (請參閱 [系統提供](system-provided-bindings.md) 的系結) ，而且 <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> 屬性設定為 `None` 或 `Sign` ，Svcutil 會使用專案產生設定檔， [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) 而不是使用預期的系統提供元素。</span><span class="sxs-lookup"><span data-stu-id="09246-281">When the service binding is one of the system-provided bindings (see [System-Provided Bindings](system-provided-bindings.md)), and the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> property is set to either `None` or `Sign`, Svcutil generates a configuration file using the [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) element instead of the expected system-provided element.</span></span> <span data-ttu-id="09246-282">例如，如果服務使用 `<wsHttpBinding>` 項目，其中 `ProtectionLevel` 設為 `Sign`，則產生的組態會在繫結區段中有 `<customBinding>`，而非 `<wsHttpBinding>`。</span><span class="sxs-lookup"><span data-stu-id="09246-282">For example, if the service uses the `<wsHttpBinding>` element with the `ProtectionLevel` set to `Sign`, the generated configuration has `<customBinding>` in the bindings section instead of `<wsHttpBinding>`.</span></span> <span data-ttu-id="09246-283">如需保護層級的詳細資訊，請參閱 [瞭解保護層級](understanding-protection-level.md)。</span><span class="sxs-lookup"><span data-stu-id="09246-283">For more information about the protection level, see [Understanding Protection Level](understanding-protection-level.md).</span></span>

### <a name="metadata-export"></a><span data-ttu-id="09246-284">中繼資料匯出</span><span class="sxs-lookup"><span data-stu-id="09246-284">Metadata Export</span></span>

<span data-ttu-id="09246-285">Svcutil.exe 可匯出服務中繼資料、合約以及編譯組件中的資料型別。</span><span class="sxs-lookup"><span data-stu-id="09246-285">Svcutil.exe can export metadata for services, contracts and data types in compiled assemblies.</span></span> <span data-ttu-id="09246-286">若要匯出服務的中繼資料，您必須使用 `/serviceName` 選項指定要匯出的服務。</span><span class="sxs-lookup"><span data-stu-id="09246-286">To export metadata for a service, you must use the `/serviceName` option to specify the service you would like to export.</span></span> <span data-ttu-id="09246-287">若要匯出組件內的所有資料合約類型，請使用 `/dataContractOnly` 選項。</span><span class="sxs-lookup"><span data-stu-id="09246-287">To export all data contract types within an assembly, you should use the `/dataContractOnly` option.</span></span> <span data-ttu-id="09246-288">根據預設，會匯出輸入組件中所有服務合約的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="09246-288">By default, metadata is exported for all service contracts in the input assemblies.</span></span>

`svcutil.exe [/t:metadata] [/serviceName:<serviceConfigName>] [/dataContractOnly] <assemblyPath>*`

|<span data-ttu-id="09246-289">引數</span><span class="sxs-lookup"><span data-stu-id="09246-289">Argument</span></span>|<span data-ttu-id="09246-290">描述</span><span class="sxs-lookup"><span data-stu-id="09246-290">Description</span></span>|
|--------------|-----------------|
|`assemblyPath`|<span data-ttu-id="09246-291">指定包含要匯出之服務、合約或資料合約類型的組件路徑。</span><span class="sxs-lookup"><span data-stu-id="09246-291">Specifies the path to an assembly that contains services, contracts or data contract types to be exported.</span></span> <span data-ttu-id="09246-292">標準命令列萬用字元可用於提供多個檔案做為輸入。</span><span class="sxs-lookup"><span data-stu-id="09246-292">Standard command line wildcards can be used to provide multiple files as input.</span></span>|

|<span data-ttu-id="09246-293">選項</span><span class="sxs-lookup"><span data-stu-id="09246-293">Option</span></span>|<span data-ttu-id="09246-294">描述</span><span class="sxs-lookup"><span data-stu-id="09246-294">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="09246-295">serviceName\<serviceConfigName></span><span class="sxs-lookup"><span data-stu-id="09246-295">/serviceName:\<serviceConfigName></span></span>|<span data-ttu-id="09246-296">指定要匯出的服務其組態名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-296">Specifies the configuration name of a service to be exported.</span></span> <span data-ttu-id="09246-297">如果使用這個選項，必須將可執行的組件和相關聯的組態檔當做輸入傳遞。</span><span class="sxs-lookup"><span data-stu-id="09246-297">If this option is used, an executable assembly with an associated configuration file must be passed as input.</span></span> <span data-ttu-id="09246-298">Svcutil.exe 會搜尋所有相關聯組態檔中的服務組態。</span><span class="sxs-lookup"><span data-stu-id="09246-298">Svcutil.exe searches all associated configuration files for the service configuration.</span></span> <span data-ttu-id="09246-299">如果組態檔包含任何延伸型別，則包含這些型別的組件必須在 GAC 中或使用 `/reference` 選項明確地提供。</span><span class="sxs-lookup"><span data-stu-id="09246-299">If the configuration files contain any extension types, the assemblies that contain these types must either be in the GAC or explicitly provided using the `/reference` option.</span></span>|
|<span data-ttu-id="09246-300">/reference\<file path></span><span class="sxs-lookup"><span data-stu-id="09246-300">/reference:\<file path></span></span>|<span data-ttu-id="09246-301">將指定的組件新增至用於解析型別參考的組件集合中。</span><span class="sxs-lookup"><span data-stu-id="09246-301">Adds the specified assembly to the set of assemblies used for resolving type references.</span></span> <span data-ttu-id="09246-302">如果您正在匯出或驗證的服務使用的是註冊於組態中的協力廠商擴充功能 (Behavior、Binding 和 BindingElement)，請使用這個選項找出不在 GAC 中的擴充功能組件。</span><span class="sxs-lookup"><span data-stu-id="09246-302">If you are exporting or validating a service that uses 3rd-party extensions (Behaviors, Bindings and BindingElements) registered in configuration, use this option to locate extension assemblies that are not in the GAC.</span></span><br /><br /> <span data-ttu-id="09246-303">簡短形式：`/r`</span><span class="sxs-lookup"><span data-stu-id="09246-303">Short Form: `/r`</span></span>|
|<span data-ttu-id="09246-304">/dataContractOnly</span><span class="sxs-lookup"><span data-stu-id="09246-304">/dataContractOnly</span></span>|<span data-ttu-id="09246-305">只在資料合約類型上操作。</span><span class="sxs-lookup"><span data-stu-id="09246-305">Operates on data contract types only.</span></span> <span data-ttu-id="09246-306">不處理服務合約。</span><span class="sxs-lookup"><span data-stu-id="09246-306">Service Contracts are not processed.</span></span><br /><br /> <span data-ttu-id="09246-307">這個選項應該只能指定本機中繼資料檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-307">You should only specify local metadata files for this option.</span></span><br /><br /> <span data-ttu-id="09246-308">簡短形式：`/dconly`</span><span class="sxs-lookup"><span data-stu-id="09246-308">Short Form: `/dconly`</span></span>|
|<span data-ttu-id="09246-309">/excludeType:\<type></span><span class="sxs-lookup"><span data-stu-id="09246-309">/excludeType:\<type></span></span>|<span data-ttu-id="09246-310">指定要從匯出作業排除的型別其完整名稱或組件限定名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-310">Specifies the fully-qualified or assembly-qualified name of a type to be excluded from export.</span></span> <span data-ttu-id="09246-311">在匯出服務中繼資料或是一組服務合約時，如果要從匯出作業排出某些型別，則可以使用這個選項。</span><span class="sxs-lookup"><span data-stu-id="09246-311">This option can be used when exporting metadata for a service, or a set of service contracts to exclude types from being exported.</span></span> <span data-ttu-id="09246-312">這個選項無法與 `/dconly` 選項一起使用。</span><span class="sxs-lookup"><span data-stu-id="09246-312">This option cannot be used together with the `/dconly` option.</span></span><br /><br /> <span data-ttu-id="09246-313">當您有單一組件包含多個服務，且每個服務使用具有相同 XSD 名稱的不同類別時，在指定這個參數時應使用服務名稱而不是 XSD 類別名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-313">When you have a single assembly containing multiple services, and each uses separate classes with the same XSD name, you should specify the service name instead of the XSD class name for this switch.</span></span><br /><br /> <span data-ttu-id="09246-314">不支援 XSD 或資料合約類型。</span><span class="sxs-lookup"><span data-stu-id="09246-314">XSD or data contract types are not supported.</span></span><br /><br /> <span data-ttu-id="09246-315">簡短形式：`/et`</span><span class="sxs-lookup"><span data-stu-id="09246-315">Short Form: `/et`</span></span>|

### <a name="service-validation"></a><span data-ttu-id="09246-316">服務驗證</span><span class="sxs-lookup"><span data-stu-id="09246-316">Service Validation</span></span>

<span data-ttu-id="09246-317">您可以使用驗證來偵測服務實作中的錯誤，而不需要裝載服務。</span><span class="sxs-lookup"><span data-stu-id="09246-317">Validation can be used to detect errors in service implementations without hosting the service.</span></span> <span data-ttu-id="09246-318">您必須使用 `/serviceName` 選項來指出您要驗證的服務。</span><span class="sxs-lookup"><span data-stu-id="09246-318">You must use the `/serviceName` option to indicate the service you want to validate.</span></span>

`svcutil.exe /validate /serviceName:<serviceConfigName>  <assemblyPath>*`

|<span data-ttu-id="09246-319">引數</span><span class="sxs-lookup"><span data-stu-id="09246-319">Argument</span></span>|<span data-ttu-id="09246-320">描述</span><span class="sxs-lookup"><span data-stu-id="09246-320">Description</span></span>|
|--------------|-----------------|
|`assemblyPath`|<span data-ttu-id="09246-321">指定包含要驗證的服務類型之組件的路徑。</span><span class="sxs-lookup"><span data-stu-id="09246-321">Specifies the path to an assembly that contains service types to be validated.</span></span> <span data-ttu-id="09246-322">組件必須具有相關聯的組態檔，才能提供服務組態。</span><span class="sxs-lookup"><span data-stu-id="09246-322">The assembly must have an associated configuration file to provide service configuration.</span></span> <span data-ttu-id="09246-323">標準命令列萬用字元可用於提供多個組件。</span><span class="sxs-lookup"><span data-stu-id="09246-323">Standard command-line wildcards can be used to provide multiple assemblies.</span></span>|

|<span data-ttu-id="09246-324">選項</span><span class="sxs-lookup"><span data-stu-id="09246-324">Option</span></span>|<span data-ttu-id="09246-325">描述</span><span class="sxs-lookup"><span data-stu-id="09246-325">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="09246-326">/validate</span><span class="sxs-lookup"><span data-stu-id="09246-326">/validate</span></span>|<span data-ttu-id="09246-327">驗證由 `/serviceName` 選項指定的服務實作。</span><span class="sxs-lookup"><span data-stu-id="09246-327">Validates a service implementation specified by the `/serviceName` option.</span></span> <span data-ttu-id="09246-328">如果使用這個選項，必須將可執行的組件和相關聯的組態檔當做輸入傳遞。</span><span class="sxs-lookup"><span data-stu-id="09246-328">If this option is used, an executable assembly with an associated configuration file must be passed as input.</span></span><br /><br /> <span data-ttu-id="09246-329">簡短形式：`/v`</span><span class="sxs-lookup"><span data-stu-id="09246-329">Short Form: `/v`</span></span>|
|<span data-ttu-id="09246-330">serviceName\<serviceConfigName></span><span class="sxs-lookup"><span data-stu-id="09246-330">/serviceName:\<serviceConfigName></span></span>|<span data-ttu-id="09246-331">指定要驗證的服務其組態名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-331">Specifies the configuration name of a service to be validated.</span></span> <span data-ttu-id="09246-332">Svcutil.exe 會搜尋所有輸入組件其所有相關聯組態檔中的服務組態。</span><span class="sxs-lookup"><span data-stu-id="09246-332">Svcutil.exe searches all associated configuration files of all input assemblies for the service configuration.</span></span> <span data-ttu-id="09246-333">如果組態檔包含任何延伸型別，則包含這些型別的組件必須在 GAC 中或使用 `/reference` 選項明確地提供。</span><span class="sxs-lookup"><span data-stu-id="09246-333">If the configuration files contain any extension types, the assemblies that contains these types must either be in the GAC or explicitly provided using the `/reference` option.</span></span>|
|<span data-ttu-id="09246-334">/reference\<file path></span><span class="sxs-lookup"><span data-stu-id="09246-334">/reference:\<file path></span></span>|<span data-ttu-id="09246-335">將指定的組件新增至用於解析型別參考的組件集合中。</span><span class="sxs-lookup"><span data-stu-id="09246-335">Adds the specified assembly to the set of assemblies used for resolving type references.</span></span> <span data-ttu-id="09246-336">如果您正在匯出或驗證的服務使用的是註冊於組態中的協力廠商擴充功能 (Behavior、Binding 和 BindingElement)，請使用這個選項找出不在 GAC 中的擴充功能組件。</span><span class="sxs-lookup"><span data-stu-id="09246-336">If you are exporting or validating a service that uses 3rd-party extensions (Behaviors, Bindings and BindingElements) registered in configuration, use this option to locate extension assemblies that are not in the GAC.</span></span><br /><br /> <span data-ttu-id="09246-337">簡短形式：`/r`</span><span class="sxs-lookup"><span data-stu-id="09246-337">Short Form: `/r`</span></span>|
|<span data-ttu-id="09246-338">/dataContractOnly</span><span class="sxs-lookup"><span data-stu-id="09246-338">/dataContractOnly</span></span>|<span data-ttu-id="09246-339">只在資料合約類型上操作。</span><span class="sxs-lookup"><span data-stu-id="09246-339">Operates on data contract types only.</span></span> <span data-ttu-id="09246-340">不處理服務合約。</span><span class="sxs-lookup"><span data-stu-id="09246-340">Service Contracts are not processed.</span></span><br /><br /> <span data-ttu-id="09246-341">這個選項應該只能指定本機中繼資料檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-341">You should only specify local metadata files for this option.</span></span><br /><br /> <span data-ttu-id="09246-342">簡短形式：`/dconly`</span><span class="sxs-lookup"><span data-stu-id="09246-342">Short Form: `/dconly`</span></span>|
|<span data-ttu-id="09246-343">/excludeType:\<type></span><span class="sxs-lookup"><span data-stu-id="09246-343">/excludeType:\<type></span></span>|<span data-ttu-id="09246-344">指定要從驗證作業排除的型別其完整名稱或組件限定名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-344">Specifies the fully-qualified or assembly-qualified name of a type to be excluded from validation.</span></span><br /><br /> <span data-ttu-id="09246-345">簡短形式：`/et`</span><span class="sxs-lookup"><span data-stu-id="09246-345">Short Form: `/et`</span></span>|

### <a name="metadata-download"></a><span data-ttu-id="09246-346">中繼資料下載</span><span class="sxs-lookup"><span data-stu-id="09246-346">Metadata Download</span></span>

<span data-ttu-id="09246-347">Svcutil.exe 可用於從執行中服務下載中繼資料，並將中繼資料儲存至本機檔案中。</span><span class="sxs-lookup"><span data-stu-id="09246-347">Svcutil.exe can be used to download metadata from running services, and save the metadata to local files.</span></span> <span data-ttu-id="09246-348">若要下載中繼資料，您必須指定 `/t:metadata` 選項。</span><span class="sxs-lookup"><span data-stu-id="09246-348">To download metadata, you must specify the `/t:metadata` option.</span></span> <span data-ttu-id="09246-349">否則，會產生用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-349">Otherwise, client code is generated.</span></span> <span data-ttu-id="09246-350">對於 HTTP 和 HTTPS URL 結構描述，Svcutil.exe 會嘗試使用 WS-Metadata Exchange 和 DISCO 擷取中繼資料。</span><span class="sxs-lookup"><span data-stu-id="09246-350">For HTTP and HTTPS URL schemes, Svcutil.exe attempts to retrieve metadata using WS-Metadata Exchange and DISCO.</span></span> <span data-ttu-id="09246-351">對於所有其他的 URL 結構描述，Svcutil.exe 只使用 WS-Metadata Exchange。</span><span class="sxs-lookup"><span data-stu-id="09246-351">For all other URL schemes, Svcutil.exe only uses WS-Metadata Exchange.</span></span>

<span data-ttu-id="09246-352">Svcutil 會同時發出以下中繼資料要求，以擷取中繼資料。</span><span class="sxs-lookup"><span data-stu-id="09246-352">Svcutil issues the following metadata requests simultaneously to retrieve metadata.</span></span>

- <span data-ttu-id="09246-353">對所提供位址的 MEX (WS-Transfer) 要求</span><span class="sxs-lookup"><span data-stu-id="09246-353">MEX (WS-Transfer) request to the supplied address</span></span>

- <span data-ttu-id="09246-354">對附加 /mex 之所提供位址的 MEX 要求</span><span class="sxs-lookup"><span data-stu-id="09246-354">MEX request to the supplied address with /mex appended</span></span>

- <span data-ttu-id="09246-355">對所提供位址的 DISCO 要求 (使用 ASMX 中的 DiscoveryClientProtocol)。</span><span class="sxs-lookup"><span data-stu-id="09246-355">DISCO request (using the DiscoveryClientProtocol from ASMX) to the supplied address.</span></span>

<span data-ttu-id="09246-356">根據預設，Svcutil.exe 會使用在 <xref:System.ServiceModel.Description.MetadataExchangeBindings> 類別中定義的繫結進行 MEX 要求。</span><span class="sxs-lookup"><span data-stu-id="09246-356">By default, Svcutil.exe uses the bindings defined in the <xref:System.ServiceModel.Description.MetadataExchangeBindings> class to make MEX requests.</span></span> <span data-ttu-id="09246-357">若要設定用於 WS-Metadata Exchange 的繫結，您必須在使用 IMetadataExchange 合約的組態中定義用戶端端點。</span><span class="sxs-lookup"><span data-stu-id="09246-357">To configure the binding used for WS-Metadata Exchange, you must define a client endpoint in configuration that uses the IMetadataExchange contract.</span></span> <span data-ttu-id="09246-358">這可在 Svcutil.exe 的組態檔中定義，或在使用 `/svcutilConfig` 選項所指定的另一個組態檔中定義。</span><span class="sxs-lookup"><span data-stu-id="09246-358">This can be defined either in the configuration file of Svcutil.exe, or in another configuration file specified using the `/svcutilConfig` option.</span></span>

`svcutil.exe /t:metadata  <url>* | <epr>`

|<span data-ttu-id="09246-359">引數</span><span class="sxs-lookup"><span data-stu-id="09246-359">Argument</span></span>|<span data-ttu-id="09246-360">描述</span><span class="sxs-lookup"><span data-stu-id="09246-360">Description</span></span>|
|--------------|-----------------|
|`url`|<span data-ttu-id="09246-361">提供中繼資料之服務端點的 URL，或裝載於線上之中繼資料文件的 URL。</span><span class="sxs-lookup"><span data-stu-id="09246-361">The URL to a service endpoint that provides metadata or to a metadata document hosted online.</span></span>|
|`epr`|<span data-ttu-id="09246-362">XML 檔案的路徑，其中包含支援 WS-Metadata Exchange 之服務端點的 WS-Addressing EndpointReference。</span><span class="sxs-lookup"><span data-stu-id="09246-362">The path to an XML file that contains a WS-Addressing EndpointReference for a service endpoint that supports WS-Metadata Exchange.</span></span>|

### <a name="xmlserializer-type-generation"></a><span data-ttu-id="09246-363">XmlSerializer 型別產生</span><span class="sxs-lookup"><span data-stu-id="09246-363">XmlSerializer Type Generation</span></span>

<span data-ttu-id="09246-364">使用資料型別 (可使用 <xref:System.Xml.Serialization.XmlSerializer> 加以序列化) 的服務和用戶端應用程式會在執行階段針對這些資料型別產生和編譯序列化程式碼，這可能會導致啟動的效能變慢。</span><span class="sxs-lookup"><span data-stu-id="09246-364">Services and client applications that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span>

> [!NOTE]
> <span data-ttu-id="09246-365">預先產生的序列化程式碼只能用於用戶端應用程式中，而不能用於服務中。</span><span class="sxs-lookup"><span data-stu-id="09246-365">Pre-generated serialization code can only be used in client applications and not in services.</span></span>

<span data-ttu-id="09246-366">Svcutil.exe 可從應用程式的已編譯組件產生必要的 C# 序列化程式碼，因此可改善這些應用程式的啟動效能。</span><span class="sxs-lookup"><span data-stu-id="09246-366">Svcutil.exe can generate the necessary C# serialization code from the compiled assemblies for the application, thus improving start-up performance for these applications.</span></span> <span data-ttu-id="09246-367">如需詳細資訊，請參閱 [如何：使用 XmlSerializer 改善 WCF 用戶端應用程式的啟動時間](./feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md)。</span><span class="sxs-lookup"><span data-stu-id="09246-367">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](./feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>

> [!NOTE]
> <span data-ttu-id="09246-368">Svcutil.exe 只會針對輸入組件中的服務合約所使用的型別產生程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-368">Svcutil.exe only generates code for types used by Service Contracts found in the input assemblies.</span></span>

`svcutil.exe /t:xmlSerializer  <assemblyPath>*`

|<span data-ttu-id="09246-369">引數</span><span class="sxs-lookup"><span data-stu-id="09246-369">Argument</span></span>|<span data-ttu-id="09246-370">描述</span><span class="sxs-lookup"><span data-stu-id="09246-370">Description</span></span>|
|--------------|-----------------|
|`assemblyPath`|<span data-ttu-id="09246-371">指定包含服務合約類型之組件的路徑。</span><span class="sxs-lookup"><span data-stu-id="09246-371">Specifies the path to an assembly that contains service contract types.</span></span> <span data-ttu-id="09246-372">會針對每個合約中的所有 Xml 可序列化型別產生序列化型別。</span><span class="sxs-lookup"><span data-stu-id="09246-372">Serialization types are generated for all Xml Serializable types in each contract.</span></span>|

|<span data-ttu-id="09246-373">選項</span><span class="sxs-lookup"><span data-stu-id="09246-373">Option</span></span>|<span data-ttu-id="09246-374">描述</span><span class="sxs-lookup"><span data-stu-id="09246-374">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="09246-375">/reference\<file path></span><span class="sxs-lookup"><span data-stu-id="09246-375">/reference:\<file path></span></span>|<span data-ttu-id="09246-376">將指定的組件新增至用於解析型別參考的組件集合中。</span><span class="sxs-lookup"><span data-stu-id="09246-376">Adds the specified assembly to the set of assemblies used for resolving type references.</span></span><br /><br /> <span data-ttu-id="09246-377">簡短形式：`/r`</span><span class="sxs-lookup"><span data-stu-id="09246-377">Short Form: `/r`</span></span>|
|<span data-ttu-id="09246-378">/excludeType:\<type></span><span class="sxs-lookup"><span data-stu-id="09246-378">/excludeType:\<type></span></span>|<span data-ttu-id="09246-379">指定要從匯出作業或驗證作業排除的型別其完整名稱或組件限定名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-379">Specifies the fully-qualified or assembly-qualified name of a type to be excluded from export or validation.</span></span><br /><br /> <span data-ttu-id="09246-380">簡短形式：`/et`</span><span class="sxs-lookup"><span data-stu-id="09246-380">Short Form: `/et`</span></span>|
|<span data-ttu-id="09246-381">/out\<file></span><span class="sxs-lookup"><span data-stu-id="09246-381">/out:\<file></span></span>|<span data-ttu-id="09246-382">指定產生之程式碼的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-382">Specifies the filename for the generated code.</span></span> <span data-ttu-id="09246-383">將多個組件做為工具的輸入傳遞時，會忽略這個選項。</span><span class="sxs-lookup"><span data-stu-id="09246-383">This option is ignored when multiple assemblies are passed as input to the tool.</span></span><br /><br /> <span data-ttu-id="09246-384">預設：衍生自組件名稱。</span><span class="sxs-lookup"><span data-stu-id="09246-384">Default: Derived from the assembly name.</span></span><br /><br /> <span data-ttu-id="09246-385">簡短形式：`/o`</span><span class="sxs-lookup"><span data-stu-id="09246-385">Short Form: `/o`</span></span>|
|<span data-ttu-id="09246-386">/UseSerializerForFaults</span><span class="sxs-lookup"><span data-stu-id="09246-386">/UseSerializerForFaults</span></span>|<span data-ttu-id="09246-387">指定應使用 <xref:System.Xml.Serialization.XmlSerializer> 來讀取和寫入錯誤，而非使用預設 <xref:System.Runtime.Serialization.DataContractSerializer>。</span><span class="sxs-lookup"><span data-stu-id="09246-387">Specifies that the <xref:System.Xml.Serialization.XmlSerializer> should be used for reading and writing faults, instead of the default <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span>|

## <a name="examples"></a><span data-ttu-id="09246-388">範例</span><span class="sxs-lookup"><span data-stu-id="09246-388">Examples</span></span>

<span data-ttu-id="09246-389">下列命令會從執行中服務或線上中繼資料文件產生用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-389">The following command generates client code from a running service or online metadata documents.</span></span>

`svcutil http://service/metadataEndpoint`

<span data-ttu-id="09246-390">下列命令會從本機中繼資料文件產生用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="09246-390">The following command generates client code from local metadata documents.</span></span>

`svcutil *.wsdl *.xsd /language:C#`

<span data-ttu-id="09246-391">下列命令會使用 Visual Basic 從本機結構描述文件產生用戶端合約類型。</span><span class="sxs-lookup"><span data-stu-id="09246-391">The following command generates data contract types in Visual Basic from local schema documents.</span></span>

`svcutil /dconly *.xsd /language:VB`

<span data-ttu-id="09246-392">下列命令會從執行中服務下載中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="09246-392">The following command downloads metadata documents from running services.</span></span>

`svcutil /t:metadata http://service/metadataEndpoint`

<span data-ttu-id="09246-393">下列命令會在組件中產生服務合約和相關類型的中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="09246-393">The following command generates metadata documents for service contracts and associated types in an assembly.</span></span>

`svcutil myAssembly.dll`

<span data-ttu-id="09246-394">下列命令會在組件中產生服務、所有相關服務合約和資料型別的中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="09246-394">The following command generates metadata documents for a service, and all associated service contracts and data types in an assembly.</span></span>

`svcutil myServiceHost.exe /serviceName:myServiceName`

<span data-ttu-id="09246-395">下列命令會在組件中產生資料型別的中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="09246-395">The following command generates metadata documents for data types in an assembly.</span></span>

`svcutil myServiceHost.exe /dconly`

<span data-ttu-id="09246-396">下列命令會驗證服務裝載。</span><span class="sxs-lookup"><span data-stu-id="09246-396">The following command verifies service hosting.</span></span>

`svcutil /validate /serviceName:myServiceName myServiceHost.exe`

<span data-ttu-id="09246-397">下列命令會針對組件中任何服務合約所使用的 <xref:System.Xml.Serialization.XmlSerializer> 型別，產生序列化型別。</span><span class="sxs-lookup"><span data-stu-id="09246-397">The following command generates serialization types for <xref:System.Xml.Serialization.XmlSerializer> types used by any service contracts in the assembly.</span></span>

`svcutil /t:xmlserializer myContractLibrary.exe`

## <a name="maximum-nametable-character-count-quota"></a><span data-ttu-id="09246-398">最大名稱表格字元計數配額</span><span class="sxs-lookup"><span data-stu-id="09246-398">Maximum Nametable Character Count Quota</span></span>

<span data-ttu-id="09246-399">使用 svcutil 產生服務中繼資料時，可能會出現下列訊息：</span><span class="sxs-lookup"><span data-stu-id="09246-399">When using svcutil to generate metadata for a service, you may get the following message:</span></span>

<span data-ttu-id="09246-400">錯誤： `http://localhost:8000/somesservice/mex` 讀取 XML 資料時，無法從最大的資料表計數位符計數配額 (16384) 取得中繼資料。</span><span class="sxs-lookup"><span data-stu-id="09246-400">Error: Cannot obtain Metadata from `http://localhost:8000/somesservice/mex` The maximum nametable character count quota (16384) has been exceeded while reading XML data.</span></span> <span data-ttu-id="09246-401">名稱表格是一種資料結構，用來儲存在 XML 處理過程中所遇到的字串 - 具有不重複的項目名稱、屬性名稱及屬性值的冗長 XML 文件可能會觸發此配額限制。</span><span class="sxs-lookup"><span data-stu-id="09246-401">The nametable is a data structure used to store strings encountered during XML processing - long XML documents with non-repeating element names, attribute names and attribute values may trigger this quota.</span></span> <span data-ttu-id="09246-402">在建立 XML 讀取器時變更 XmlDictionaryReaderQuotas 物件上使用的 MaxNameTableCharCount 屬性，便可以增加此配額。</span><span class="sxs-lookup"><span data-stu-id="09246-402">This quota may be increased by changing the MaxNameTableCharCount property on the XmlDictionaryReaderQuotas object used when creating the XML reader.</span></span>

<span data-ttu-id="09246-403">這個錯誤可能是當您要求服務的中繼資料時，傳回大型 WSDL 檔案的服務所導致。</span><span class="sxs-lookup"><span data-stu-id="09246-403">This error can be caused by a service that returns a large WSDL file when you request its metadata.</span></span> <span data-ttu-id="09246-404">這時候的問題是已超過 svcutil.exe 工具的字元配額。</span><span class="sxs-lookup"><span data-stu-id="09246-404">The problem is that the character quota for the svcutil.exe tool is exceeded.</span></span> <span data-ttu-id="09246-405">設定此值是為了防止阻斷服務 (DOS) 攻擊。</span><span class="sxs-lookup"><span data-stu-id="09246-405">This value is set to help prevent denial of service (dos) attacks.</span></span> <span data-ttu-id="09246-406">可對 svcutil 指定下列組態檔，增加此配額。</span><span class="sxs-lookup"><span data-stu-id="09246-406">You can increase this quota by specifying the following config file for svcutil.</span></span>

<span data-ttu-id="09246-407">下列組態檔顯示如何設定 svcutil 的讀取器配額。</span><span class="sxs-lookup"><span data-stu-id="09246-407">The following config file shows how to set the reader quotas for svcutil</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <customBinding>
                <binding name="MyBinding">
                    <textMessageEncoding>
                        <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647"
                            maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
                    </textMessageEncoding>
                    <httpTransport maxReceivedMessageSize="2147483647" maxBufferSize="2147483647" />
                </binding>
            </customBinding>
        </bindings>
        <client>
            <endpoint binding="customBinding" bindingConfiguration="MyBinding"
                contract="IMetadataExchange"
                name="http" />
        </client>
    </system.serviceModel>
</configuration>
```

<span data-ttu-id="09246-408">建立名為 svcutil.exe.config 的新檔案，並將 XML 範例程式碼複製到此檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-408">Create a new file called svcutil.exe.config and copy the XML example code into it.</span></span> <span data-ttu-id="09246-409">然後將檔案放置在和 svcutil.exe 相同的目錄中。</span><span class="sxs-lookup"><span data-stu-id="09246-409">Then place the file in the same directory as svcutil.exe.</span></span> <span data-ttu-id="09246-410">下次 svcutil.exe 執行時便會啟用新設定。</span><span class="sxs-lookup"><span data-stu-id="09246-410">The next time svcutil.exe is run it will pick up the new settings.</span></span>

## <a name="security-concerns"></a><span data-ttu-id="09246-411">安全性考量</span><span class="sxs-lookup"><span data-stu-id="09246-411">Security Concerns</span></span>

<span data-ttu-id="09246-412">您應該使用適當的存取控制清單 (ACL) 來保護 Svcutil.exe 的安裝資料夾、Svcutil.config 和 `/svcutilConfig` 指向的檔案。</span><span class="sxs-lookup"><span data-stu-id="09246-412">You should use the appropriate Access Control List (ACL) to protect Svcutil.exe's installation folder, Svcutil.config, and files being pointed to by `/svcutilConfig`.</span></span> <span data-ttu-id="09246-413">這可以防止註冊和執行惡意的延伸。</span><span class="sxs-lookup"><span data-stu-id="09246-413">This can prevent malicious extensions from being registered and run.</span></span>

<span data-ttu-id="09246-414">此外，為了將安全性遭入侵的機率降到最低，您不應該將不受信任的延伸模組新增為系統的一部分，或在 Svcutil.exe 中使用不受信任的程式碼提供者。</span><span class="sxs-lookup"><span data-stu-id="09246-414">In addition, to minimize the chance that security be compromised, you should not add untrusted extensions to be part of the system or use untrusted code providers with Svcutil.exe.</span></span>

<span data-ttu-id="09246-415">最後，您不應該在應用程式的中介層 (Middle Tier) 使用這個工具，因為它可能會對目前處理序造成阻絕服務攻擊。</span><span class="sxs-lookup"><span data-stu-id="09246-415">Finally, you should not use the tool in the middle-tier of your application, as it may cause denial-of-service to the current process.</span></span>

## <a name="see-also"></a><span data-ttu-id="09246-416">另請參閱</span><span class="sxs-lookup"><span data-stu-id="09246-416">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractAttribute>
- <xref:System.Runtime.Serialization.DataMemberAttribute>
- [<span data-ttu-id="09246-417">如何：建立用戶端</span><span class="sxs-lookup"><span data-stu-id="09246-417">How to: Create a Client</span></span>](how-to-create-a-wcf-client.md)
