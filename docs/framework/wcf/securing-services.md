---
title: 保護服務的安全
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: f2a8e10aaf9c1dbe3065344963fcc712776cd2db
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/26/2020
ms.locfileid: "96242223"
---
# <a name="securing-services"></a><span data-ttu-id="ea5e1-102">保護服務的安全</span><span class="sxs-lookup"><span data-stu-id="ea5e1-102">Securing Services</span></span>

<span data-ttu-id="ea5e1-103">Windows Communication Foundation (WCF) 服務的安全性是由兩個主要需求所組成：傳輸安全性和授權。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="ea5e1-104"> (第三個需求，安全性事件的審核會在 [審核](./feature-details/auditing-security-events.md)中說明。 ) 簡單的說，傳輸安全性包含驗證 (驗證服務和用戶端) 的身分識別、機密性 (訊息加密) 和完整性 (數位簽章來偵測篡改) 。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-104">(A third requirement, auditing of security events, is described in [Auditing](./feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="ea5e1-105">授權會控制存取資源，例如，只允許有權限的使用者讀取檔案。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="ea5e1-106">使用 WCF 的功能，可輕鬆地執行這兩個主要需求。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="ea5e1-107">除了 <xref:System.ServiceModel.BasicHttpBinding> 類別 (或設定 [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md)) 中的元素之外，所有預先定義的系結預設都會啟用傳輸安全性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="ea5e1-108">本節中的主題涵蓋兩個基本案例：在裝載於 Internet Information Services (IIS) 的內部網路服務上實作傳輸安全性和授權，以及在裝載於 IIS 的服務上實作傳輸安全性和授權。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ea5e1-109">Windows XP Home 不支援 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="ea5e1-110">因此，您不應該在該系統上執行服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="ea5e1-111">安全性基本概念</span><span class="sxs-lookup"><span data-stu-id="ea5e1-111">Security Basics</span></span>  

 <span data-ttu-id="ea5e1-112">安全性仰賴「 *認證*」(Credential)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-112">Security relies on *credentials*.</span></span> <span data-ttu-id="ea5e1-113">認證會證明實體如其宣告所言</span><span class="sxs-lookup"><span data-stu-id="ea5e1-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="ea5e1-114"> (*實體* 可以是個人、軟體程式、公司，或任何可獲得授權的。 ) 例如，服務的用戶端 *會建立身\分\**識別* 的宣告，而認證會以某種方式證明該宣告。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="ea5e1-115">在一般情況下，會發生認證交換。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="ea5e1-116">首先，服務會宣告其身分識別，並使用認證，向用戶端證明它自己。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="ea5e1-117">反之，用戶端會宣告身分識別，並向服務出示認證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="ea5e1-118">如果雙方信任對方的認證，則會建立「 *安全內容* 」(Secure Context)，其中的所有訊息都會以機密方式交換，而且所有訊息也都會簽署以保護其完整性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="ea5e1-119">當服務建立用戶端的身分識別之後，就可以將認證中的宣告與群組中的「 *角色* 」(Role) 或「 *成員資格* 」(Membership) 比對。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="ea5e1-120">在這兩種情況下，服務會使用用戶端所屬的角色或群組，根據角色或群組權限「 *授權* 」(Authorize) 用戶端執行一組受限制的作業。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="ea5e1-121">Windows 安全性機制</span><span class="sxs-lookup"><span data-stu-id="ea5e1-121">Windows Security Mechanisms</span></span>  

 <span data-ttu-id="ea5e1-122">如果用戶端和服務電腦都位在要求兩者登入網路的 Windows 網域上，Windows 基礎結構會提供認證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="ea5e1-123">在這種情況下，當電腦使用者登入網路時，會建立認證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="ea5e1-124">網路上的每個使用者和每台電腦都必須經驗證為屬於受信任的使用者和電腦集合。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="ea5e1-125">在 Windows 系統上，這類使用者和電腦也稱為「 *安全性主體*」(Security Principal)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="ea5e1-126">在 *Kerberos* 控制器支援的 Windows 網域上，Kerberos 控制器會使用對每個安全性主體授與票證的配置。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="ea5e1-127">系統中其他票證授與者都會信任控制器所授與的票證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="ea5e1-128">當實體嘗試執行特定作業或存取「 *資源* 」(Resource) (例如電腦上的檔案或目錄) 時，會檢查票證有效性，如果通過，則會授與主體另一個用於作業的票證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="ea5e1-129">授與票證的方法比起在每個作業驗證主體的方法更有效率。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="ea5e1-130">Windows 網域上較不安全的舊型機制是 NT LAN Manager (NTLM)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="ea5e1-131">在無法使用 Kerberos (通常是在 Windows 網域之外，例如工作群組) 的情況下，NTLM 可以做為替代方法。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="ea5e1-132">NTLM 也是 IIS 的安全性選項。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="ea5e1-133">在 Windows 系統上，授權的運作方式是，將每台電腦和每個使用者指派至一組角色和群組。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="ea5e1-134">例如，每台 Windows 電腦都必須由身為「 *系統管理員*」(Administrator) 角色的人員 (或一群人) 來設定和控制。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="ea5e1-135">另一個角色是「 *使用者*」(User)，他有一組更加受限制的權限。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="ea5e1-136">除了角色之外，使用者也可以指派至群組。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="ea5e1-137">群組可讓多個使用者以相同角色執行。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="ea5e1-138">因此，在實務上，Windows 電腦的管理方式是將使用者指派至群組。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="ea5e1-139">例如，數個使用者可以指派至電腦的使用者群組，而極少數使用者則可以指派至系統管理員群組。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="ea5e1-140">在本機電腦上，系統管理員也可以建立新群組，並將其他使用者 (或甚至其他群組) 指派至該群組。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="ea5e1-141">在執行 Windows 的電腦上，目錄中的每個資料夾都會受到保護。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="ea5e1-142">也就是說，您可以選取資料夾並控制誰能存取檔案，以及使用者是否可以複製檔案，或 (在最高權限的情況下) 變更檔案、刪除檔案或將檔案加入至資料夾。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="ea5e1-143">這也稱為存取控制，其機制稱為存取控制清單 (ACL)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="ea5e1-144">在建立 ACL 時，您可以將存取權限指派至任何一或多個群組，以及網域的個別成員。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="ea5e1-145">WCF 基礎結構是設計來使用這些 Windows 安全性機制。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="ea5e1-146">因此，如果要建立將會部署在內部網路上的服務，而且服務用戶端限制在 Windows 網域的成員，即可輕鬆實作安全性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="ea5e1-147">只有有效的使用者才能登入網域。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="ea5e1-148">當使用者登入之後，Kerberos 控制器會讓每個使用者與其他電腦或應用程式建立安全內容。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="ea5e1-149">在本機電腦上，可以輕鬆建立群組。若要保護特定資料夾，這些群組就可以用於電腦上指派存取權限。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="ea5e1-150">在內部網路服務上實作 Windows 安全性</span><span class="sxs-lookup"><span data-stu-id="ea5e1-150">Implementing Windows Security on Intranet Services</span></span>  

 <span data-ttu-id="ea5e1-151">若要保護只在 Windows 網域上執行的應用程式，您可以使用 <xref:System.ServiceModel.WSHttpBinding> 或 <xref:System.ServiceModel.NetTcpBinding> 繫結的預設安全性設定。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="ea5e1-152">依預設，相同 Windows 網域上的任何人都可以存取 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="ea5e1-153">因為這些使用者已經登入網路，所以他們都是受信任的。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="ea5e1-154">服務和用戶端之間的訊息會為了機密性而加密，且為了完整性而簽署。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="ea5e1-155">如需有關如何建立使用 Windows 安全性之服務的詳細資訊，請參閱 [如何：使用 Windows 認證保護服務](how-to-secure-a-service-with-windows-credentials.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="ea5e1-156">使用 PrincipalPermissionAttribute 類別的授權</span><span class="sxs-lookup"><span data-stu-id="ea5e1-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  

 <span data-ttu-id="ea5e1-157">如果您必須限制存取電腦上的資源，最簡單的方式是使用 <xref:System.Security.Permissions.PrincipalPermissionAttribute> 類別。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="ea5e1-158">這個屬性可藉由要求使用者應為指定的 Windows 群組或角色或特定使用者，來限制服務作業的引動過程。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="ea5e1-159">如需詳細資訊，請參閱 [如何：使用 PrincipalPermissionAttribute 類別來限制存取](how-to-restrict-access-with-the-principalpermissionattribute-class.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="ea5e1-160">模擬</span><span class="sxs-lookup"><span data-stu-id="ea5e1-160">Impersonation</span></span>  

 <span data-ttu-id="ea5e1-161">模擬是另一個可用來控制存取資源的機制。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="ea5e1-162">根據預設，由 IIS 裝載的服務必須在 ASPNET 帳戶的身分識別下執行。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="ea5e1-163">ASPNET 帳戶只能存取它有權限的資源。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="ea5e1-164">不過，也可以將資料夾的 ACL 設定為排除 ASPNET 服務帳戶，但允許某些其他身分識別來存取資料夾。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="ea5e1-165">接下來的問題是，如果不允許 ASPNET 帳戶存取資料夾，如何允許其他使用者存取資料夾。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="ea5e1-166">答案是使用模擬，藉此讓服務能使用用戶端的認證來存取特定資源。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="ea5e1-167">另一個範例是當存取只有某些使用者有權限的 SQL Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="ea5e1-168">如需使用模擬的詳細資訊，請參閱 [如何：在服務上模擬用戶端](how-to-impersonate-a-client-on-a-service.md) 和 [委派和](./feature-details/delegation-and-impersonation-with-wcf.md)模擬。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](./feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="ea5e1-169">網際網路上的安全性</span><span class="sxs-lookup"><span data-stu-id="ea5e1-169">Security on the Internet</span></span>  

 <span data-ttu-id="ea5e1-170">網際網路上的安全性和內部網路上的安全性有相同需求。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="ea5e1-171">服務必須出示其認證，以證明其真實性，而用戶端則必須向服務證明其身分識別。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="ea5e1-172">一旦證明用戶端的身分識別，服務就可以控制用戶端對資源的存取權限。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="ea5e1-173">不過，由於網際網路的異質性，所出示的認證與 Windows 網域上所使用的並不相同。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="ea5e1-174">在網域上，Kerberos 控制器會使用認證的票證來處理使用者驗證，但在網際網路上，服務和用戶端則仰賴多個不同方式來出示認證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="ea5e1-175">不過，本主題的目標是要提供一個共同的方法，讓您能夠建立可在網際網路上存取的 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="ea5e1-176">使用 IIS 和 ASP.NET</span><span class="sxs-lookup"><span data-stu-id="ea5e1-176">Using IIS and ASP.NET</span></span>  

 <span data-ttu-id="ea5e1-177">網際網路安全性的需求以及解決這些問題的機制並不陌生。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="ea5e1-178">IIS 是 Microsoft 在網際網路上的 Web 服務器，而且有許多可解決這些問題的安全性功能;此外，ASP.NET 還包含 WCF 服務可以使用的安全性功能。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, ASP.NET includes security features that WCF services can use.</span></span> <span data-ttu-id="ea5e1-179">若要利用這些安全性功能，請在 IIS 上裝載 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="ea5e1-180">使用 ASP.NET 成員資格和角色提供者</span><span class="sxs-lookup"><span data-stu-id="ea5e1-180">Using ASP.NET Membership and Role Providers</span></span>  

 <span data-ttu-id="ea5e1-181">ASP.NET 包含成員資格和角色提供者。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="ea5e1-182">提供者是用來驗證呼叫者，內含使用者名稱/密碼組的資料庫，也可讓您指定每個呼叫者的存取權限。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="ea5e1-183">使用 WCF 時，您可以透過設定輕鬆地使用既有的成員資格和角色提供者。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="ea5e1-184">如需示範這個用法的範例應用程式，請參閱 [Membership and Role Provider](./samples/membership-and-role-provider.md) 範例。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-184">For a sample application that demonstrates this, see the [Membership and Role Provider](./samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="ea5e1-185">IIS 使用的認證</span><span class="sxs-lookup"><span data-stu-id="ea5e1-185">Credentials Used by IIS</span></span>  

 <span data-ttu-id="ea5e1-186">不同於 Kerberos 控制器所支援的 Windows 網域，在網際網路的環境中，沒有單一控制器來管理任何時候數以百萬計的登入使用者。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="ea5e1-187">取而代之的是網際網路上最常見的 X.509 憑證 (也稱為 Secure Sockets Layer (SSL) 憑證)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="ea5e1-188">這些憑證通常是由「 *憑證授權單位*」(Certificate Authority) 發行，這是保證憑證和發給對象真實性的第三方公司。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="ea5e1-189">若要在網際網路上公開服務，您也必須提供這類受信任的憑證來驗證服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="ea5e1-190">這時產生一個問題：如何取得這類憑證？</span><span class="sxs-lookup"><span data-stu-id="ea5e1-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="ea5e1-191">當您準備好部署服務及購買服務憑證時，一個來源是第三方憑證授權單位，例如 Authenticode 或 VeriSign。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="ea5e1-192">但是，如果您是在具有 WCF 的開發階段，但尚未準備好要購買憑證，則有一些工具和技巧可用來建立可用於模擬生產部署的 x.509 憑證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="ea5e1-193">如需詳細資訊，請參閱 [使用憑證](./feature-details/working-with-certificates.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-193">For more information, see [Working with Certificates](./feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="ea5e1-194">安全性模式</span><span class="sxs-lookup"><span data-stu-id="ea5e1-194">Security Modes</span></span>  

 <span data-ttu-id="ea5e1-195">WCF 安全性程式設計需要幾個重要的決策點。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="ea5e1-196">最基本的是「 *安全性模式*」(Security Mode) 的選擇。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="ea5e1-197">兩個主要安全性模式是「 *傳輸模式* 」(Transport Mode) 和「 *訊息模式*」(Message Mode)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="ea5e1-198">第三個模式是「 *使用訊息認證的傳輸模式*」(Transport With Message Credentials Mode)，此模式會結合這兩個主要模式的語意。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="ea5e1-199">安全性模式決定如何保護訊息，每個選項互有利弊，說明如下。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="ea5e1-200">如需設定安全性模式的詳細資訊，請參閱 [如何：設定安全性模式](how-to-set-the-security-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-200">For more information about setting the security mode, see [How to: Set the Security Mode](how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="ea5e1-201">傳輸模式</span><span class="sxs-lookup"><span data-stu-id="ea5e1-201">Transport Mode</span></span>  

 <span data-ttu-id="ea5e1-202">在網路和應用程式之間有多個層次。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="ea5e1-203">其中一個是 *傳輸* 層 *，* 可管理端點之間的訊息傳輸。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="ea5e1-204">基於目前的目的，您只需要瞭解 WCF 會使用數個傳輸通訊協定，而每個通訊協定都可以保護訊息的傳輸。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="ea5e1-205"> (如需傳輸的詳細資訊，請參閱 [傳輸](./feature-details/transports.md)。 ) </span><span class="sxs-lookup"><span data-stu-id="ea5e1-205">(For more information about transports, see [Transports](./feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="ea5e1-206">常用的通訊協定包含 HTTP 和 TCP。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="ea5e1-207">每個這些通訊協定都會藉由通訊協定特定的 (一或多個) 機制來保護訊息傳輸。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="ea5e1-208">例如，HTTP 通訊協定使用 SSL over HTTP (通常縮寫為 "HTTPS") 而受到保護。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="ea5e1-209">因此，當您選取安全性的傳輸模式時，會依照通訊協定規定來選擇使用機制。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="ea5e1-210">例如，如果您選取 <xref:System.ServiceModel.WSHttpBinding> 類別，並將其安全性模式設定為 Transport，同時會選取 SSL over HTTP (HTTPS) 做為安全性機制。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="ea5e1-211">傳輸模式的優點是比訊息模式更有效率，因為安全性是整合在相當低的層級。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="ea5e1-212">使用傳輸模式時，安全性機制必須依照傳輸規格來實作，因此只有在點對點傳輸時訊息才能安全流動。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="ea5e1-213">訊息模式</span><span class="sxs-lookup"><span data-stu-id="ea5e1-213">Message Mode</span></span>  

 <span data-ttu-id="ea5e1-214">相對之下，訊息模式是藉由包含安全性資料做為每個訊息的一部分，來提供安全性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="ea5e1-215">使用 XML 和 SOAP 安全性標頭，為確保訊息完整性和機密性所需的認證和其他資料會包含在每個訊息中。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="ea5e1-216">每個訊息包含安全性資料且必須個別處理，因此會影響效能</span><span class="sxs-lookup"><span data-stu-id="ea5e1-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="ea5e1-217"> (在傳輸模式中，一旦傳輸層受到保護，所有訊息都可自由流動 ) 。不過，訊息安全性有一個優於傳輸安全性的優點：它比較有彈性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="ea5e1-218">也就是說，安全性需求不是由傳輸決定的。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="ea5e1-219">您可以使用任何類型的用戶端認證來保護訊息</span><span class="sxs-lookup"><span data-stu-id="ea5e1-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="ea5e1-220">(在傳輸模式中，傳輸通訊協定會決定可使用的用戶端認證類型)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="ea5e1-221">使用訊息認證的傳輸</span><span class="sxs-lookup"><span data-stu-id="ea5e1-221">Transport with Message Credentials</span></span>  

 <span data-ttu-id="ea5e1-222">第三個模式結合傳輸和訊息安全性兩者的優點。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="ea5e1-223">在這個模式中，傳輸安全性會用來有效確保每個訊息的機密性和完整性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="ea5e1-224">同時，每個訊息包含它自己的認證資料，以便驗證訊息。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="ea5e1-225">使用驗證時，也可以實作授權。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="ea5e1-226">藉由驗證傳送者，可以依照傳送者的身分識別來授與 (或拒絕) 資源的存取權限。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="ea5e1-227">指定用戶端認證類型和認證值</span><span class="sxs-lookup"><span data-stu-id="ea5e1-227">Specifying the Client Credential Type and Credential Value</span></span>  

 <span data-ttu-id="ea5e1-228">選取安全性模式之後，您也可以指定用戶端認證類型。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="ea5e1-229">用戶端認證類型會指定用戶端必須用來向伺服器驗證自身的類型。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="ea5e1-230">但並不是所有狀況都需要用戶端認證類型。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="ea5e1-231">使用 SSL over HTTP (HTTPS) 時，服務會向用戶端驗證自身。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="ea5e1-232">在這個驗證過程中，服務的憑證會在一個名為「 *交涉*」(Negotiation) 的處理序中傳送至用戶端。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="ea5e1-233">SSL 安全傳輸會確保所有訊息都是機密的。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="ea5e1-234">如果建立的服務需要驗證用戶端，則用戶端認證類型的選擇取決於選取的傳輸和安全性模式。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="ea5e1-235">例如，使用 HTTP 傳輸且選擇傳輸模式時，有數個選項，例如「基本」、「摘要」等</span><span class="sxs-lookup"><span data-stu-id="ea5e1-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="ea5e1-236"> (如需這些認證類型的詳細資訊，請參閱 [瞭解 HTTP 驗證](./feature-details/understanding-http-authentication.md)。 ) </span><span class="sxs-lookup"><span data-stu-id="ea5e1-236">(For more information about these credential types, see [Understanding HTTP Authentication](./feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="ea5e1-237">如果在 Windows 網域上建立的服務只提供給該網路的其他使用者使用，最簡單的方法是 Windows 用戶端認證類型。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="ea5e1-238">不過，您可能也要提供憑證給服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="ea5e1-239">在 [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md)中，會示範這個用法。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-239">This is shown in [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="ea5e1-240">認證值</span><span class="sxs-lookup"><span data-stu-id="ea5e1-240">Credential Values</span></span>  

 <span data-ttu-id="ea5e1-241">「 *認證值* 」(Credential Value) 是服務使用的實際認證。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="ea5e1-242">一旦指定認證類型，您可能也要使用實際認證來設定服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="ea5e1-243">如果已選取 Windows (而且服務將在 Windows 網域上執行)，則不需要指定實際認證值。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="ea5e1-244">身分識別</span><span class="sxs-lookup"><span data-stu-id="ea5e1-244">Identity</span></span>  

 <span data-ttu-id="ea5e1-245">在 WCF 中，身分 *識別* 對於伺服器和用戶端具有不同的意義。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="ea5e1-246">簡言之，當執行服務時，識別是在驗證後指派至安全性內容。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="ea5e1-247">若要檢視實際識別，請檢查 <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> 類別的 <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> 和 <xref:System.ServiceModel.ServiceSecurityContext> 屬性。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="ea5e1-248">如需詳細資訊，請參閱 [如何：檢查安全性內容](how-to-examine-the-security-context.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-248">For more information, see [How to: Examine the Security Context](how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="ea5e1-249">相對之下，在用戶端，識別是用來驗證服務。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="ea5e1-250">在設計階段，用戶端開發人員可以將 [\<identity>](../configure-apps/file-schema/wcf/identity.md) 元素設定為從服務取得的值。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-250">At design time, a client developer can set the [\<identity>](../configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="ea5e1-251">在執行階段，用戶端會比對服務的實際識別，來檢查項目的值。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="ea5e1-252">如果檢查失敗，用戶端會結束通訊。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="ea5e1-253">如果服務在特定使用者的識別下執行，此值可以是使用者主要名稱 (UPN)，如果服務在電腦帳戶下執行，則為服務主要名稱 (SPN)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="ea5e1-254">如需詳細資訊，請參閱 [服務身分識別和驗證](./feature-details/service-identity-and-authentication.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-254">For more information, see [Service Identity and Authentication](./feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="ea5e1-255">認證也可以是憑證，或是憑證上識別憑證的欄位。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="ea5e1-256">保護等級</span><span class="sxs-lookup"><span data-stu-id="ea5e1-256">Protection Levels</span></span>  

 <span data-ttu-id="ea5e1-257">`ProtectionLevel` 屬性 (Property) 會出現在多個屬性 (Attribute) 類別 (例如 <xref:System.ServiceModel.ServiceContractAttribute> 和 <xref:System.ServiceModel.OperationContractAttribute> 類別)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="ea5e1-258">保護層級是一個值，會指定支援服務的訊息 (或訊息部分) 為經過簽署、經過簽署且加密，或是已傳送但未包含簽章或加密。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="ea5e1-259">如需屬性的詳細資訊，請參閱 [瞭解保護層級](understanding-protection-level.md)和程式設計範例，請參閱 [如何：設定 ProtectionLevel 屬性](how-to-set-the-protectionlevel-property.md)。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-259">For more information about the property, see [Understanding Protection Level](understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="ea5e1-260">如需使用內容設計服務合約的詳細資訊 `ProtectionLevel` ，請參閱 [設計服務](designing-service-contracts.md)合約。</span><span class="sxs-lookup"><span data-stu-id="ea5e1-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ea5e1-261">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ea5e1-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="ea5e1-262">服務身分識別和驗證</span><span class="sxs-lookup"><span data-stu-id="ea5e1-262">Service Identity and Authentication</span></span>](./feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="ea5e1-263">了解保護層級</span><span class="sxs-lookup"><span data-stu-id="ea5e1-263">Understanding Protection Level</span></span>](understanding-protection-level.md)
- [<span data-ttu-id="ea5e1-264">委派和模擬</span><span class="sxs-lookup"><span data-stu-id="ea5e1-264">Delegation and Impersonation</span></span>](./feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="ea5e1-265">設計服務合約</span><span class="sxs-lookup"><span data-stu-id="ea5e1-265">Designing Service Contracts</span></span>](designing-service-contracts.md)
- [<span data-ttu-id="ea5e1-266">安全性</span><span class="sxs-lookup"><span data-stu-id="ea5e1-266">Security</span></span>](./feature-details/security.md)
- [<span data-ttu-id="ea5e1-267">安全性概觀</span><span class="sxs-lookup"><span data-stu-id="ea5e1-267">Security Overview</span></span>](./feature-details/security-overview.md)
- [<span data-ttu-id="ea5e1-268">作法：設定 ProtectionLevel 屬性</span><span class="sxs-lookup"><span data-stu-id="ea5e1-268">How to: Set the ProtectionLevel Property</span></span>](how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="ea5e1-269">作法：使用 Windows 認證來確保服務安全</span><span class="sxs-lookup"><span data-stu-id="ea5e1-269">How to: Secure a Service with Windows Credentials</span></span>](how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="ea5e1-270">作法：設定安全性模式</span><span class="sxs-lookup"><span data-stu-id="ea5e1-270">How to: Set the Security Mode</span></span>](how-to-set-the-security-mode.md)
- [<span data-ttu-id="ea5e1-271">作法：指定用戶端認證類型</span><span class="sxs-lookup"><span data-stu-id="ea5e1-271">How to: Specify the Client Credential Type</span></span>](how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="ea5e1-272">作法：使用 PrincipalPermissionAttribute 類別來限制存取</span><span class="sxs-lookup"><span data-stu-id="ea5e1-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="ea5e1-273">作法：在服務上模擬用戶端</span><span class="sxs-lookup"><span data-stu-id="ea5e1-273">How to: Impersonate a Client on a Service</span></span>](how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="ea5e1-274">作法：檢查資訊安全內容</span><span class="sxs-lookup"><span data-stu-id="ea5e1-274">How to: Examine the Security Context</span></span>](how-to-examine-the-security-context.md)
