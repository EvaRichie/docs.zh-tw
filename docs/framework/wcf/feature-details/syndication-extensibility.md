---
title: 新聞訂閱擴充性
ms.date: 03/30/2017
ms.assetid: 4d941175-74a2-4b15-81b3-086e8a95d25f
ms.openlocfilehash: 39187f228e47ed4e82c8e737563b860ce5734416
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/26/2020
ms.locfileid: "96266528"
---
# <a name="syndication-extensibility"></a><span data-ttu-id="ef33e-102">新聞訂閱擴充性</span><span class="sxs-lookup"><span data-stu-id="ef33e-102">Syndication Extensibility</span></span>

<span data-ttu-id="ef33e-103">新聞訂閱 API 主要是提供格式中性的程式設計模型，以允許以各種格式將新聞訂閱內容寫入網路中。</span><span class="sxs-lookup"><span data-stu-id="ef33e-103">The Syndication API is designed to provide a format-neutral programming model that allows syndicated content to be written to the wire in a variety of formats.</span></span> <span data-ttu-id="ef33e-104">抽象資料模型包含下列類別：</span><span class="sxs-lookup"><span data-stu-id="ef33e-104">The abstract data model consists of the following classes:</span></span>  
  
- <xref:System.ServiceModel.Syndication.SyndicationCategory>  
  
- <xref:System.ServiceModel.Syndication.SyndicationFeed>  
  
- <xref:System.ServiceModel.Syndication.SyndicationItem>  
  
- <xref:System.ServiceModel.Syndication.SyndicationLink>  
  
- <xref:System.ServiceModel.Syndication.SyndicationPerson>  
  
 <span data-ttu-id="ef33e-105">這些類別可緊密地對應至 Atom 1.0 規格中所定義的建構 (儘管其中有些名稱不同)。</span><span class="sxs-lookup"><span data-stu-id="ef33e-105">These classes map closely to the constructs defined in the Atom 1.0 specification, although some of the names are different.</span></span>  
  
 <span data-ttu-id="ef33e-106">擴充性是新聞訂閱通訊協定的一項重要功能。</span><span class="sxs-lookup"><span data-stu-id="ef33e-106">A key feature of syndication protocols is extensibility.</span></span> <span data-ttu-id="ef33e-107">Atom 1.0 和 RSS 2.0 兩者都會將屬性和項目新增到規格中未定義的新聞訂閱摘要中。</span><span class="sxs-lookup"><span data-stu-id="ef33e-107">Both Atom 1.0 and RSS 2.0, add attributes and elements to syndication feeds that are not defined in the specifications.</span></span> <span data-ttu-id="ef33e-108">Windows Communication Foundation (WCF) 新聞訂閱程式設計模型提供下列方法來處理自訂屬性和擴充功能、鬆散型別存取，以及衍生新的類別。</span><span class="sxs-lookup"><span data-stu-id="ef33e-108">The Windows Communication Foundation (WCF) syndication programming model provides the following ways of working with custom attributes and extensions, loosely-typed access and deriving a new class.</span></span>  
  
## <a name="loosely-typed-access"></a><span data-ttu-id="ef33e-109">鬆散型別存取</span><span class="sxs-lookup"><span data-stu-id="ef33e-109">Loosely Typed Access</span></span>  

 <span data-ttu-id="ef33e-110">您需要撰寫額外的程式碼，才能藉由衍生新類別來新增延伸。</span><span class="sxs-lookup"><span data-stu-id="ef33e-110">Adding extensions by deriving a new class requires writing additional code.</span></span> <span data-ttu-id="ef33e-111">另一種方式則是透過鬆散型別方式來存取延伸。</span><span class="sxs-lookup"><span data-stu-id="ef33e-111">Another option is accessing extensions in a loosely-typed way.</span></span> <span data-ttu-id="ef33e-112">在新聞訂閱抽象資料模型中定義的所有型別都包含名為 `AttributeExtensions` 和 `ElementExtensions` 的屬性，唯一的例外是，<xref:System.ServiceModel.Syndication.SyndicationContent> 具有 `AttributeExtensions` 屬性，但不包含 `ElementExtensions` 屬性。</span><span class="sxs-lookup"><span data-stu-id="ef33e-112">All of the types defined in the syndication abstract data model contain properties named `AttributeExtensions` and `ElementExtensions` (with one exception, <xref:System.ServiceModel.Syndication.SyndicationContent> has an `AttributeExtensions` property but no `ElementExtensions` property).</span></span> <span data-ttu-id="ef33e-113">這些屬性是分別是 `TryParseAttribute` 和 `TryParseElement` 方法無法處理之延伸的集合。</span><span class="sxs-lookup"><span data-stu-id="ef33e-113">These properties are collections of extensions not processed by the `TryParseAttribute` and `TryParseElement` methods respectively.</span></span> <span data-ttu-id="ef33e-114">您可以呼叫 <xref:System.ServiceModel.Syndication.SyndicationElementExtensionCollection.ReadElementExtensions%2A?displayProperty=nameWithType> 屬性 (屬於 `ElementExtensions`、<xref:System.ServiceModel.Syndication.SyndicationFeed>、<xref:System.ServiceModel.Syndication.SyndicationItem>、<xref:System.ServiceModel.Syndication.SyndicationLink> 和 <xref:System.ServiceModel.Syndication.SyndicationPerson>) 上的 <xref:System.ServiceModel.Syndication.SyndicationCategory> 存取這些未處理的延伸。</span><span class="sxs-lookup"><span data-stu-id="ef33e-114">You can access these unprocessed extensions by calling <xref:System.ServiceModel.Syndication.SyndicationElementExtensionCollection.ReadElementExtensions%2A?displayProperty=nameWithType> on the `ElementExtensions` property of <xref:System.ServiceModel.Syndication.SyndicationFeed>, <xref:System.ServiceModel.Syndication.SyndicationItem>, <xref:System.ServiceModel.Syndication.SyndicationLink>, <xref:System.ServiceModel.Syndication.SyndicationPerson>, and <xref:System.ServiceModel.Syndication.SyndicationCategory>.</span></span> <span data-ttu-id="ef33e-115">這群方法集合會先找到所有包含指定名稱和命名空間的延伸、加以個別還原序列化為 `TExtension` 的執行個體，然後將它們當成 `TExtension` 物件的集合傳回。</span><span class="sxs-lookup"><span data-stu-id="ef33e-115">This set of methods finds all extensions with the specified name and namespace, deserializes them individually into instances of `TExtension` and returns them as a collection of `TExtension` objects.</span></span>  
  
## <a name="deriving-a-new-class"></a><span data-ttu-id="ef33e-116">衍生新的類別</span><span class="sxs-lookup"><span data-stu-id="ef33e-116">Deriving a New Class</span></span>  

 <span data-ttu-id="ef33e-117">您可以從任何一個現有的抽象資料模型類別中衍生新的類別。</span><span class="sxs-lookup"><span data-stu-id="ef33e-117">You can derive a new class from any of the existing abstract data model classes.</span></span> <span data-ttu-id="ef33e-118">在您實作應用程式時，如果所使用的大部分摘要都包含特定延伸時，就可以這麼做。</span><span class="sxs-lookup"><span data-stu-id="ef33e-118">Do this when implementing an application in which most of the feeds you are working with have a particular extension.</span></span> <span data-ttu-id="ef33e-119">在本主題中，程式使用的大部分摘要都包含 `MyExtension` 延伸。</span><span class="sxs-lookup"><span data-stu-id="ef33e-119">In this topic, most of the feeds that the program works with contain a `MyExtension` extension.</span></span> <span data-ttu-id="ef33e-120">若要提供更好的程式設計體驗，請執行下列步驟：</span><span class="sxs-lookup"><span data-stu-id="ef33e-120">To provide an improved programming experience, do the following steps:</span></span>  
  
- <span data-ttu-id="ef33e-121">建立可保留延伸資料的類別。</span><span class="sxs-lookup"><span data-stu-id="ef33e-121">Create a class to hold the extension data.</span></span> <span data-ttu-id="ef33e-122">在此案例中，建立名為 MyExtension 的類別。</span><span class="sxs-lookup"><span data-stu-id="ef33e-122">In this case, create a class called MyExtension.</span></span>  
  
- <span data-ttu-id="ef33e-123">從 <xref:System.ServiceModel.Syndication.SyndicationItem> 衍生名為 MyExtensionItem 的類別並公開型別 MyExtension 的屬性以供程式設計之用。</span><span class="sxs-lookup"><span data-stu-id="ef33e-123">Derive a class called MyExtensionItem from <xref:System.ServiceModel.Syndication.SyndicationItem> to expose a property of type MyExtension for programmability purposes.</span></span>  
  
- <span data-ttu-id="ef33e-124">讀入 MyExtension 時，覆寫 MyExtensionItem 類別中的 <xref:System.ServiceModel.Syndication.SyndicationItem.TryParseElement%28System.Xml.XmlReader%2CSystem.String%29> 以產生新的 MyExtension 執行個體。</span><span class="sxs-lookup"><span data-stu-id="ef33e-124">Override <xref:System.ServiceModel.Syndication.SyndicationItem.TryParseElement%28System.Xml.XmlReader%2CSystem.String%29> in the MyExtensionItem class to instantiate a new MyExtension instance when a MyExtension is read in.</span></span>  
  
- <span data-ttu-id="ef33e-125">覆寫 MyExtensionItem 類別中的 <xref:System.ServiceModel.Syndication.SyndicationItem.WriteElementExtensions%28System.Xml.XmlWriter%2CSystem.String%29> 以將 MyExtension 屬性內容寫入 XML 寫入器。</span><span class="sxs-lookup"><span data-stu-id="ef33e-125">Override <xref:System.ServiceModel.Syndication.SyndicationItem.WriteElementExtensions%28System.Xml.XmlWriter%2CSystem.String%29> in the MyExtensionItem class to write the contents of the MyExtension property to an XML writer.</span></span>  
  
- <span data-ttu-id="ef33e-126">從 <xref:System.ServiceModel.Syndication.SyndicationFeed> 衍生稱為 MyExtensionFeed 的類別。</span><span class="sxs-lookup"><span data-stu-id="ef33e-126">Derive a class called MyExtensionFeed from <xref:System.ServiceModel.Syndication.SyndicationFeed>.</span></span>  
  
- <span data-ttu-id="ef33e-127">覆寫 MyExtensionFeed 類別中的 <xref:System.ServiceModel.Syndication.SyndicationFeed.CreateItem> 以產生 MyExtensionItem，而不是預設的 <xref:System.ServiceModel.Syndication.SyndicationItem>。</span><span class="sxs-lookup"><span data-stu-id="ef33e-127">Override <xref:System.ServiceModel.Syndication.SyndicationFeed.CreateItem> in the MyExtensionFeed class to instantiate a MyExtensionItem instead of the default <xref:System.ServiceModel.Syndication.SyndicationItem>.</span></span> <span data-ttu-id="ef33e-128"><xref:System.ServiceModel.Syndication.SyndicationFeed> 和 <xref:System.ServiceModel.Syndication.SyndicationItem> 中定義了一系列的方法，可建立 <xref:System.ServiceModel.Syndication.SyndicationLink>、<xref:System.ServiceModel.Syndication.SyndicationCategory> 和 <xref:System.ServiceModel.Syndication.SyndicationPerson> 物件 (例如，<xref:System.ServiceModel.Syndication.SyndicationFeed.CreateLink>、<xref:System.ServiceModel.Syndication.SyndicationFeed.CreateCategory> 和 <xref:System.ServiceModel.Syndication.SyndicationFeed.CreatePerson>)。</span><span class="sxs-lookup"><span data-stu-id="ef33e-128">A series of methods are defined in <xref:System.ServiceModel.Syndication.SyndicationFeed> and <xref:System.ServiceModel.Syndication.SyndicationItem> that can create <xref:System.ServiceModel.Syndication.SyndicationLink>, <xref:System.ServiceModel.Syndication.SyndicationCategory>, and <xref:System.ServiceModel.Syndication.SyndicationPerson> objects (for example, <xref:System.ServiceModel.Syndication.SyndicationFeed.CreateLink>, <xref:System.ServiceModel.Syndication.SyndicationFeed.CreateCategory>, and <xref:System.ServiceModel.Syndication.SyndicationFeed.CreatePerson>).</span></span> <span data-ttu-id="ef33e-129">這些全部都可加以覆寫，以建立自訂的衍生類別。</span><span class="sxs-lookup"><span data-stu-id="ef33e-129">All of which can be overridden to create a custom derived class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ef33e-130">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ef33e-130">See also</span></span>

- [<span data-ttu-id="ef33e-131">WCF 新聞訂閱概觀</span><span class="sxs-lookup"><span data-stu-id="ef33e-131">WCF Syndication Overview</span></span>](wcf-syndication-overview.md)
- [<span data-ttu-id="ef33e-132">新聞訂閱架構</span><span class="sxs-lookup"><span data-stu-id="ef33e-132">Architecture of Syndication</span></span>](architecture-of-syndication.md)
