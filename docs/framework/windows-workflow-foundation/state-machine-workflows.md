---
title: 狀態機器工作流程
description: 本文提供使用 StateMachine 活動建立狀態機器工作流程的總覽。
ms.date: 03/30/2017
ms.assetid: 344caacd-bf3b-4716-bd5a-eca74fc5a61d
ms.openlocfilehash: 2b259f315e0186c13ca44c5eed50d861bce3668a
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/15/2020
ms.locfileid: "83421328"
---
# <a name="state-machine-workflows"></a><span data-ttu-id="c90b6-103">狀態機器工作流程</span><span class="sxs-lookup"><span data-stu-id="c90b6-103">State Machine Workflows</span></span>
<span data-ttu-id="c90b6-104">狀態機器是用來開發程式的知名範例。</span><span class="sxs-lookup"><span data-stu-id="c90b6-104">A state machine is a well-known paradigm for developing programs.</span></span> <span data-ttu-id="c90b6-105"><xref:System.Activities.Statements.StateMachine> 活動以及 <xref:System.Activities.Statements.State>、<xref:System.Activities.Statements.Transition> 和其他活動皆可用來建置狀態機器工作流程程式。</span><span class="sxs-lookup"><span data-stu-id="c90b6-105">The <xref:System.Activities.Statements.StateMachine> activity, along with <xref:System.Activities.Statements.State>, <xref:System.Activities.Statements.Transition>, and other activities can be used to build state machine workflow programs.</span></span> <span data-ttu-id="c90b6-106">本主題提供建立狀態機器工作流程的概觀。</span><span class="sxs-lookup"><span data-stu-id="c90b6-106">This topic provides an overview of creating state machine workflows.</span></span>  
  
## <a name="state-machine-workflow-overview"></a><span data-ttu-id="c90b6-107">狀態機器工作流程概觀</span><span class="sxs-lookup"><span data-stu-id="c90b6-107">State Machine Workflow Overview</span></span>  
 <span data-ttu-id="c90b6-108">狀態機工作流提供模型樣式，可讓您以事件導向的方式建立工作流程的模型。</span><span class="sxs-lookup"><span data-stu-id="c90b6-108">State machine workflows provide a modeling style with which you can model your workflow in an event-driven manner.</span></span> <span data-ttu-id="c90b6-109"><xref:System.Activities.Statements.StateMachine> 活動包含組成狀態機器邏輯的狀態和轉換，並且適用於任何能夠使用活動的地方。</span><span class="sxs-lookup"><span data-stu-id="c90b6-109">A <xref:System.Activities.Statements.StateMachine> activity contains the states and transitions that make up the logic of the state machine, and can be used anywhere an activity can be used.</span></span> <span data-ttu-id="c90b6-110">狀態機器執行階段包含數種類別：</span><span class="sxs-lookup"><span data-stu-id="c90b6-110">There are several classes in the state machine runtime:</span></span>  
  
- <xref:System.Activities.Statements.StateMachine>  
  
- <xref:System.Activities.Statements.State>  
  
- <xref:System.Activities.Statements.Transition>  
  
 <span data-ttu-id="c90b6-111">若要建立狀態機器工作流程，狀態會加入至 <xref:System.Activities.Statements.StateMachine> 活動，而轉換則是用來控制狀態之間的流程。</span><span class="sxs-lookup"><span data-stu-id="c90b6-111">To create a state machine workflow, states are added to a <xref:System.Activities.Statements.StateMachine> activity, and transitions are used to control the flow between states.</span></span> <span data-ttu-id="c90b6-112">下列螢幕擷取畫面，從[消費者入門教學](getting-started-tutorial.md)課程步驟 how [To：建立狀態機器工作流程](how-to-create-a-state-machine-workflow.md)中，會顯示狀態機器工作流程，其中包含三個狀態和三個轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-112">The following screenshot, from the [Getting Started Tutorial](getting-started-tutorial.md) step [How to: Create a State Machine Workflow](how-to-create-a-state-machine-workflow.md), shows a state machine workflow with three states and three transitions.</span></span> <span data-ttu-id="c90b6-113">[**初始化目標**] 是初始狀態，代表工作流程中的第一個狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-113">**Initialize Target** is the initial state and represents the first state in the workflow.</span></span> <span data-ttu-id="c90b6-114">這是由從**開始**節點導向到它的那一行所指定。</span><span class="sxs-lookup"><span data-stu-id="c90b6-114">This is designated by the line leading to it from the **Start** node.</span></span> <span data-ttu-id="c90b6-115">工作流程中的最終狀態名為**FinalState**，代表工作流程的完成點。</span><span class="sxs-lookup"><span data-stu-id="c90b6-115">The final state in the workflow is named **FinalState**, and represents the point at which the workflow is completed.</span></span>  
  
 ![顯示已完成狀態機器工作流程的圖例。](./media/state-machine-workflows/complete-state-machine-workflow.jpg)  
  
 <span data-ttu-id="c90b6-117">狀態機器工作流程必須且只能有一個初始狀態，以及至少有一個最終狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-117">A state machine workflow must have one and only one initial state, and at least one final state.</span></span> <span data-ttu-id="c90b6-118">每個不是最終狀態的狀態都至少要有一個轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-118">Each state that is not a final state must have at least one transition.</span></span> <span data-ttu-id="c90b6-119">以下各節將說明建立和設定狀態及轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-119">The following sections cover creating and configuring states and transitions.</span></span>  
  
## <a name="creating-and-configuring-states"></a><span data-ttu-id="c90b6-120">建立和設定狀態</span><span class="sxs-lookup"><span data-stu-id="c90b6-120">Creating and Configuring States</span></span>  
 <span data-ttu-id="c90b6-121"><xref:System.Activities.Statements.State> 代表狀態機器可以具有的狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-121">A <xref:System.Activities.Statements.State> represents a state in which a state machine can be in.</span></span> <span data-ttu-id="c90b6-122">若要將加入 <xref:System.Activities.Statements.State> 至工作流程，請將 [ **state** ] 活動設計工具從 [**工具箱**] 的 [**狀態機器**] 區段拖放到 <xref:System.Activities.Statements.StateMachine> Windows 工作流程設計工具介面的活動上。</span><span class="sxs-lookup"><span data-stu-id="c90b6-122">To add a <xref:System.Activities.Statements.State> to a workflow, drag the **State** activity designer from the **State Machine** section of the **Toolbox** and drop it onto a <xref:System.Activities.Statements.StateMachine> activity on the Windows Workflow Designer surface.</span></span>  
  
 ![[工具箱] 的 [狀態機器] 區段的螢幕擷取畫面。](./media/state-machine-workflows/state-machine-section-toolbox.jpg)  
  
 <span data-ttu-id="c90b6-124">若要將狀態設定為**初始狀態**，請以滑鼠右鍵按一下狀態，然後選取 [**設定為初始狀態**]。</span><span class="sxs-lookup"><span data-stu-id="c90b6-124">To configure a state as the **Initial State**, right-click the state and select **Set as Initial State**.</span></span> <span data-ttu-id="c90b6-125">此外，如果沒有目前的初始狀態，則可以從工作流程頂端的 [**開始**] 節點將線條拖曳到想要的狀態，藉以指定初始狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-125">Additionally, if there is no current initial state, the initial state can be designated by dragging a line from the **Start** node at the top of the workflow to the desired state.</span></span> <span data-ttu-id="c90b6-126">將 <xref:System.Activities.Statements.StateMachine> 活動拖放到工作流程設計工具時，會預先設定一個名為**State1**的初始狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-126">When a <xref:System.Activities.Statements.StateMachine> activity is dropped onto the workflow designer, it is pre-configured with an initial state named **State1**.</span></span> <span data-ttu-id="c90b6-127">狀態機器工作流程必須且只能有一個初始狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-127">A state machine workflow must have one and only one initial state.</span></span>  
  
 <span data-ttu-id="c90b6-128">在狀態機器中代表終止狀態的狀態稱為最終狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-128">A state that represents a terminating state in a state machine is called a final state.</span></span> <span data-ttu-id="c90b6-129">最終狀態就是其 <xref:System.Activities.Statements.State.IsFinal%2A> 屬性設為 `true` 的狀態，沒有任何 <xref:System.Activities.Statements.State.Exit%2A> 活動，而且沒有源自於此的轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-129">A final state is a state that has its <xref:System.Activities.Statements.State.IsFinal%2A> property set to `true`, has no <xref:System.Activities.Statements.State.Exit%2A> activity, and no transitions originating from it.</span></span> <span data-ttu-id="c90b6-130">若要將最終狀態加入至工作流程，請將 [ **FinalState** ] 活動設計**工具**從 [工具箱] 的 [**狀態機器**] 區段拖放到 <xref:System.Activities.Statements.StateMachine> Windows 工作流程設計工具介面的活動上。</span><span class="sxs-lookup"><span data-stu-id="c90b6-130">To add a final state to a workflow, drag a **FinalState** activity designer from the **State Machine** section of the **Toolbox** and drop it onto a <xref:System.Activities.Statements.StateMachine> activity on the Windows Workflow Designer surface.</span></span> <span data-ttu-id="c90b6-131">狀態機器工作流程至少要有一個最終狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-131">A state machine workflow must have at least one final state.</span></span>  
  
### <a name="configuring-entry-and-exit-actions"></a><span data-ttu-id="c90b6-132">設定進入及結束動作</span><span class="sxs-lookup"><span data-stu-id="c90b6-132">Configuring Entry and Exit Actions</span></span>  
 <span data-ttu-id="c90b6-133">狀態可以有 <xref:System.Activities.Statements.State.Entry%2A> 和 <xref:System.Activities.Statements.State.Exit%2A> 動作。</span><span class="sxs-lookup"><span data-stu-id="c90b6-133">A state can have an <xref:System.Activities.Statements.State.Entry%2A> and an <xref:System.Activities.Statements.State.Exit%2A> action.</span></span> <span data-ttu-id="c90b6-134">(設定為最終狀態的狀態只能有一個進入動作)。</span><span class="sxs-lookup"><span data-stu-id="c90b6-134">(A state configured as a final state may have only an entry action).</span></span> <span data-ttu-id="c90b6-135">當工作流程執行個體進入狀態時，就會執行進入動作中的任何活動。</span><span class="sxs-lookup"><span data-stu-id="c90b6-135">When a workflow instance enters a state, any activities in the entry action execute.</span></span> <span data-ttu-id="c90b6-136">當 entry 動作完成時，就會排程狀態轉換的觸發程式。</span><span class="sxs-lookup"><span data-stu-id="c90b6-136">When the entry action is complete, the triggers for the state's transitions are scheduled.</span></span> <span data-ttu-id="c90b6-137">確認轉換成另一個狀態時，會執行結束狀態中的活動，即使該狀態重新轉換回相同狀態也一樣。</span><span class="sxs-lookup"><span data-stu-id="c90b6-137">When a transition to another state is confirmed, the activities in the exit action are executed, even if the state transitions back to the same state.</span></span> <span data-ttu-id="c90b6-138">結束動作完成之後，轉換動作中的活動會執行，然後新的狀態會轉換為，並排定其輸入動作。</span><span class="sxs-lookup"><span data-stu-id="c90b6-138">After the exit action completes, the activities in the transition's action execute, and then the new state is transitioned to, and its entry actions are scheduled.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="c90b6-139">在偵錯狀態機器工作流程時，可以將中斷點放置在根狀態機器活動以及狀態機器工作流程的狀態上。</span><span class="sxs-lookup"><span data-stu-id="c90b6-139">When debugging a state machine workflow, breakpoints can be placed on the root state machine activity and states within the state machine workflow.</span></span> <span data-ttu-id="c90b6-140">中斷點不能直接放在轉換上，但可以放在狀態及轉換中包含的任何活動上。</span><span class="sxs-lookup"><span data-stu-id="c90b6-140">Breakpoints may not be placed directly on the transitions, but they may be placed on any activities contained within the states and transitions.</span></span>  
  
## <a name="creating-and-configuring-transitions"></a><span data-ttu-id="c90b6-141">建立和設定轉換</span><span class="sxs-lookup"><span data-stu-id="c90b6-141">Creating and Configuring Transitions</span></span>  
 <span data-ttu-id="c90b6-142">所有狀態都必須至少有一個轉換，但最終狀態除外，這可能不會有任何轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-142">All states must have at least one transition, except for a final state, which may not have any transitions.</span></span> <span data-ttu-id="c90b6-143">可在將狀態加入到狀態機器工作流程之後再加入轉換，也可以在放置狀態時建立轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-143">Transitions may be added after a state is added to a state machine workflow, or they can be created as the state is dropped.</span></span>  
  
 <span data-ttu-id="c90b6-144">若要 <xref:System.Activities.Statements.State> 在一個步驟中加入並建立轉換，請從 [工具箱] 的 [**狀態機器**] 區段中，將 [ **state** ] 活動拖曳至工作流程設計**工具**中的另一個狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-144">To add a <xref:System.Activities.Statements.State> and create a transition in one step, drag a **State** activity from the **State Machine** section of the **Toolbox** and hover it over another state in the workflow designer.</span></span> <span data-ttu-id="c90b6-145">當被拖曳的 <xref:System.Activities.Statements.State> 位在另一個 <xref:System.Activities.Statements.State> 上方時，另一個 <xref:System.Activities.Statements.State> 周圍會出現四個三角形。</span><span class="sxs-lookup"><span data-stu-id="c90b6-145">When the dragged <xref:System.Activities.Statements.State> is over another <xref:System.Activities.Statements.State>, four triangles will appear around the other <xref:System.Activities.Statements.State>.</span></span> <span data-ttu-id="c90b6-146">如果將 <xref:System.Activities.Statements.State> 拖放到四個三角形的其中一個，就會將它加入到該狀態機器，並建立從來源 <xref:System.Activities.Statements.State> 到所放置之目的地 <xref:System.Activities.Statements.State> 的轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-146">If the <xref:System.Activities.Statements.State> is dropped onto one of the four triangles, it is added to the state machine and a transition is created from the source <xref:System.Activities.Statements.State> to the dropped destination <xref:System.Activities.Statements.State>.</span></span> <span data-ttu-id="c90b6-147">如需詳細資訊，請參閱[轉換活動設計](/visualstudio/workflow-designer/transition-activity-designer)工具。</span><span class="sxs-lookup"><span data-stu-id="c90b6-147">For more information, see [Transition Activity Designer](/visualstudio/workflow-designer/transition-activity-designer).</span></span>  
  
 <span data-ttu-id="c90b6-148">若要在加入狀態後建立轉換，有兩個選項。</span><span class="sxs-lookup"><span data-stu-id="c90b6-148">To create a transition after a state is added, there are two options.</span></span> <span data-ttu-id="c90b6-149">第一個選項是從工作流程設計工具介面拖曳狀態，將它移到現有狀態上方，然後在其中一個放置點上將它放下。</span><span class="sxs-lookup"><span data-stu-id="c90b6-149">The first option is to drag the state from the workflow designer surface and hover it over an existing state and drop it on one of the drop points.</span></span> <span data-ttu-id="c90b6-150">這類似上一節所述的方法。</span><span class="sxs-lookup"><span data-stu-id="c90b6-150">This is similar to the method described in the previous section.</span></span> <span data-ttu-id="c90b6-151">您也可以將滑鼠游標移到所需的來源狀態上方，然後將一條線拖曳至所需的目的地狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-151">You can also hover the mouse over the desired source state, and drag a line to the desired destination state.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="c90b6-152">狀態機器中的單一狀態最多可以有 76 個以工作流程設計工具來建立的轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-152">A single state in a state machine can have up to 76 transitions created using the workflow designer.</span></span> <span data-ttu-id="c90b6-153">針對在設計工具以外建立的工作流程，狀態的轉換數目上限僅受制於系統資源。</span><span class="sxs-lookup"><span data-stu-id="c90b6-153">The limit on transitions for a state for workflows created outside the designer is limited only by system resources.</span></span>  
  
 <span data-ttu-id="c90b6-154">轉換中可能會有 <xref:System.Activities.Statements.Transition.Trigger%2A>、<xref:System.Activities.Statements.Transition.Condition%2A> 和 <xref:System.Activities.Statements.Transition.Action%2A>。</span><span class="sxs-lookup"><span data-stu-id="c90b6-154">A transition may have a <xref:System.Activities.Statements.Transition.Trigger%2A>, a <xref:System.Activities.Statements.Transition.Condition%2A>, and an <xref:System.Activities.Statements.Transition.Action%2A>.</span></span> <span data-ttu-id="c90b6-155">轉換的 <xref:System.Activities.Statements.Transition.Trigger%2A> 來源狀態動作完成時，會排定其排程 <xref:System.Activities.Statements.State.Entry%2A> 。</span><span class="sxs-lookup"><span data-stu-id="c90b6-155">A transition's <xref:System.Activities.Statements.Transition.Trigger%2A> is scheduled when the transition's source state's <xref:System.Activities.Statements.State.Entry%2A> action is complete.</span></span> <span data-ttu-id="c90b6-156">通常 <xref:System.Activities.Statements.Transition.Trigger%2A> 是等候某事件類型發生的活動，但它可以是任何活動，也可以不是活動。</span><span class="sxs-lookup"><span data-stu-id="c90b6-156">Typically the <xref:System.Activities.Statements.Transition.Trigger%2A> is an activity that waits for some type of event to occur, but it can be any activity, or no activity at all.</span></span> <span data-ttu-id="c90b6-157"><xref:System.Activities.Statements.Transition.Trigger%2A>活動完成後，如有　<xref:System.Activities.Statements.Transition.Condition%2A> 存在，就會對其進行評估。</span><span class="sxs-lookup"><span data-stu-id="c90b6-157">Once the <xref:System.Activities.Statements.Transition.Trigger%2A> activity is complete, the <xref:System.Activities.Statements.Transition.Condition%2A>, if present, is evaluated.</span></span> <span data-ttu-id="c90b6-158">如果沒有任何 <xref:System.Activities.Statements.Transition.Trigger%2A> 活動，則 <xref:System.Activities.Statements.Transition.Condition%2A> 會立即評估。</span><span class="sxs-lookup"><span data-stu-id="c90b6-158">If there is no <xref:System.Activities.Statements.Transition.Trigger%2A> activity, then the <xref:System.Activities.Statements.Transition.Condition%2A> is immediately evaluated.</span></span> <span data-ttu-id="c90b6-159">如果條件評估為 `false` ，則轉換會取消，而 <xref:System.Activities.Statements.Transition.Trigger%2A> 所有來自狀態的轉換活動都會重新排定。</span><span class="sxs-lookup"><span data-stu-id="c90b6-159">If the condition evaluates to `false`, the transition is canceled, and the <xref:System.Activities.Statements.Transition.Trigger%2A> activity for all transitions from the state are rescheduled.</span></span> <span data-ttu-id="c90b6-160">如果有其他轉換與目前的轉換共用相同的來源狀態， <xref:System.Activities.Statements.Transition.Trigger%2A> 則也會取消這些動作並重新排程。</span><span class="sxs-lookup"><span data-stu-id="c90b6-160">If there are other transitions that share the same source state as the current transition, those <xref:System.Activities.Statements.Transition.Trigger%2A> actions are canceled and rescheduled as well.</span></span> <span data-ttu-id="c90b6-161">如果 <xref:System.Activities.Statements.Transition.Condition%2A> 評估為 `true`，或是沒有任何條件，則會執行來源狀態的 <xref:System.Activities.Statements.State.Exit%2A> 動作，然後執行轉換的 <xref:System.Activities.Statements.Transition.Action%2A>。</span><span class="sxs-lookup"><span data-stu-id="c90b6-161">If the <xref:System.Activities.Statements.Transition.Condition%2A> evaluates to `true`, or there is no condition, then the <xref:System.Activities.Statements.State.Exit%2A> action of the source state is executed, and then the <xref:System.Activities.Statements.Transition.Action%2A> of the transition is executed.</span></span> <span data-ttu-id="c90b6-162">完成時 <xref:System.Activities.Statements.Transition.Action%2A> ，控制權會傳遞至**目標**狀態</span><span class="sxs-lookup"><span data-stu-id="c90b6-162">When the <xref:System.Activities.Statements.Transition.Action%2A> completes, control passes to the **Target** state</span></span>  
  
 <span data-ttu-id="c90b6-163">共用相同觸發程序的轉換稱為共用觸發程序轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-163">Transitions that share a common trigger are known as shared trigger transitions.</span></span> <span data-ttu-id="c90b6-164">共用觸發程序轉換群組中的每個轉換都有相同的觸發程序，但各自擁有唯一的 <xref:System.Activities.Statements.Transition.Condition%2A> 和動作。</span><span class="sxs-lookup"><span data-stu-id="c90b6-164">Each transition in a group of shared trigger transitions has the same trigger, but a unique <xref:System.Activities.Statements.Transition.Condition%2A> and Action.</span></span> <span data-ttu-id="c90b6-165">若要將其他動作加入到轉換，並建立共用轉換，請按一下指出所要之轉換起始點的圓形，然後將它拖曳到所要的狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-165">To add additional actions to a transition and create a shared transition, click the circle that indicates the start of the desired transition and drag it to the desired state.</span></span> <span data-ttu-id="c90b6-166">新的轉換會與初始轉換共用相同的觸發程序，但擁有唯一的條件和動作。</span><span class="sxs-lookup"><span data-stu-id="c90b6-166">The new transition will share a same trigger as the initial transition, but it will have a unique condition and action.</span></span> <span data-ttu-id="c90b6-167">您也可以從轉換設計工具內建立共用轉換，方法是按一下轉換設計工具底部的 [**新增共用觸發程式轉換**]，然後從 [**可用的狀態]** 下拉式選單選取想要的目標狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-167">Shared transitions can also be created from within the transition designer by clicking **Add shared trigger transition** at the bottom of the transition designer, and then selecting the desired target state from the **Available states to connect** drop-down.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="c90b6-168">請注意，如果轉換的 <xref:System.Activities.Statements.Transition.Condition%2A> 值評估為 `False` (或所有共用觸發轉換的條件皆評估為 `False`)，則不會發生轉換，且會重新排程該狀態之所有轉換的所有觸發。</span><span class="sxs-lookup"><span data-stu-id="c90b6-168">Note that if the <xref:System.Activities.Statements.Transition.Condition%2A> of a transition evaluates to `False` (or all of the conditions of a shared trigger transition evaluate to `False`), the transition will not occur and all triggers for all the transitions from the state will be rescheduled.</span></span>  
  
 <span data-ttu-id="c90b6-169">如需建立狀態機器工作流程的詳細資訊，請參閱[如何：建立狀態機器工作流程](how-to-create-a-state-machine-workflow.md)、 [StateMachine 活動設計](/visualstudio/workflow-designer/statemachine-activity-designer)工具、[狀態活動設計](/visualstudio/workflow-designer/state-activity-designer)工具、 [FinalState 活動設計](/visualstudio/workflow-designer/finalstate-activity-designer)工具和[轉換活動設計](/visualstudio/workflow-designer/transition-activity-designer)工具。</span><span class="sxs-lookup"><span data-stu-id="c90b6-169">For more information on creating state machine workflows, see [How to: Create a State Machine Workflow](how-to-create-a-state-machine-workflow.md), [StateMachine Activity Designer](/visualstudio/workflow-designer/statemachine-activity-designer), [State Activity Designer](/visualstudio/workflow-designer/state-activity-designer), [FinalState Activity Designer](/visualstudio/workflow-designer/finalstate-activity-designer), and [Transition Activity Designer](/visualstudio/workflow-designer/transition-activity-designer).</span></span>  
  
## <a name="state-machine-terminology"></a><span data-ttu-id="c90b6-170">狀態機器術語</span><span class="sxs-lookup"><span data-stu-id="c90b6-170">State Machine Terminology</span></span>  
 <span data-ttu-id="c90b6-171">本節定義在本主題中使用的狀態機器詞彙。</span><span class="sxs-lookup"><span data-stu-id="c90b6-171">This section defines the state machine vocabulary used throughout this topic.</span></span>  
  
 <span data-ttu-id="c90b6-172">州</span><span class="sxs-lookup"><span data-stu-id="c90b6-172">State</span></span>  
 <span data-ttu-id="c90b6-173">組成狀態機器的基本單位。</span><span class="sxs-lookup"><span data-stu-id="c90b6-173">The basic unit that composes a state machine.</span></span> <span data-ttu-id="c90b6-174">狀態機器可在任何特定時間進入一種狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-174">A state machine can be in one state at any particular time.</span></span>  
  
 <span data-ttu-id="c90b6-175">進入動作</span><span class="sxs-lookup"><span data-stu-id="c90b6-175">Entry Action</span></span>  
 <span data-ttu-id="c90b6-176">進入狀態時所執行的動作</span><span class="sxs-lookup"><span data-stu-id="c90b6-176">An activity executed when entering the state</span></span>  
  
 <span data-ttu-id="c90b6-177">結束動作</span><span class="sxs-lookup"><span data-stu-id="c90b6-177">Exit Action</span></span>  
 <span data-ttu-id="c90b6-178">結束狀態時所執行的動作</span><span class="sxs-lookup"><span data-stu-id="c90b6-178">An activity executed when exiting the state</span></span>  
  
 <span data-ttu-id="c90b6-179">轉換</span><span class="sxs-lookup"><span data-stu-id="c90b6-179">Transition</span></span>  
 <span data-ttu-id="c90b6-180">兩個狀態之間的有向關聯性，代表狀態機器在特定類型的事件發生時的完整回應。</span><span class="sxs-lookup"><span data-stu-id="c90b6-180">A directed relationship between two states that represents the complete response of a state machine to an occurrence of an event of a particular type.</span></span>  
  
 <span data-ttu-id="c90b6-181">共用轉換</span><span class="sxs-lookup"><span data-stu-id="c90b6-181">Shared Transition</span></span>  
 <span data-ttu-id="c90b6-182">與一個或多個轉換共用來源狀態及觸發程序的轉換，但每個轉換各有其唯一的條件和動作。</span><span class="sxs-lookup"><span data-stu-id="c90b6-182">A transition that shares a source state and trigger with one or more transitions, but has a unique condition and action.</span></span>  
  
 <span data-ttu-id="c90b6-183">觸發程序</span><span class="sxs-lookup"><span data-stu-id="c90b6-183">Trigger</span></span>  
 <span data-ttu-id="c90b6-184">會導致轉換發生的觸發活動。</span><span class="sxs-lookup"><span data-stu-id="c90b6-184">A triggering activity that causes a transition to occur.</span></span>  
  
 <span data-ttu-id="c90b6-185">狀況</span><span class="sxs-lookup"><span data-stu-id="c90b6-185">Condition</span></span>  
 <span data-ttu-id="c90b6-186">在觸發程式發生之後，必須評估為的條件約束，才能 `true` 完成轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-186">A constraint that must evaluate to `true` after the trigger occurs in order for the transition to complete.</span></span>  
  
 <span data-ttu-id="c90b6-187">轉換動作</span><span class="sxs-lookup"><span data-stu-id="c90b6-187">Transition Action</span></span>  
 <span data-ttu-id="c90b6-188">執行特定轉換時所執行的活動。</span><span class="sxs-lookup"><span data-stu-id="c90b6-188">An activity that is executed when performing a certain transition.</span></span>  
  
 <span data-ttu-id="c90b6-189">條件轉換</span><span class="sxs-lookup"><span data-stu-id="c90b6-189">Conditional Transition</span></span>  
 <span data-ttu-id="c90b6-190">有明確條件的轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-190">A transition with an explicit condition.</span></span>  
  
 <span data-ttu-id="c90b6-191">自行轉換</span><span class="sxs-lookup"><span data-stu-id="c90b6-191">Self-transition</span></span>  
 <span data-ttu-id="c90b6-192">從狀態傳輸至其本身的轉換。</span><span class="sxs-lookup"><span data-stu-id="c90b6-192">A transition that transits from a state to itself.</span></span>  
  
 <span data-ttu-id="c90b6-193">初始狀態</span><span class="sxs-lookup"><span data-stu-id="c90b6-193">Initial State</span></span>  
 <span data-ttu-id="c90b6-194">表示狀態機器之起始點的狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-194">A state that represents the starting point of the state machine.</span></span>  
  
 <span data-ttu-id="c90b6-195">最終狀態</span><span class="sxs-lookup"><span data-stu-id="c90b6-195">Final State</span></span>  
 <span data-ttu-id="c90b6-196">表示狀態機器完成的狀態。</span><span class="sxs-lookup"><span data-stu-id="c90b6-196">A state that represents the completion of the state machine.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c90b6-197">另請參閱</span><span class="sxs-lookup"><span data-stu-id="c90b6-197">See also</span></span>

- [<span data-ttu-id="c90b6-198">如何：建立狀態機器工作流程</span><span class="sxs-lookup"><span data-stu-id="c90b6-198">How to: Create a State Machine Workflow</span></span>](how-to-create-a-state-machine-workflow.md)
- [<span data-ttu-id="c90b6-199">StateMachine 活動設計工具</span><span class="sxs-lookup"><span data-stu-id="c90b6-199">StateMachine Activity Designer</span></span>](/visualstudio/workflow-designer/statemachine-activity-designer)
- [<span data-ttu-id="c90b6-200">狀態活動設計工具</span><span class="sxs-lookup"><span data-stu-id="c90b6-200">State Activity Designer</span></span>](/visualstudio/workflow-designer/state-activity-designer)
- [<span data-ttu-id="c90b6-201">FinalState 活動設計工具</span><span class="sxs-lookup"><span data-stu-id="c90b6-201">FinalState Activity Designer</span></span>](/visualstudio/workflow-designer/finalstate-activity-designer)
- [<span data-ttu-id="c90b6-202">轉換活動設計工具</span><span class="sxs-lookup"><span data-stu-id="c90b6-202">Transition Activity Designer</span></span>](/visualstudio/workflow-designer/transition-activity-designer)
