---
title: 相依性屬性概觀
description: 受到 WPF 屬性系統支援的屬性則稱為相依性屬性。 本概觀描述 WPF 屬性系統和相依性屬性的功能。
ms.date: 06/06/2018
dev_langs:
- csharp
- vb
helpviewer_keywords:
- properties [WPF], attached
- properties [WPF], overview
- styles [WPF]
- attached properties [WPF]
- data binding [WPF]
- dependency properties [WPF]
- resources [WPF], references to
ms.assetid: d119d00c-3afb-48d6-87a0-c4da4f83dee5
ms.openlocfilehash: 9a911b99b4543ae7957b685df06b4d85f13c7790
ms.sourcegitcommit: c76c8b2c39ed2f0eee422b61a2ab4c05ca7771fa
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/21/2020
ms.locfileid: "83762223"
---
# <a name="dependency-properties-overview"></a><span data-ttu-id="011bf-104">相依性屬性概觀</span><span class="sxs-lookup"><span data-stu-id="011bf-104">Dependency properties overview</span></span>

<span data-ttu-id="011bf-105">Windows Presentation Foundation (WPF) 提供一組可用來擴充類型的[屬性](../../../standard/base-types/common-type-system.md#properties)功能之服務。</span><span class="sxs-lookup"><span data-stu-id="011bf-105">Windows Presentation Foundation (WPF) provides a set of services that can be used to extend the functionality of a type's [property](../../../standard/base-types/common-type-system.md#properties).</span></span> <span data-ttu-id="011bf-106">整體而言，這些服務通常稱為 WPF 屬性系統。</span><span class="sxs-lookup"><span data-stu-id="011bf-106">Collectively, these services are typically referred to as the WPF property system.</span></span> <span data-ttu-id="011bf-107">受到 WPF 屬性系統支援的屬性則稱為相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-107">A property that is backed by the WPF property system is known as a dependency property.</span></span> <span data-ttu-id="011bf-108">本概觀描述 WPF 屬性系統和相依性屬性的功能。</span><span class="sxs-lookup"><span data-stu-id="011bf-108">This overview describes the WPF property system and the capabilities of a dependency property.</span></span> <span data-ttu-id="011bf-109">這包括如何在 XAML 和程式碼中使用現有的相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-109">This includes how to use existing dependency properties in XAML and in code.</span></span> <span data-ttu-id="011bf-110">本概觀也介紹相依性屬性的特製化層面，例如相依性屬性中繼資料，以及如何在自訂類別中建立您自己的相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-110">This overview also introduces specialized aspects of dependency properties, such as dependency property metadata, and how to create your own dependency property in a custom class.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="011bf-111">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="011bf-111">Prerequisites</span></span>
<span data-ttu-id="011bf-112">本主題假設您對 NET 類型系統和物件導向程式設計有基本的認識。</span><span class="sxs-lookup"><span data-stu-id="011bf-112">This topic assumes that you have some basic knowledge of the .NET type system and object-oriented programming.</span></span> <span data-ttu-id="011bf-113">為了遵循本主題中的範例，您也應該了解 XAML 並知道如何撰寫 WPF 應用程式。</span><span class="sxs-lookup"><span data-stu-id="011bf-113">In order to follow the examples in this topic, you should also understand XAML and know how to write WPF applications.</span></span> <span data-ttu-id="011bf-114">如需詳細資訊，請參閱[逐步解說︰我的第一個 WPF 桌面應用程式](../getting-started/walkthrough-my-first-wpf-desktop-application.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-114">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span></span>  
  
## <a name="dependency-properties-and-clr-properties"></a><span data-ttu-id="011bf-115">相依性屬性與 CLR 屬性</span><span class="sxs-lookup"><span data-stu-id="011bf-115">Dependency properties and CLR properties</span></span>
 <span data-ttu-id="011bf-116">在 WPF 中，屬性通常會公開為標準 .NET [屬性](../../../standard/base-types/common-type-system.md#properties)。</span><span class="sxs-lookup"><span data-stu-id="011bf-116">In WPF, properties are typically exposed as standard .NET [properties](../../../standard/base-types/common-type-system.md#properties).</span></span> <span data-ttu-id="011bf-117">在基本層級，您可以和這些屬性直接互動，永遠不知道它們會實作為相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-117">At a basic level, you could interact with these properties directly and never know that they are implemented as a dependency property.</span></span> <span data-ttu-id="011bf-118">但您應該要熟悉 WPF 屬性系統的部分或全部功能，以便可以利用這些功能。</span><span class="sxs-lookup"><span data-stu-id="011bf-118">However, you should become familiar with some or all of the features of the WPF property system, so that you can take advantage of these features.</span></span>

<span data-ttu-id="011bf-119">相依性屬性的目的是提供一個方式，根據其他輸入的值來計算屬性值。</span><span class="sxs-lookup"><span data-stu-id="011bf-119">The purpose of dependency properties is to provide a way to compute the value of a property based on the value of other inputs.</span></span> <span data-ttu-id="011bf-120">這些其他輸入可能包含系統屬性 (例如佈景主題和使用者喜好設定)、Just-In-Time 屬性決策機制 (例如資料繫結和動畫/腳本)、多用途的範本 (例如資源和樣式)，或者透過父子關聯性與項目樹狀結構中的其他項目知道的值。</span><span class="sxs-lookup"><span data-stu-id="011bf-120">These other inputs might include system properties such as themes and user preference, just-in-time property determination mechanisms such as data binding and animations/storyboards, multiple-use templates such as resources and styles, or values known through parent-child relationships with other elements in the element tree.</span></span> <span data-ttu-id="011bf-121">此外，您也可以實作相依性屬性，提供獨立的驗證、預設值、監視其他屬性變更的回撥，以及可根據潛在執行階段資訊強制轉型屬性值的系統。</span><span class="sxs-lookup"><span data-stu-id="011bf-121">In addition, a dependency property can be implemented to provide self-contained validation, default values, callbacks that monitor changes to other properties, and a system that can coerce property values based on potentially runtime information.</span></span> <span data-ttu-id="011bf-122">衍生的類別也可以透過覆寫相依性屬性中繼資料，而不是覆寫現有屬性的實際實作或建立新屬性，來變更現有屬性的某些特定特性。</span><span class="sxs-lookup"><span data-stu-id="011bf-122">Derived classes can also change some specific characteristics of an existing property by overriding dependency property metadata, rather than overriding the actual implementation of existing properties or creating new properties.</span></span>

<span data-ttu-id="011bf-123">在 SDK 參考中，您可以在該屬性 Managed 參考頁面出現相依性屬性資訊區段時，識別哪個屬性是相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-123">In the SDK reference, you can identify which property is a dependency property by the presence of the Dependency Property Information section on the managed reference page for that property.</span></span> <span data-ttu-id="011bf-124">相依性屬性資訊區段包含該相依性屬性的 <xref:System.Windows.DependencyProperty> 識別碼欄位連結，也包含為該屬性、依類別層級覆寫資訊及其他詳細資料設定的中繼資料選項清單。</span><span class="sxs-lookup"><span data-stu-id="011bf-124">The Dependency Property Information section includes a link to the <xref:System.Windows.DependencyProperty> identifier field for that dependency property, and also includes a list of the metadata options that are set for that property, per-class override information, and other details.</span></span>

## <a name="dependency-properties-back-clr-properties"></a><span data-ttu-id="011bf-125">相依性屬性支援 CLR 屬性</span><span class="sxs-lookup"><span data-stu-id="011bf-125">Dependency properties back CLR properties</span></span>
<span data-ttu-id="011bf-126">相依性屬性和 WPF 屬性系統透過提供支援屬性的類型來擴充屬性功能，作為支援有私用欄位屬性之標準模式的替代實作。</span><span class="sxs-lookup"><span data-stu-id="011bf-126">Dependency properties and the WPF property system extend property functionality by providing a type that backs a property, as an alternative implementation to the standard pattern of backing the property with a private field.</span></span> <span data-ttu-id="011bf-127">這個類型的名稱為 <xref:System.Windows.DependencyProperty>。</span><span class="sxs-lookup"><span data-stu-id="011bf-127">The name of this type is <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="011bf-128">另一個定義 WPF 屬性系統的重要類型為 <xref:System.Windows.DependencyObject>。</span><span class="sxs-lookup"><span data-stu-id="011bf-128">The other important type that defines the WPF property system is <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="011bf-129"><xref:System.Windows.DependencyObject> 定義可以登錄並擁有相依性屬性的基底類別。</span><span class="sxs-lookup"><span data-stu-id="011bf-129"><xref:System.Windows.DependencyObject> defines the base class that can register and own a dependency property.</span></span>

<span data-ttu-id="011bf-130">以下列出與相依性屬性搭配使用的術語：</span><span class="sxs-lookup"><span data-stu-id="011bf-130">The following lists the terminology that is used with dependency properties:</span></span>

- <span data-ttu-id="011bf-131">**相依性屬性：** 由 <xref:System.Windows.DependencyProperty> 支援的屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-131">**Dependency property:** A property that is backed by a <xref:System.Windows.DependencyProperty>.</span></span>

- <span data-ttu-id="011bf-132">**相依性屬性識別碼︰** 是一個 <xref:System.Windows.DependencyProperty> 執行個體，在登錄相依性屬性時當成傳回值取得，然後儲存為類別的靜態成員。</span><span class="sxs-lookup"><span data-stu-id="011bf-132">**Dependency property identifier:** A <xref:System.Windows.DependencyProperty> instance, which is obtained as a return value when registering a dependency property, and then stored as a static member of a class.</span></span> <span data-ttu-id="011bf-133">此識別碼用為與 WPF 屬性系統互動的多個 API 參數。</span><span class="sxs-lookup"><span data-stu-id="011bf-133">This identifier is used as a parameter for many of the APIs that interact with the WPF property system.</span></span>

- <span data-ttu-id="011bf-134">**CLR「包裝函式」：** 實際取得及設定屬性的實作。</span><span class="sxs-lookup"><span data-stu-id="011bf-134">**CLR "wrapper":** The actual get and set implementations for the property.</span></span> <span data-ttu-id="011bf-135">這些實作透過在 <xref:System.Windows.DependencyObject.GetValue%2A> 和 <xref:System.Windows.DependencyObject.SetValue%2A> 呼叫中使用相依性屬性識別碼，為使用 WPF 屬性系統的屬性提供支援。</span><span class="sxs-lookup"><span data-stu-id="011bf-135">These implementations incorporate the dependency property identifier by using it in the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> calls, thus providing the backing for the property using the WPF property system.</span></span>

<span data-ttu-id="011bf-136">下例定義 `IsSpinning` 相依性屬性，並向其支援的屬性顯示 <xref:System.Windows.DependencyProperty> 識別碼關聯性。</span><span class="sxs-lookup"><span data-stu-id="011bf-136">The following example defines the `IsSpinning` dependency property, and shows the relationship of the <xref:System.Windows.DependencyProperty> identifier to the property that it backs.</span></span>

[!code-csharp[PropertiesOvwSupport#DPFormBasic](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)]
[!code-vb[PropertiesOvwSupport#DPFormBasic](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)]  
  
<span data-ttu-id="011bf-137">屬性的命名慣例及其支援的 <xref:System.Windows.DependencyProperty> 欄位很重要。</span><span class="sxs-lookup"><span data-stu-id="011bf-137">The naming convention of the property and its backing <xref:System.Windows.DependencyProperty> field is important.</span></span> <span data-ttu-id="011bf-138">欄位名稱一律是屬性名稱，後綴尾碼 `Property`。</span><span class="sxs-lookup"><span data-stu-id="011bf-138">The name of the field is always the name of the property, with the suffix `Property` appended.</span></span> <span data-ttu-id="011bf-139">如需此慣例及其原因的詳細資訊，請參閱[自訂相依性屬性](custom-dependency-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-139">For more information about this convention and the reasons for it, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>  

## <a name="setting-property-values"></a><span data-ttu-id="011bf-140">設定屬性值</span><span class="sxs-lookup"><span data-stu-id="011bf-140">Setting property values</span></span>
<span data-ttu-id="011bf-141">您可以在程式碼或 XAML 中設定屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-141">You can set properties either in code or in XAML.</span></span>

### <a name="setting-property-values-in-xaml"></a><span data-ttu-id="011bf-142">在 XAML 中設定屬性值</span><span class="sxs-lookup"><span data-stu-id="011bf-142">Setting property values in XAML</span></span>
<span data-ttu-id="011bf-143">下列 XAML 範例將按鈕的背景色彩指定為紅色。</span><span class="sxs-lookup"><span data-stu-id="011bf-143">The following XAML example specifies the background color of a button as red.</span></span> <span data-ttu-id="011bf-144">本範例示範 XAML 屬性的簡單字串值，它的類型由 WPF XAML 剖析器在產生的程式碼中轉換成 WPF 類型 (<xref:System.Windows.Media.Color>，透過 <xref:System.Windows.Media.SolidColorBrush>)。</span><span class="sxs-lookup"><span data-stu-id="011bf-144">This example illustrates a case where the simple string value for a XAML attribute is type-converted by the WPF XAML parser into a WPF type (a <xref:System.Windows.Media.Color>, by way of a <xref:System.Windows.Media.SolidColorBrush>) in the generated code.</span></span>

[!code-xaml[PropertiesOvwSupport#MostBasicProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#mostbasicproperty)]

<span data-ttu-id="011bf-145">XAML 支援各種設定屬性的語法形式。</span><span class="sxs-lookup"><span data-stu-id="011bf-145">XAML supports a variety of syntax forms for setting properties.</span></span> <span data-ttu-id="011bf-146">特定屬性要使用哪種語法，取決於屬性使用的實值型別以及其他因素，例如有無類型轉換器。</span><span class="sxs-lookup"><span data-stu-id="011bf-146">Which syntax to use for a particular property will depend on the value type that a property uses, as well as other factors such as the presence of a type converter.</span></span> <span data-ttu-id="011bf-147">如需屬性設定之 XAML 語法的詳細資訊，請參閱 [XAML 概觀 (WPF)](../../../desktop-wpf/fundamentals/xaml.md) 和 [XAML 語法詳細資料](xaml-syntax-in-detail.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-147">For more information on XAML syntax for property setting, see [XAML Overview (WPF)](../../../desktop-wpf/fundamentals/xaml.md) and [XAML Syntax In Detail](xaml-syntax-in-detail.md).</span></span>

<span data-ttu-id="011bf-148">下列 XAML 範例為非屬性語法的範例，示範另一個按鈕的背景。</span><span class="sxs-lookup"><span data-stu-id="011bf-148">As an example of non-attribute syntax, the following XAML example shows another button background.</span></span> <span data-ttu-id="011bf-149">這一次不是設定簡單的純色，而是將背景設定為映像，將表示該映像和該映像來源的項目指定為巢狀項目的屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-149">This time rather than setting a simple solid color, the background is set to an image, with an element representing that image and the source of that image specified as an attribute of the nested element.</span></span> <span data-ttu-id="011bf-150">這是屬性項目語法的範例。</span><span class="sxs-lookup"><span data-stu-id="011bf-150">This is an example of property element syntax.</span></span>

[!code-xaml[PropertiesOvwSupport#PESyntaxProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#pesyntaxproperty)]

### <a name="setting-properties-in-code"></a><span data-ttu-id="011bf-151">在程式碼中設定屬性</span><span class="sxs-lookup"><span data-stu-id="011bf-151">Setting properties in code</span></span>
 <span data-ttu-id="011bf-152">在程式碼中設定相依性屬性值，通常只是呼叫 CLR "包裝函式所公開的集合實。</span><span class="sxs-lookup"><span data-stu-id="011bf-152">Setting dependency property values in code is typically just a call to the set implementation exposed by the CLR "wrapper".</span></span>

[!code-csharp[PropertiesOvwSupport#ProceduralPropertySet](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyset)]
[!code-vb[PropertiesOvwSupport#ProceduralPropertySet](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyset)]

<span data-ttu-id="011bf-153">取得屬性值，基本上也就是呼叫 get「包裝函式」實作︰</span><span class="sxs-lookup"><span data-stu-id="011bf-153">Getting a property value is also essentially a call to the get "wrapper" implementation:</span></span>

[!code-csharp[PropertiesOvwSupport#ProceduralPropertyGet](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyget)]
 [!code-vb[PropertiesOvwSupport#ProceduralPropertyGet](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyget)]

<span data-ttu-id="011bf-154">您也可以直接呼叫屬性系統 Api <xref:System.Windows.DependencyObject.GetValue%2A> 和 <xref:System.Windows.DependencyObject.SetValue%2A> 。</span><span class="sxs-lookup"><span data-stu-id="011bf-154">You can also call the property system APIs <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly.</span></span> <span data-ttu-id="011bf-155">如果您使用現有的屬性（包裝函式更方便，並為開發人員工具提供更好的屬性公開），則通常不需要這麼做，但在某些情況下，直接呼叫 Api 是適當的。</span><span class="sxs-lookup"><span data-stu-id="011bf-155">This is not typically necessary if you are using existing properties (the wrappers are more convenient, and provide better exposure of the property for developer tools), but calling the APIs directly is appropriate for certain scenarios.</span></span>

<span data-ttu-id="011bf-156">屬性也可以在 XAML 中設定，稍後再於程式碼中透過程式碼後置存取。</span><span class="sxs-lookup"><span data-stu-id="011bf-156">Properties can be also set in XAML and then accessed later in code, through code-behind.</span></span> <span data-ttu-id="011bf-157">如需詳細資訊，請參閱 [WPF 中的程式碼後置和 XAML](code-behind-and-xaml-in-wpf.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-157">For details, see [Code-Behind and XAML in WPF](code-behind-and-xaml-in-wpf.md).</span></span>

## <a name="property-functionality-provided-by-a-dependency-property"></a><span data-ttu-id="011bf-158">相依性屬性提供的屬性功能</span><span class="sxs-lookup"><span data-stu-id="011bf-158">Property functionality provided by a dependency property</span></span>
<span data-ttu-id="011bf-159">相對於欄位支援屬性，相依性屬性提供能擴充屬性功能的功能。</span><span class="sxs-lookup"><span data-stu-id="011bf-159">A dependency property provides functionality that extends the functionality of a property as opposed to a property that is backed by a field.</span></span> <span data-ttu-id="011bf-160">通常，這類功能代表或支援下列特定功能其中之一：</span><span class="sxs-lookup"><span data-stu-id="011bf-160">Often, such functionality represents or supports one of the following specific features:</span></span>

- [<span data-ttu-id="011bf-161">資源</span><span class="sxs-lookup"><span data-stu-id="011bf-161">Resources</span></span>](#resources)

- [<span data-ttu-id="011bf-162">資料繫結</span><span class="sxs-lookup"><span data-stu-id="011bf-162">Data binding</span></span>](#data-binding)

- [<span data-ttu-id="011bf-163">樣式</span><span class="sxs-lookup"><span data-stu-id="011bf-163">Styles</span></span>](#styles)

- [<span data-ttu-id="011bf-164">動畫</span><span class="sxs-lookup"><span data-stu-id="011bf-164">Animations</span></span>](#animations)

- [<span data-ttu-id="011bf-165">中繼資料覆寫</span><span class="sxs-lookup"><span data-stu-id="011bf-165">Metadata overrides</span></span>](#metadata-overrides)

- [<span data-ttu-id="011bf-166">屬性值繼承</span><span class="sxs-lookup"><span data-stu-id="011bf-166">Property value inheritance</span></span>](#property-value-inheritance)

- [<span data-ttu-id="011bf-167">WPF 設計工具整合</span><span class="sxs-lookup"><span data-stu-id="011bf-167">WPF Designer integration</span></span>](#wpf-designer-integration)

### <a name="resources"></a><span data-ttu-id="011bf-168">資源</span><span class="sxs-lookup"><span data-stu-id="011bf-168">Resources</span></span>
<span data-ttu-id="011bf-169">您可以參考資源來設定相依性屬性值。</span><span class="sxs-lookup"><span data-stu-id="011bf-169">A dependency property value can be set by referencing a resource.</span></span> <span data-ttu-id="011bf-170">資源通常指定為 `Resources` 頁面根項目或應用程式的屬性值 (這些位置最方便存取資源)。</span><span class="sxs-lookup"><span data-stu-id="011bf-170">Resources are typically specified as the `Resources` property value of a page root element, or of the application (these locations enable the most convenient access to the resource).</span></span> <span data-ttu-id="011bf-171">下例示範如何定義 <xref:System.Windows.Media.SolidColorBrush> 資源。</span><span class="sxs-lookup"><span data-stu-id="011bf-171">The following example shows how to define a <xref:System.Windows.Media.SolidColorBrush> resource.</span></span>

[!code-xaml[PropertiesOvwSupport#ResourcesResource](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesresource)]

<span data-ttu-id="011bf-172">定義資源之後，您即可參考資源並用它提供屬性值︰</span><span class="sxs-lookup"><span data-stu-id="011bf-172">Once the resource is defined, you can reference the resource and use it to provide a property value:</span></span>

[!code-xaml[PropertiesOvwSupport#ResourcesReference](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesreference)]

<span data-ttu-id="011bf-173">這個特定的資源稱之為 [DynamicResource 標記延伸](dynamicresource-markup-extension.md) (在 WPF XAML 中，您可以使用靜態或動態資源參考)。</span><span class="sxs-lookup"><span data-stu-id="011bf-173">This particular resource is referenced as a [DynamicResource Markup Extension](dynamicresource-markup-extension.md) (in WPF XAML, you can use either a static or dynamic resource reference).</span></span> <span data-ttu-id="011bf-174">若要使用動態資源參考，您必須設定相依性屬性，因此它是由 WPF 屬性系統啟用的專門動態資源參考使用。</span><span class="sxs-lookup"><span data-stu-id="011bf-174">To use a dynamic resource reference, you must be setting to a dependency property, so it is specifically the dynamic resource reference usage that is enabled by the WPF property system.</span></span> <span data-ttu-id="011bf-175">如需詳細資訊，請參閱 [XAML 資源](../../../desktop-wpf/fundamentals/xaml-resources-define.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-175">For more information, see [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span>

> [!NOTE]
> <span data-ttu-id="011bf-176">資源視為區域數值，這表示如果您設定另一個區域數值，就會排除資源參考。</span><span class="sxs-lookup"><span data-stu-id="011bf-176">Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference.</span></span> <span data-ttu-id="011bf-177">如需詳細資訊，請參閱[相依性屬性值優先順序](dependency-property-value-precedence.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-177">For more information, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

### <a name="data-binding"></a><span data-ttu-id="011bf-178">資料繫結</span><span class="sxs-lookup"><span data-stu-id="011bf-178">Data binding</span></span>
<span data-ttu-id="011bf-179">相依性屬性可以透過資料繫結參考值。</span><span class="sxs-lookup"><span data-stu-id="011bf-179">A dependency property can reference a value through data binding.</span></span> <span data-ttu-id="011bf-180">資料繫結的運作是透過 XAML 中的特定標記延伸語法，或程式碼中的 <xref:System.Windows.Data.Binding> 物件。</span><span class="sxs-lookup"><span data-stu-id="011bf-180">Data binding works through a specific markup extension syntax in XAML, or the <xref:System.Windows.Data.Binding> object in code.</span></span> <span data-ttu-id="011bf-181">使用資料繫結，最後一個屬性值決定會延後到執行階段，此時已自資料來源取得值。</span><span class="sxs-lookup"><span data-stu-id="011bf-181">With data binding, the final property value determination is deferred until run time, at which time the value is obtained from a data source.</span></span>

<span data-ttu-id="011bf-182">下列範例會使用在 XAML 中宣告的繫結來設定 <xref:System.Windows.Controls.Button> 的 <xref:System.Windows.Controls.ContentControl.Content%2A> 屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-182">The following example sets the <xref:System.Windows.Controls.ContentControl.Content%2A> property for a <xref:System.Windows.Controls.Button>, using a binding declared in XAML.</span></span> <span data-ttu-id="011bf-183">繫結使用繼承的資料內容和 <xref:System.Windows.Data.XmlDataProvider> 資料來源 (未顯示)。</span><span class="sxs-lookup"><span data-stu-id="011bf-183">The binding uses an inherited data context and an <xref:System.Windows.Data.XmlDataProvider> data source (not shown).</span></span> <span data-ttu-id="011bf-184">繫結本身會指定資料來源內 <xref:System.Windows.Data.Binding.XPath%2A> 所需的來源屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-184">The binding itself specifies the desired source property by <xref:System.Windows.Data.Binding.XPath%2A> within the data source.</span></span>

[!code-xaml[PropertiesOvwSupport#BasicInlineBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#basicinlinebinding)]

> [!NOTE]
> <span data-ttu-id="011bf-185">繫結視為區域數值，這表示如果您設定另一個區域數值，就會排除繫結。</span><span class="sxs-lookup"><span data-stu-id="011bf-185">Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding.</span></span> <span data-ttu-id="011bf-186">如需詳細資訊，請參閱[相依性屬性值優先順序](dependency-property-value-precedence.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-186">For details, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

<span data-ttu-id="011bf-187">為了產生資料繫結作業的 <xref:System.Windows.DependencyObject> 來源屬性值中變更之通知，相依性屬性或 <xref:System.Windows.DependencyObject> 類別並不原生支援 <xref:System.ComponentModel.INotifyPropertyChanged>。</span><span class="sxs-lookup"><span data-stu-id="011bf-187">Dependency properties, or the <xref:System.Windows.DependencyObject> class, do not natively support <xref:System.ComponentModel.INotifyPropertyChanged> for purposes of producing notifications of changes in <xref:System.Windows.DependencyObject> source property value for data binding operations.</span></span> <span data-ttu-id="011bf-188">如需如何建立資料繫結所用屬性的詳細資訊，該資料繫結可以報告資料繫結目標的變更，請參閱[資料繫結概觀](../../../desktop-wpf/data/data-binding-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-188">For more information on how to create properties for use in data binding that can report changes to a data binding target, see [Data Binding Overview](../../../desktop-wpf/data/data-binding-overview.md).</span></span>

### <a name="styles"></a><span data-ttu-id="011bf-189">樣式</span><span class="sxs-lookup"><span data-stu-id="011bf-189">Styles</span></span>
<span data-ttu-id="011bf-190">樣式和範本是使用相依性屬性的兩大激勵案例。</span><span class="sxs-lookup"><span data-stu-id="011bf-190">Styles and templates are two of the chief motivating scenarios for using dependency properties.</span></span> <span data-ttu-id="011bf-191">樣式特別適用於設定定義應用程式 [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] 的屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-191">Styles are particularly useful for setting properties that define application [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="011bf-192">樣式通常會定義為 XAML 中的資源。</span><span class="sxs-lookup"><span data-stu-id="011bf-192">Styles are typically defined as resources in XAML.</span></span> <span data-ttu-id="011bf-193">樣式與屬性系統互動，因為它們通常包含特定屬性的 "setter"，以及根據另一個屬性的即時值變更屬性值的「觸發程序」。</span><span class="sxs-lookup"><span data-stu-id="011bf-193">Styles interact with the property system because they typically contain "setters" for particular properties, as well as "triggers" that change a property value based on the real-time value for another property.</span></span>

<span data-ttu-id="011bf-194">下列範例會建立簡單的樣式（這會定義在字典中 <xref:System.Windows.FrameworkElement.Resources%2A> ，而不會顯示），然後將該樣式直接套用至的 <xref:System.Windows.FrameworkElement.Style%2A> 屬性 <xref:System.Windows.Controls.Button> 。</span><span class="sxs-lookup"><span data-stu-id="011bf-194">The following example creates a simple style (which would be defined inside a <xref:System.Windows.FrameworkElement.Resources%2A> dictionary, not shown), then applies that style directly to the <xref:System.Windows.FrameworkElement.Style%2A> property for a <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="011bf-195">樣式中的 setter 會將樣式 <xref:System.Windows.Controls.Button> 的 <xref:System.Windows.Controls.Control.Background%2A> 屬性設定為綠色。</span><span class="sxs-lookup"><span data-stu-id="011bf-195">The setter within the style sets the <xref:System.Windows.Controls.Control.Background%2A> property for a styled <xref:System.Windows.Controls.Button> to green.</span></span>

[!code-xaml[PropertiesOvwSupport#SimpleStyleDef](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyledef)]

[!code-xaml[PropertiesOvwSupport#SimpleStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyle)]

<span data-ttu-id="011bf-196">如需詳細資訊，請參閱設定[樣式和範本](../../../desktop-wpf/fundamentals/styles-templates-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-196">For more information, see [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span>

### <a name="animations"></a><span data-ttu-id="011bf-197">動畫</span><span class="sxs-lookup"><span data-stu-id="011bf-197">Animations</span></span>
<span data-ttu-id="011bf-198">相依性屬性可以動畫方式顯示。</span><span class="sxs-lookup"><span data-stu-id="011bf-198">Dependency properties can be animated.</span></span> <span data-ttu-id="011bf-199">套用並執行動畫時，動畫顯示值的運作優先於屬性可能執行的任何值 (例如本機值)。</span><span class="sxs-lookup"><span data-stu-id="011bf-199">When an animation is applied and is running, the animated value operates at a higher precedence than any value (such as a local value) that the property otherwise has.</span></span>

<span data-ttu-id="011bf-200">下列範例在 <xref:System.Windows.Controls.Button> 屬性上以動畫方式顯示 <xref:System.Windows.Controls.Control.Background%2A> (技術上來說，<xref:System.Windows.Controls.Control.Background%2A> 透過使用屬性項目語法來指定空白 <xref:System.Windows.Media.SolidColorBrush> 為 <xref:System.Windows.Controls.Control.Background%2A>，然後該 <xref:System.Windows.Media.SolidColorBrush> 的 <xref:System.Windows.Media.SolidColorBrush.Color%2A> 屬性是直接繪製的屬性)。</span><span class="sxs-lookup"><span data-stu-id="011bf-200">The following example animates the <xref:System.Windows.Controls.Control.Background%2A> on a <xref:System.Windows.Controls.Button> property (technically, the <xref:System.Windows.Controls.Control.Background%2A> is animated by using property element syntax to specify a blank <xref:System.Windows.Media.SolidColorBrush> as the <xref:System.Windows.Controls.Control.Background%2A>, then the <xref:System.Windows.Media.SolidColorBrush.Color%2A> property of that <xref:System.Windows.Media.SolidColorBrush> is the property that is directly animated).</span></span>

[!code-xaml[PropertiesOvwSupport#MiniAnimate](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#minianimate)]

<span data-ttu-id="011bf-201">如需可動畫顯示屬性的詳細資訊，請參閱[動畫概觀](../graphics-multimedia/animation-overview.md)及[腳本概觀](../graphics-multimedia/storyboards-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-201">For more information on animating properties, see [Animation Overview](../graphics-multimedia/animation-overview.md) and [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span></span>

### <a name="metadata-overrides"></a><span data-ttu-id="011bf-202">中繼資料覆寫</span><span class="sxs-lookup"><span data-stu-id="011bf-202">Metadata overrides</span></span>
<span data-ttu-id="011bf-203">當您衍生自最初登錄相依性屬性的類別時，您可以覆寫該屬性的中繼資料，變更相依性屬性的特定行為。</span><span class="sxs-lookup"><span data-stu-id="011bf-203">You can change certain behaviors of a dependency property by overriding the metadata for that property when you derive from the class that originally registers the dependency property.</span></span> <span data-ttu-id="011bf-204">覆寫依賴於 <xref:System.Windows.DependencyProperty> 識別碼的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="011bf-204">Overriding metadata relies on the <xref:System.Windows.DependencyProperty> identifier.</span></span> <span data-ttu-id="011bf-205">覆寫中繼資料不需要重新實作不免屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-205">Overriding metadata does not require reimplementing the property.</span></span> <span data-ttu-id="011bf-206">屬性系統會以原生方式處理中繼資料變更。每個類別都可能依每個類型，保存繼承自基底類別之所有屬性的個別中繼資料。</span><span class="sxs-lookup"><span data-stu-id="011bf-206">The metadata change is handled natively by the property system; each class potentially holds individual metadata for all properties that are inherited from base classes, on a per-type basis.</span></span>

<span data-ttu-id="011bf-207">下列範例會覆寫相依性屬性的中繼資料 <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>。</span><span class="sxs-lookup"><span data-stu-id="011bf-207">The following example overrides metadata for a dependency property <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>.</span></span> <span data-ttu-id="011bf-208">覆寫此特定相依性屬性中繼資料，是建立可使用佈景主題預設樣式控制項之實作模式的一部分。</span><span class="sxs-lookup"><span data-stu-id="011bf-208">Overriding this particular dependency property metadata is part of an implementation pattern that creates controls that can use default styles from themes.</span></span>

[!code-csharp[PropertiesOvwSupport#OverrideMetadata](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml.cs#overridemetadata)]
[!code-vb[PropertiesOvwSupport#OverrideMetadata](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page3.xaml.vb#overridemetadata)]

<span data-ttu-id="011bf-209">如需覆寫或取得屬性中繼資料的詳細資訊，請參閱[相依性屬性中繼資料](dependency-property-metadata.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-209">For more information about overriding or obtaining property metadata, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

### <a name="property-value-inheritance"></a><span data-ttu-id="011bf-210">屬性值繼承</span><span class="sxs-lookup"><span data-stu-id="011bf-210">Property value inheritance</span></span>
<span data-ttu-id="011bf-211">項目可以繼承物件樹狀結構中的父代相依性屬性值。</span><span class="sxs-lookup"><span data-stu-id="011bf-211">An element can inherit the value of a dependency property from its parent in the object tree.</span></span>

> [!NOTE]
> <span data-ttu-id="011bf-212">並非所有的相依性屬性都會啟用屬性值繼承行為，因為繼承的計算時間會影響效能。</span><span class="sxs-lookup"><span data-stu-id="011bf-212">Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact.</span></span> <span data-ttu-id="011bf-213">通常只有建議屬性值繼承為適當的特定案例屬性才會啟用屬性值繼。</span><span class="sxs-lookup"><span data-stu-id="011bf-213">Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate.</span></span> <span data-ttu-id="011bf-214">您可以在＜SDK 參考＞的**相依性屬性資訊**一節中查看相依性屬性，判斷該相依性屬性是否有繼承行為。</span><span class="sxs-lookup"><span data-stu-id="011bf-214">You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference.</span></span>

<span data-ttu-id="011bf-215">下例會示範繫結並設定指定繫結來源的 <xref:System.Windows.FrameworkElement.DataContext%2A> 屬性，之前的繫結範例未示範。</span><span class="sxs-lookup"><span data-stu-id="011bf-215">The following example shows a binding, and sets the <xref:System.Windows.FrameworkElement.DataContext%2A> property that specifies the source of the binding, which was not shown in the earlier binding example.</span></span> <span data-ttu-id="011bf-216">子物件中的任何後續繫結都不需要指定來源，即可使用父系 <xref:System.Windows.Controls.StackPanel> 物件中來自 <xref:System.Windows.FrameworkElement.DataContext%2A> 的繼承值。</span><span class="sxs-lookup"><span data-stu-id="011bf-216">Any subsequent bindings in child objects do not need to specify the source, they can use the inherited value from <xref:System.Windows.FrameworkElement.DataContext%2A> in the parent <xref:System.Windows.Controls.StackPanel> object.</span></span> <span data-ttu-id="011bf-217">(或者，子物件可以改為選擇直接在 <xref:System.Windows.Data.Binding> 中指定自己的 <xref:System.Windows.FrameworkElement.DataContext%2A> 或 <xref:System.Windows.Data.Binding.Source%2A>，並故意不使用其繫結的資料內容之繼承值。)</span><span class="sxs-lookup"><span data-stu-id="011bf-217">(Alternatively, a child object could instead choose to directly specify its own <xref:System.Windows.FrameworkElement.DataContext%2A> or a <xref:System.Windows.Data.Binding.Source%2A> in the <xref:System.Windows.Data.Binding>, and to deliberately not use the inherited value for data context of its bindings.)</span></span>

[!code-xaml[PropertiesOvwSupport#InheritanceContext](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#inheritancecontext)]

<span data-ttu-id="011bf-218">如需詳細資訊，請參閱[屬性值繼承](property-value-inheritance.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-218">For more information, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

### <a name="wpf-designer-integration"></a><span data-ttu-id="011bf-219">WPF 設計工具整合</span><span class="sxs-lookup"><span data-stu-id="011bf-219">WPF designer integration</span></span>
<span data-ttu-id="011bf-220">具有實作為相依性屬性之屬性的自訂控制項，將會收到適用于 Visual Studio 支援的適當 WPF 設計工具。</span><span class="sxs-lookup"><span data-stu-id="011bf-220">A custom control with properties that are implemented as dependency properties will receive appropriate WPF Designer for Visual Studio support.</span></span> <span data-ttu-id="011bf-221">其中一例就是能夠使用 [屬性]\*\*\*\* 視窗編輯直接和附加的相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-221">One example is the ability to edit direct and attached dependency properties with the **Properties** window.</span></span> <span data-ttu-id="011bf-222">如需詳細資訊，請參閱[控制項撰寫概觀](../controls/control-authoring-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-222">For more information, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>

## <a name="dependency-property-value-precedence"></a><span data-ttu-id="011bf-223">相依性屬性值優先順序</span><span class="sxs-lookup"><span data-stu-id="011bf-223">Dependency property value precedence</span></span>
<span data-ttu-id="011bf-224">當您取得相依性屬性的值時，您就可能取得一個值，此值原透過參與 WPF 屬性系統的任何其他屬性型輸入來設定在該屬性上。</span><span class="sxs-lookup"><span data-stu-id="011bf-224">When you get the value of a dependency property, you are potentially obtaining a value that was set on that property through any one of the other property-based inputs that participate in the WPF property system.</span></span> <span data-ttu-id="011bf-225">相依性屬性值有優先順序，所以屬性如何取得其值的各種案例才能以可預測的方式互動。</span><span class="sxs-lookup"><span data-stu-id="011bf-225">Dependency property value precedence exists so that a variety of scenarios for how properties obtain their values can interact in a predictable way.</span></span>

<span data-ttu-id="011bf-226">請思考一下下列範例。</span><span class="sxs-lookup"><span data-stu-id="011bf-226">Consider the following example.</span></span> <span data-ttu-id="011bf-227">此範例包含適用於所有按鈕及其 <xref:System.Windows.Controls.Control.Background%2A> 屬性的樣式，但也會指定一個具有本機設定 <xref:System.Windows.Controls.Control.Background%2A> 值的按鈕。</span><span class="sxs-lookup"><span data-stu-id="011bf-227">The example includes a style that applies to all buttons and their <xref:System.Windows.Controls.Control.Background%2A> properties, but then also specifies one button with a locally set <xref:System.Windows.Controls.Control.Background%2A> value.</span></span>

> [!NOTE]
> <span data-ttu-id="011bf-228">SDK 文件在討論相依性屬性時，偶爾會使用詞彙「區域數值」或「本機設定值」。</span><span class="sxs-lookup"><span data-stu-id="011bf-228">The SDK documentation uses the terms "local value" or "locally set value" occasionally when discussing dependency properties.</span></span> <span data-ttu-id="011bf-229">本機設定值是一個屬性值，其直接設定在程式碼的物件執行個體上，或作為 XAML 項目上的屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-229">A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.</span></span>  
  
<span data-ttu-id="011bf-230">基本上，第一個按鈕會設定兩次屬性，但只套用一個值：有最高優先順序的值。</span><span class="sxs-lookup"><span data-stu-id="011bf-230">In principle, for the first button, the property is set twice, but only one value applies: the value with the highest precedence.</span></span> <span data-ttu-id="011bf-231">本機設定值有最高優先順序 (執行中的動畫除外，但本例中未套用任何動畫)，因此第一個按鈕的背景使用本機設定值，而不使用樣式 setter 值。</span><span class="sxs-lookup"><span data-stu-id="011bf-231">A locally set value has the highest precedence (except for a running animation, but no animation applies in this example) and thus the locally set value is used instead of the style setter value for the background on the first button.</span></span> <span data-ttu-id="011bf-232">第二個按鈕沒有區域數值 (樣式 setter 有最高的優先順序)，因此該按鈕的背景來自樣式 setter。</span><span class="sxs-lookup"><span data-stu-id="011bf-232">The second button has no local value (and no other value with higher precedence than a style setter) and thus the background in that button comes from the style setter.</span></span>

[!code-xaml[PropertiesOvwSupport#MiniPrecedence](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#miniprecedence)]  

### <a name="why-does-dependency-property-precedence-exist"></a><span data-ttu-id="011bf-233">為什麼會有相依性屬性優先順序？</span><span class="sxs-lookup"><span data-stu-id="011bf-233">Why does dependency property precedence exist?</span></span>
<span data-ttu-id="011bf-234">一般來說，您不希望樣式一律套用，並隱藏甚至是個別專案的本機設定值（否則，一般都很難使用樣式或元素）。</span><span class="sxs-lookup"><span data-stu-id="011bf-234">Typically, you would not want styles to always apply and to obscure even a locally set value of an individual element (otherwise, it would be difficult to use either styles or elements in general).</span></span> <span data-ttu-id="011bf-235">因此，來自樣式的值運作優先順序比本機設定值低。</span><span class="sxs-lookup"><span data-stu-id="011bf-235">Therefore, the values that come from styles operate at a lower precedent than a locally set value.</span></span> <span data-ttu-id="011bf-236">如需更完整的相依性屬性清單及相依性屬性有效值的可能來源，請參閱[相依性屬性值優先順序](dependency-property-value-precedence.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-236">For a more thorough listing of dependency properties and where a dependency property effective value might come from, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

> [!NOTE]
> <span data-ttu-id="011bf-237">許多屬性是定義在相依性屬性的 WPF 項目上。</span><span class="sxs-lookup"><span data-stu-id="011bf-237">There are a number of properties defined on WPF elements that are not dependency properties.</span></span> <span data-ttu-id="011bf-238">大體上，屬性過去只有在需要支援至少一個屬性系統啟用的案例時，才會實作為相依性屬性︰資料繫結、樣式、動畫、預設值支援、繼承、附加屬性或失效。</span><span class="sxs-lookup"><span data-stu-id="011bf-238">By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.</span></span>

## <a name="learning-more-about-dependency-properties"></a><span data-ttu-id="011bf-239">深入了解相依性屬性</span><span class="sxs-lookup"><span data-stu-id="011bf-239">Learning more about dependency properties</span></span>  

- <span data-ttu-id="011bf-240">附加屬性是支援 XAML 特殊語法的屬性類型。</span><span class="sxs-lookup"><span data-stu-id="011bf-240">An attached property is a type of property that supports a specialized syntax in XAML.</span></span> <span data-ttu-id="011bf-241">附加屬性通常沒有與 common language runtime （CLR）屬性的1:1 對應，而且不一定是相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="011bf-241">An attached property often does not have a 1:1 correspondence with a common language runtime (CLR) property, and is not necessarily a dependency property.</span></span> <span data-ttu-id="011bf-242">附加屬性的一般用途是允許子專案將屬性值回報給父元素，即使父元素和子專案不會同時擁有該屬性做為類別成員清單的一部分也一樣。</span><span class="sxs-lookup"><span data-stu-id="011bf-242">The typical purpose of an attached property is to allow child elements to report property values to a parent element, even if the parent element and child element do not both possess that property as part of the class members listings.</span></span> <span data-ttu-id="011bf-243">一個主要案例是使子項目能夠告知父系應如何在 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] 中將其呈現；如需範例，請參閱 <xref:System.Windows.Controls.DockPanel.Dock%2A> 或 <xref:System.Windows.Controls.Canvas.Left%2A>。</span><span class="sxs-lookup"><span data-stu-id="011bf-243">One primary scenario is to enable child elements to inform the parent how they should be presented in [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]; for an example, see <xref:System.Windows.Controls.DockPanel.Dock%2A> or <xref:System.Windows.Controls.Canvas.Left%2A>.</span></span> <span data-ttu-id="011bf-244">如需詳細資訊，請參閱[附加屬性概觀](attached-properties-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-244">For details, see [Attached Properties Overview](attached-properties-overview.md).</span></span>

- <span data-ttu-id="011bf-245">元件開發人員或應用程式開發人員可能希望建立自己的相依性屬性，以便啟用資料繫結或樣式支援等功能，或用於失效和值的強制型轉支援。</span><span class="sxs-lookup"><span data-stu-id="011bf-245">Component developers or application developers may wish to create their own dependency property, in order to enable capabilities such as data binding or styles support, or for invalidation and value coercion support.</span></span> <span data-ttu-id="011bf-246">如需詳細資訊，請參閱[自訂相依性屬性](custom-dependency-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-246">For details, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>

- <span data-ttu-id="011bf-247">請將相依性屬性視為公用屬性，並可存取實例的任何呼叫端，或至少可供探索。</span><span class="sxs-lookup"><span data-stu-id="011bf-247">Consider dependency properties to be public properties, accessible or at least discoverable by any caller that has access to an instance.</span></span> <span data-ttu-id="011bf-248">如需詳細資訊，請參閱[相依性屬性的安全性](dependency-property-security.md)。</span><span class="sxs-lookup"><span data-stu-id="011bf-248">For more information, see [Dependency Property Security](dependency-property-security.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="011bf-249">另請參閱</span><span class="sxs-lookup"><span data-stu-id="011bf-249">See also</span></span>

- [<span data-ttu-id="011bf-250">自訂相依性屬性</span><span class="sxs-lookup"><span data-stu-id="011bf-250">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="011bf-251">唯讀相依性屬性</span><span class="sxs-lookup"><span data-stu-id="011bf-251">Read-Only Dependency Properties</span></span>](read-only-dependency-properties.md)
- [<span data-ttu-id="011bf-252">XAML 概觀 (WPF)</span><span class="sxs-lookup"><span data-stu-id="011bf-252">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="011bf-253">WPF 架構</span><span class="sxs-lookup"><span data-stu-id="011bf-253">WPF Architecture</span></span>](wpf-architecture.md)
