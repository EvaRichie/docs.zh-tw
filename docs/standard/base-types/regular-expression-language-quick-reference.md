---
title: 規則運算式語言 - 快速參考
description: 在此快速參考中，您將瞭解如何使用正則運算式模式來比對輸入文字。 模式有一或多個字元常值、運算子或結構。
ms.date: 03/30/2017
f1_keywords:
- VS.RegularExpressionBuilder
helpviewer_keywords:
- regex cheat sheet
- parsing text with regular expressions, language elements
- searching with regular expressions, language elements
- pattern-matching with regular expressions, language elements
- regular expressions, language elements
- regular expressions [.NET]
- cheat sheet
- .NET regular expressions, language elements
ms.assetid: 930653a6-95d2-4697-9d5a-52d11bb6fd4c
ms.openlocfilehash: 1b261211997837e8664ea60e9210a7f0517f7a9f
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/18/2020
ms.locfileid: "94818800"
---
# <a name="regular-expression-language---quick-reference"></a><span data-ttu-id="e684c-104">規則運算式語言 - 快速參考</span><span class="sxs-lookup"><span data-stu-id="e684c-104">Regular Expression Language - Quick Reference</span></span>

<span data-ttu-id="e684c-105">規則運算式是規則運算式引擎嘗試在輸入文字中比對的模式。</span><span class="sxs-lookup"><span data-stu-id="e684c-105">A regular expression is a pattern that the regular expression engine attempts to match in input text.</span></span> <span data-ttu-id="e684c-106">模式是由一個或多個字元常值、運算子或建構所組成。</span><span class="sxs-lookup"><span data-stu-id="e684c-106">A pattern consists of one or more character literals, operators, or constructs.</span></span> <span data-ttu-id="e684c-107">如需簡介，請參閱 [.NET 規則運算式](regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-107">For a brief introduction, see [.NET Regular Expressions](regular-expressions.md).</span></span>

<span data-ttu-id="e684c-108">此快速參考中的每一節都列出您可以用於定義規則運算式的特定某類字元、運算子和建構。</span><span class="sxs-lookup"><span data-stu-id="e684c-108">Each section in this quick reference lists a particular category of characters, operators, and constructs that you can use to define regular expressions.</span></span>

<span data-ttu-id="e684c-109">我們也以兩種格式提供此資訊，您可以下載及列印以方便參考：</span><span class="sxs-lookup"><span data-stu-id="e684c-109">We've also provided this information in two formats that you can download and print for easy reference:</span></span>

- [<span data-ttu-id="e684c-110">下載 Word (.docx) 格式</span><span class="sxs-lookup"><span data-stu-id="e684c-110">Download in Word (.docx) format</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)
- [<span data-ttu-id="e684c-111">以 PDF (.pdf) 格式下載</span><span class="sxs-lookup"><span data-stu-id="e684c-111">Download in PDF (.pdf) format</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)

## <a name="character-escapes"></a><span data-ttu-id="e684c-112">逸出字元</span><span class="sxs-lookup"><span data-stu-id="e684c-112">Character Escapes</span></span>

<span data-ttu-id="e684c-113">規則運算式中的反斜線字元 (\\) 表示接在後面的字元是特殊字元 (如下表所示)，或應該解譯為常值。</span><span class="sxs-lookup"><span data-stu-id="e684c-113">The backslash character (\\) in a regular expression indicates that the character that follows it either is a special character (as shown in the following table), or should be interpreted literally.</span></span> <span data-ttu-id="e684c-114">如需詳細資訊，請參閱 [Character Escapes](character-escapes-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-114">For more information, see [Character Escapes](character-escapes-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-115">逸出的字元</span><span class="sxs-lookup"><span data-stu-id="e684c-115">Escaped character</span></span>|<span data-ttu-id="e684c-116">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-116">Description</span></span>|<span data-ttu-id="e684c-117">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-117">Pattern</span></span>|<span data-ttu-id="e684c-118">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-118">Matches</span></span>|
|-----------------------|-----------------|-------------|-------------|
|`\a`|<span data-ttu-id="e684c-119">比對警示字元 \u0007。</span><span class="sxs-lookup"><span data-stu-id="e684c-119">Matches a bell character, \u0007.</span></span>|`\a`|<span data-ttu-id="e684c-120">`"Error!" + '\u0007'` 中的 `"\u0007"`</span><span class="sxs-lookup"><span data-stu-id="e684c-120">`"\u0007"` in `"Error!" + '\u0007'`</span></span>|
|`\b`|<span data-ttu-id="e684c-121">在字元類別中，比對退格鍵 \u0008。</span><span class="sxs-lookup"><span data-stu-id="e684c-121">In a character class, matches a backspace, \u0008.</span></span>|`[\b]{3,}`|<span data-ttu-id="e684c-122">`"\b\b\b\b"` 中的 `"\b\b\b\b"`</span><span class="sxs-lookup"><span data-stu-id="e684c-122">`"\b\b\b\b"` in `"\b\b\b\b"`</span></span>|
|`\t`|<span data-ttu-id="e684c-123">比對定位點 \u0009。</span><span class="sxs-lookup"><span data-stu-id="e684c-123">Matches a tab, \u0009.</span></span>|`(\w+)\t`|<span data-ttu-id="e684c-124">`"item1\titem2\t"` 中的 `"item1\t"`、`"item2\t"`</span><span class="sxs-lookup"><span data-stu-id="e684c-124">`"item1\t"`, `"item2\t"` in `"item1\titem2\t"`</span></span>|
|`\r`|<span data-ttu-id="e684c-125">比對歸位字元 \u000D</span><span class="sxs-lookup"><span data-stu-id="e684c-125">Matches a carriage return, \u000D.</span></span> <span data-ttu-id="e684c-126">(`\r` 不等於新行字元 `\n`。)</span><span class="sxs-lookup"><span data-stu-id="e684c-126">(`\r` is not equivalent to the newline character, `\n`.)</span></span>|`\r\n(\w+)`|<span data-ttu-id="e684c-127">`"\r\nThese are\ntwo lines."` 中的 `"\r\nThese"`</span><span class="sxs-lookup"><span data-stu-id="e684c-127">`"\r\nThese"` in `"\r\nThese are\ntwo lines."`</span></span>|
|`\v`|<span data-ttu-id="e684c-128">比對垂直定位點 \u000B。</span><span class="sxs-lookup"><span data-stu-id="e684c-128">Matches a vertical tab, \u000B.</span></span>|`[\v]{2,}`|<span data-ttu-id="e684c-129">`"\v\v\v"` 中的 `"\v\v\v"`</span><span class="sxs-lookup"><span data-stu-id="e684c-129">`"\v\v\v"` in `"\v\v\v"`</span></span>|
|`\f`|<span data-ttu-id="e684c-130">比對換頁字元 \u000C。</span><span class="sxs-lookup"><span data-stu-id="e684c-130">Matches a form feed, \u000C.</span></span>|`[\f]{2,}`|<span data-ttu-id="e684c-131">`"\f\f\f"` 中的 `"\f\f\f"`</span><span class="sxs-lookup"><span data-stu-id="e684c-131">`"\f\f\f"` in `"\f\f\f"`</span></span>|
|`\n`|<span data-ttu-id="e684c-132">比對新行字元 \u000A。</span><span class="sxs-lookup"><span data-stu-id="e684c-132">Matches a new line, \u000A.</span></span>|`\r\n(\w+)`|<span data-ttu-id="e684c-133">`"\r\nThese are\ntwo lines."` 中的 `"\r\nThese"`</span><span class="sxs-lookup"><span data-stu-id="e684c-133">`"\r\nThese"` in `"\r\nThese are\ntwo lines."`</span></span>|
|`\e`|<span data-ttu-id="e684c-134">比對逸出字元 \u001B。</span><span class="sxs-lookup"><span data-stu-id="e684c-134">Matches an escape, \u001B.</span></span>|`\e`|<span data-ttu-id="e684c-135">`"\x001B"` 中的 `"\x001B"`</span><span class="sxs-lookup"><span data-stu-id="e684c-135">`"\x001B"` in `"\x001B"`</span></span>|
|<span data-ttu-id="e684c-136">`\`*nnn*</span><span class="sxs-lookup"><span data-stu-id="e684c-136">`\` *nnn*</span></span>|<span data-ttu-id="e684c-137">使用八進位表示法指定字元 (*nnn* 由兩位數或三位數組成)。</span><span class="sxs-lookup"><span data-stu-id="e684c-137">Uses octal representation to specify a character (*nnn* consists of two or three digits).</span></span>|`\w\040\w`|<span data-ttu-id="e684c-138">`"a bc d"` 中的 `"a b"`、`"c d"`</span><span class="sxs-lookup"><span data-stu-id="e684c-138">`"a b"`, `"c d"` in `"a bc d"`</span></span>|
|<span data-ttu-id="e684c-139">`\x` *nn*</span><span class="sxs-lookup"><span data-stu-id="e684c-139">`\x` *nn*</span></span>|<span data-ttu-id="e684c-140">使用十六進位表示指定字元 (*nn* 由剛好兩位數組成)。</span><span class="sxs-lookup"><span data-stu-id="e684c-140">Uses hexadecimal representation to specify a character (*nn* consists of exactly two digits).</span></span>|`\w\x20\w`|<span data-ttu-id="e684c-141">`"a bc d"` 中的 `"a b"`、`"c d"`</span><span class="sxs-lookup"><span data-stu-id="e684c-141">`"a b"`, `"c d"` in `"a bc d"`</span></span>|
|<span data-ttu-id="e684c-142">`\c` *X*</span><span class="sxs-lookup"><span data-stu-id="e684c-142">`\c` *X*</span></span><br /><br /> <span data-ttu-id="e684c-143">`\c` *x*</span><span class="sxs-lookup"><span data-stu-id="e684c-143">`\c` *x*</span></span>|<span data-ttu-id="e684c-144">比對 *X* 或 *x* 所指定的 ASCII 控制字元，其中 *X* 或 *x* 是控制字元的字母。</span><span class="sxs-lookup"><span data-stu-id="e684c-144">Matches the ASCII control character that is specified by *X* or *x*, where *X* or *x* is the letter of the control character.</span></span>|`\cC`|<span data-ttu-id="e684c-145">`"\x0003"` 中的 `"\x0003"` (Ctrl-C)</span><span class="sxs-lookup"><span data-stu-id="e684c-145">`"\x0003"` in `"\x0003"` (Ctrl-C)</span></span>|
|<span data-ttu-id="e684c-146">`\u` *nnnn*</span><span class="sxs-lookup"><span data-stu-id="e684c-146">`\u` *nnnn*</span></span>|<span data-ttu-id="e684c-147">使用十六進位表示比對 Unicode 字元 (剛好四位數，如 *nnnn* 所表示)。</span><span class="sxs-lookup"><span data-stu-id="e684c-147">Matches a Unicode character by using hexadecimal representation (exactly four digits, as represented by *nnnn*).</span></span>|`\w\u0020\w`|<span data-ttu-id="e684c-148">`"a bc d"` 中的 `"a b"`、`"c d"`</span><span class="sxs-lookup"><span data-stu-id="e684c-148">`"a b"`, `"c d"` in `"a bc d"`</span></span>|
|`\`|<span data-ttu-id="e684c-149">當後面加上的字元不是這張表和本主題其他表格中指出的逸出字元時，則比對該字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-149">When followed by a character that is not recognized as an escaped character in this and other tables in this topic, matches that character.</span></span> <span data-ttu-id="e684c-150">例如，`\*` 與 `\x2A` 相同，而 `\.` 與 `\x2E` 相同。</span><span class="sxs-lookup"><span data-stu-id="e684c-150">For example, `\*` is the same as `\x2A`, and `\.` is the same as `\x2E`.</span></span> <span data-ttu-id="e684c-151">這可讓規則運算式引擎釐清語言元素 (例如 \* 或 ?) 和字元常值 (以 `\*` 或 `\?` 表示)。</span><span class="sxs-lookup"><span data-stu-id="e684c-151">This allows the regular expression engine to disambiguate language elements (such as \* or ?) and character literals (represented by `\*` or `\?`).</span></span>|`\d+[\+-x\*]\d+`|<span data-ttu-id="e684c-152">`"(2+2) * 3*9"` 中的 `"2+2"` 和 `"3*9"`</span><span class="sxs-lookup"><span data-stu-id="e684c-152">`"2+2"` and `"3*9"` in `"(2+2) * 3*9"`</span></span>|

## <a name="character-classes"></a><span data-ttu-id="e684c-153">字元類別</span><span class="sxs-lookup"><span data-stu-id="e684c-153">Character Classes</span></span>

<span data-ttu-id="e684c-154">字元類別會比對一組字元中的任何一個字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-154">A character class matches any one of a set of characters.</span></span> <span data-ttu-id="e684c-155">字元類別包含下表列出的語言項目。</span><span class="sxs-lookup"><span data-stu-id="e684c-155">Character classes include the language elements listed in the following table.</span></span> <span data-ttu-id="e684c-156">如需詳細資訊，請參閱 [字元類別](character-classes-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-156">For more information, see [Character Classes](character-classes-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-157">字元類別</span><span class="sxs-lookup"><span data-stu-id="e684c-157">Character class</span></span>|<span data-ttu-id="e684c-158">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-158">Description</span></span>|<span data-ttu-id="e684c-159">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-159">Pattern</span></span>|<span data-ttu-id="e684c-160">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-160">Matches</span></span>|
|---------------------|-----------------|-------------|-------------|
|<span data-ttu-id="e684c-161">`[`*character_group*`]`</span><span class="sxs-lookup"><span data-stu-id="e684c-161">`[` *character_group* `]`</span></span>|<span data-ttu-id="e684c-162">符合 *character_group* 中的任何單一字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-162">Matches any single character in *character_group*.</span></span> <span data-ttu-id="e684c-163">根據預設，比對會區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="e684c-163">By default, the match is case-sensitive.</span></span>|`[ae]`|<span data-ttu-id="e684c-164">`"gray"` 中的 `"a"`</span><span class="sxs-lookup"><span data-stu-id="e684c-164">`"a"` in `"gray"`</span></span><br /><br /> <span data-ttu-id="e684c-165">`"lane"` 中的 `"a"`、`"e"`</span><span class="sxs-lookup"><span data-stu-id="e684c-165">`"a"`, `"e"` in `"lane"`</span></span>|
|<span data-ttu-id="e684c-166">`[^`*character_group*`]`</span><span class="sxs-lookup"><span data-stu-id="e684c-166">`[^` *character_group* `]`</span></span>|<span data-ttu-id="e684c-167">否定：比對不在 *character_group* 中的任何單一字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-167">Negation: Matches any single character that is not in *character_group*.</span></span> <span data-ttu-id="e684c-168">根據預設，*character_group* 中的字元會區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="e684c-168">By default, characters in *character_group* are case-sensitive.</span></span>|`[^aei]`|<span data-ttu-id="e684c-169">`"reign"` 中的 `"r"`、`"g"`、`"n"`</span><span class="sxs-lookup"><span data-stu-id="e684c-169">`"r"`, `"g"`, `"n"` in `"reign"`</span></span>|
|<span data-ttu-id="e684c-170">`[` *first* `-` *last* `]`</span><span class="sxs-lookup"><span data-stu-id="e684c-170">`[` *first* `-` *last* `]`</span></span>|<span data-ttu-id="e684c-171">字元範圍：比對從 *first* 至 *last* 範圍內的任何單一字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-171">Character range: Matches any single character in the range from *first* to *last*.</span></span>|`[A-Z]`|<span data-ttu-id="e684c-172">`"AB123"` 中的 `"A"`、`"B"`</span><span class="sxs-lookup"><span data-stu-id="e684c-172">`"A"`, `"B"` in `"AB123"`</span></span>|
|`.`|<span data-ttu-id="e684c-173">萬用字元：比對除 \n 以外的任何單一字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-173">Wildcard: Matches any single character except \n.</span></span><br /><br /> <span data-ttu-id="e684c-174">若要比對常值句號字元 (.</span><span class="sxs-lookup"><span data-stu-id="e684c-174">To match a literal period character (.</span></span> <span data-ttu-id="e684c-175">或 `\u002E`)，您必須在前面加上逸出字元 (`\.`)。</span><span class="sxs-lookup"><span data-stu-id="e684c-175">or `\u002E`), you must precede it with the escape character (`\.`).</span></span>|`a.e`|<span data-ttu-id="e684c-176">`"nave"` 中的 `"ave"`</span><span class="sxs-lookup"><span data-stu-id="e684c-176">`"ave"` in `"nave"`</span></span><br /><br /> <span data-ttu-id="e684c-177">`"water"` 中的 `"ate"`</span><span class="sxs-lookup"><span data-stu-id="e684c-177">`"ate"` in `"water"`</span></span>|
|<span data-ttu-id="e684c-178">`\p{`*名稱*`}`</span><span class="sxs-lookup"><span data-stu-id="e684c-178">`\p{` *name* `}`</span></span>|<span data-ttu-id="e684c-179">比對 Unicode 一般分類中或 *name* 指定之具名區塊中的任何單一字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-179">Matches any single character in the Unicode general category or named block specified by *name*.</span></span>|`\p{Lu}`<br /><br /> `\p{IsCyrillic}`|<span data-ttu-id="e684c-180">`"City Lights"` 中的 `"C"`、`"L"`</span><span class="sxs-lookup"><span data-stu-id="e684c-180">`"C"`, `"L"` in `"City Lights"`</span></span><br /><br /> <span data-ttu-id="e684c-181">`"ДЖem"` 中的 `"Д"`、`"Ж"`</span><span class="sxs-lookup"><span data-stu-id="e684c-181">`"Д"`, `"Ж"` in `"ДЖem"`</span></span>|
|<span data-ttu-id="e684c-182">`\P{`*名稱*`}`</span><span class="sxs-lookup"><span data-stu-id="e684c-182">`\P{` *name* `}`</span></span>|<span data-ttu-id="e684c-183">比對不在 Unicode 一般分類中或 *name* 所指定之具名區塊中的任何單一字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-183">Matches any single character that is not in the Unicode general category or named block specified by *name*.</span></span>|`\P{Lu}`<br /><br /> `\P{IsCyrillic}`|<span data-ttu-id="e684c-184">`"City"` 中的 `"i"`、`"t"`、`"y"`</span><span class="sxs-lookup"><span data-stu-id="e684c-184">`"i"`, `"t"`, `"y"` in `"City"`</span></span><br /><br /> <span data-ttu-id="e684c-185">`"ДЖem"` 中的 `"e"`、`"m"`</span><span class="sxs-lookup"><span data-stu-id="e684c-185">`"e"`, `"m"` in `"ДЖem"`</span></span>|
|`\w`|<span data-ttu-id="e684c-186">比對任何文字字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-186">Matches any word character.</span></span>|`\w`|<span data-ttu-id="e684c-187">`"ID A1.3"` 中的 `"I"`、`"D"`、`"A"`、`"1"`、`"3"`</span><span class="sxs-lookup"><span data-stu-id="e684c-187">`"I"`, `"D"`, `"A"`, `"1"`, `"3"` in `"ID A1.3"`</span></span>|
|`\W`|<span data-ttu-id="e684c-188">比對任何非文字字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-188">Matches any non-word character.</span></span>|`\W`|<span data-ttu-id="e684c-189">`"ID A1.3"` 中的 `" "`、`"."`</span><span class="sxs-lookup"><span data-stu-id="e684c-189">`" "`, `"."` in `"ID A1.3"`</span></span>|
|`\s`|<span data-ttu-id="e684c-190">比對任何泛空白字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-190">Matches any white-space character.</span></span>|`\w\s`|<span data-ttu-id="e684c-191">`"ID A1.3"` 中的 `"D "`</span><span class="sxs-lookup"><span data-stu-id="e684c-191">`"D "` in `"ID A1.3"`</span></span>|
|`\S`|<span data-ttu-id="e684c-192">比對任何非泛空白字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-192">Matches any non-white-space character.</span></span>|`\s\S`|<span data-ttu-id="e684c-193">`"int __ctr"` 中的 `" _"`</span><span class="sxs-lookup"><span data-stu-id="e684c-193">`" _"` in `"int __ctr"`</span></span>|
|`\d`|<span data-ttu-id="e684c-194">比對任何十進位數字。</span><span class="sxs-lookup"><span data-stu-id="e684c-194">Matches any decimal digit.</span></span>|`\d`|<span data-ttu-id="e684c-195">`"4 = IV"` 中的 `"4"`</span><span class="sxs-lookup"><span data-stu-id="e684c-195">`"4"` in `"4 = IV"`</span></span>|
|`\D`|<span data-ttu-id="e684c-196">比對十進位數字以外的任何字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-196">Matches any character other than a decimal digit.</span></span>|`\D`|<span data-ttu-id="e684c-197">`"4 = IV"` 中的 `" "`、`"="`、`" "`、`"I"`、`"V"`</span><span class="sxs-lookup"><span data-stu-id="e684c-197">`" "`, `"="`, `" "`, `"I"`, `"V"` in `"4 = IV"`</span></span>|

## <a name="anchors"></a><span data-ttu-id="e684c-198">錨點</span><span class="sxs-lookup"><span data-stu-id="e684c-198">Anchors</span></span>

<span data-ttu-id="e684c-199">錨點 (即原子零寬度判斷提示) 會造成根據字串中的目前位置來決定比對成功或失敗，但不會造成引擎在字串中前進或是取用字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-199">Anchors, or atomic zero-width assertions, cause a match to succeed or fail depending on the current position in the string, but they do not cause the engine to advance through the string or consume characters.</span></span> <span data-ttu-id="e684c-200">下表列出的 metacharacter 是錨點。</span><span class="sxs-lookup"><span data-stu-id="e684c-200">The metacharacters listed in the following table are anchors.</span></span> <span data-ttu-id="e684c-201">如需詳細資訊，請參閱[錨點](anchors-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-201">For more information, see [Anchors](anchors-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-202">Assertion</span><span class="sxs-lookup"><span data-stu-id="e684c-202">Assertion</span></span>|<span data-ttu-id="e684c-203">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-203">Description</span></span>|<span data-ttu-id="e684c-204">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-204">Pattern</span></span>|<span data-ttu-id="e684c-205">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-205">Matches</span></span>|
|---------------|-----------------|-------------|-------------|
|`^`|<span data-ttu-id="e684c-206">根據預設，比對必須在字串的開頭開始；在多行模式中，它必須在一行的開頭開始。</span><span class="sxs-lookup"><span data-stu-id="e684c-206">By default, the match must start at the beginning of the string; in multiline mode, it must start at the beginning of the line.</span></span>|`^\d{3}`|<span data-ttu-id="e684c-207">`"901-333-"` 中的 `"901"`</span><span class="sxs-lookup"><span data-stu-id="e684c-207">`"901"` in `"901-333-"`</span></span>|
|`$`|<span data-ttu-id="e684c-208">根據預設，比對必須發生在字串的結尾或字串結尾的 `\n` 之前；在多行模式中，它必須發生在一行的結尾之前，或一行結尾的 `\n` 之前。</span><span class="sxs-lookup"><span data-stu-id="e684c-208">By default, the match must occur at the end of the string or before `\n` at the end of the string; in multiline mode, it must occur before the end of the line or before `\n` at the end of the line.</span></span>|`-\d{3}$`|<span data-ttu-id="e684c-209">`"-901-333"` 中的 `"-333"`</span><span class="sxs-lookup"><span data-stu-id="e684c-209">`"-333"` in `"-901-333"`</span></span>|
|`\A`|<span data-ttu-id="e684c-210">比對必須發生在字串開頭。</span><span class="sxs-lookup"><span data-stu-id="e684c-210">The match must occur at the start of the string.</span></span>|`\A\d{3}`|<span data-ttu-id="e684c-211">`"901-333-"` 中的 `"901"`</span><span class="sxs-lookup"><span data-stu-id="e684c-211">`"901"` in `"901-333-"`</span></span>|
|`\Z`|<span data-ttu-id="e684c-212">比對必須發生在字串結尾，或發生在字串結尾的 `\n` 之前。</span><span class="sxs-lookup"><span data-stu-id="e684c-212">The match must occur at the end of the string or before `\n` at the end of the string.</span></span>|`-\d{3}\Z`|<span data-ttu-id="e684c-213">`"-901-333"` 中的 `"-333"`</span><span class="sxs-lookup"><span data-stu-id="e684c-213">`"-333"` in `"-901-333"`</span></span>|
|`\z`|<span data-ttu-id="e684c-214">比對必須發生在字串結尾。</span><span class="sxs-lookup"><span data-stu-id="e684c-214">The match must occur at the end of the string.</span></span>|`-\d{3}\z`|<span data-ttu-id="e684c-215">`"-901-333"` 中的 `"-333"`</span><span class="sxs-lookup"><span data-stu-id="e684c-215">`"-333"` in `"-901-333"`</span></span>|
|`\G`|<span data-ttu-id="e684c-216">比對必須發生在先前比對結束的位置。</span><span class="sxs-lookup"><span data-stu-id="e684c-216">The match must occur at the point where the previous match ended.</span></span>|`\G\(\d\)`|<span data-ttu-id="e684c-217">`"(1)(3)(5)[7](9)"` 中的 `"(1)"`、`"(3)"`、`"(5)"`</span><span class="sxs-lookup"><span data-stu-id="e684c-217">`"(1)"`, `"(3)"`, `"(5)"` in `"(1)(3)(5)[7](9)"`</span></span>|
|`\b`|<span data-ttu-id="e684c-218">比對必須發生在 `\w` (英數) 和 `\W` (非英數) 字元之間的界限上。</span><span class="sxs-lookup"><span data-stu-id="e684c-218">The match must occur on a boundary between a `\w` (alphanumeric) and a `\W` (nonalphanumeric) character.</span></span>|`\b\w+\s\w+\b`|<span data-ttu-id="e684c-219">`"them theme them them"` 中的 `"them theme"`、`"them them"`</span><span class="sxs-lookup"><span data-stu-id="e684c-219">`"them theme"`, `"them them"` in `"them theme them them"`</span></span>|
|`\B`|<span data-ttu-id="e684c-220">比對不可以發生在 `\b` 界限上。</span><span class="sxs-lookup"><span data-stu-id="e684c-220">The match must not occur on a `\b` boundary.</span></span>|`\Bend\w*\b`|<span data-ttu-id="e684c-221">`"end sends endure lender"` 中的 `"ends"`、`"ender"`</span><span class="sxs-lookup"><span data-stu-id="e684c-221">`"ends"`, `"ender"` in `"end sends endure lender"`</span></span>|

## <a name="grouping-constructs"></a><span data-ttu-id="e684c-222">分組建構</span><span class="sxs-lookup"><span data-stu-id="e684c-222">Grouping Constructs</span></span>

<span data-ttu-id="e684c-223">分組建構會描寫規則運算式的子運算式，而且通常會擷取輸入字串的子字串。</span><span class="sxs-lookup"><span data-stu-id="e684c-223">Grouping constructs delineate subexpressions of a regular expression and typically capture substrings of an input string.</span></span> <span data-ttu-id="e684c-224">分組建構包含下表列出的語言元素。</span><span class="sxs-lookup"><span data-stu-id="e684c-224">Grouping constructs include the language elements listed in the following table.</span></span> <span data-ttu-id="e684c-225">如需詳細資訊，請參閱[群組建構](grouping-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-225">For more information, see [Grouping Constructs](grouping-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-226">分組建構</span><span class="sxs-lookup"><span data-stu-id="e684c-226">Grouping construct</span></span>|<span data-ttu-id="e684c-227">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-227">Description</span></span>|<span data-ttu-id="e684c-228">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-228">Pattern</span></span>|<span data-ttu-id="e684c-229">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-229">Matches</span></span>|
|------------------------|-----------------|-------------|-------------|
|<span data-ttu-id="e684c-230"> subexpression`(`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-230">`(` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-231">擷取符合的子運算式，並指派以一為起始的序號給它。</span><span class="sxs-lookup"><span data-stu-id="e684c-231">Captures the matched subexpression and assigns it a one-based ordinal number.</span></span>|`(\w)\1`|<span data-ttu-id="e684c-232">`"deep"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="e684c-232">`"ee"` in `"deep"`</span></span>|
|<span data-ttu-id="e684c-233">`(?<` *名稱* `>` *子運算式* `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-233">`(?<` *name* `>` *subexpression* `)`</span></span><br /> <span data-ttu-id="e684c-234">或</span><span class="sxs-lookup"><span data-stu-id="e684c-234">or</span></span> <br /><span data-ttu-id="e684c-235">`(?'` *名稱* `'` *子運算式* `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-235">`(?'` *name* `'` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-236">將符合的子運算式擷取到具名群組中。</span><span class="sxs-lookup"><span data-stu-id="e684c-236">Captures the matched subexpression into a named group.</span></span>|`(?<double>\w)\k<double>`|<span data-ttu-id="e684c-237">`"deep"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="e684c-237">`"ee"` in `"deep"`</span></span>|
|<span data-ttu-id="e684c-238">`(?<` *name1* `-` *name2* `>` *subexpression* `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-238">`(?<` *name1* `-` *name2* `>` *subexpression* `)`</span></span> <br /> <span data-ttu-id="e684c-239">或</span><span class="sxs-lookup"><span data-stu-id="e684c-239">or</span></span> <br /> <span data-ttu-id="e684c-240">`(?'` *name1* `-` *name2* `'` *subexpression* `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-240">`(?'` *name1* `-` *name2* `'` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-241">定義對稱群組定義。</span><span class="sxs-lookup"><span data-stu-id="e684c-241">Defines a balancing group definition.</span></span> <span data-ttu-id="e684c-242">如需詳細資訊，請參閱[群組建構](grouping-constructs-in-regular-expressions.md)中的＜平衡群組定義＞一節。</span><span class="sxs-lookup"><span data-stu-id="e684c-242">For more information, see the "Balancing Group Definition" section in [Grouping Constructs](grouping-constructs-in-regular-expressions.md).</span></span>|`(((?'Open'\()[^\(\)]*)+((?'Close-Open'\))[^\(\)]*)+)*(?(Open)(?!))$`|<span data-ttu-id="e684c-243">`"3+2^((1-3)*(3-1))"` 中的 `"((1-3)*(3-1))"`</span><span class="sxs-lookup"><span data-stu-id="e684c-243">`"((1-3)*(3-1))"` in `"3+2^((1-3)*(3-1))"`</span></span>|
|<span data-ttu-id="e684c-244"> subexpression`(?:`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-244">`(?:` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-245">定義非擷取型群組。</span><span class="sxs-lookup"><span data-stu-id="e684c-245">Defines a noncapturing group.</span></span>|`Write(?:Line)?`|<span data-ttu-id="e684c-246">`"Console.WriteLine()"` 中的 `"WriteLine"`</span><span class="sxs-lookup"><span data-stu-id="e684c-246">`"WriteLine"` in `"Console.WriteLine()"`</span></span><br /><br /> <span data-ttu-id="e684c-247">`"Console.Write(value)"` 中的 `"Write"`</span><span class="sxs-lookup"><span data-stu-id="e684c-247">`"Write"` in `"Console.Write(value)"`</span></span>|
|<span data-ttu-id="e684c-248"> subexpression`(?imnsx-imnsx:`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-248">`(?imnsx-imnsx:` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-249">套用或停用 *subexpression* 內指定的選項。</span><span class="sxs-lookup"><span data-stu-id="e684c-249">Applies or disables the specified options within *subexpression*.</span></span> <span data-ttu-id="e684c-250">如需詳細資訊，請參閱 [正則運算式選項](regular-expression-options.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-250">For more information, see [Regular Expression Options](regular-expression-options.md).</span></span>|`A\d{2}(?i:\w+)\b`|<span data-ttu-id="e684c-251">`"A12xl A12XL a12xl"` 中的 `"A12xl"`、`"A12XL"`</span><span class="sxs-lookup"><span data-stu-id="e684c-251">`"A12xl"`, `"A12XL"` in `"A12xl A12XL a12xl"`</span></span>|
|<span data-ttu-id="e684c-252"> subexpression`(?=`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-252">`(?=` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-253">零寬度右合樣 (Positive Lookahead) 判斷提示。</span><span class="sxs-lookup"><span data-stu-id="e684c-253">Zero-width positive lookahead assertion.</span></span>|`\w+(?=\.)`|<span data-ttu-id="e684c-254">`"He is. The dog ran. The sun is out."` 中的 `"is"`、`"ran"` 和 `"out"`</span><span class="sxs-lookup"><span data-stu-id="e684c-254">`"is"`, `"ran"`, and `"out"` in `"He is. The dog ran. The sun is out."`</span></span>|
|<span data-ttu-id="e684c-255"> subexpression`(?!`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-255">`(?!` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-256">零寬度右不合樣 (Negative Lookahead) 判斷提示。</span><span class="sxs-lookup"><span data-stu-id="e684c-256">Zero-width negative lookahead assertion.</span></span>|`\b(?!un)\w+\b`|<span data-ttu-id="e684c-257">`"unsure sure unity used"` 中的 `"sure"`、`"used"`</span><span class="sxs-lookup"><span data-stu-id="e684c-257">`"sure"`, `"used"` in `"unsure sure unity used"`</span></span>|
|<span data-ttu-id="e684c-258"> subexpression`(?<=`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-258">`(?<=` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-259">零寬度左合樣 (Positive Lookbehind) 判斷提示。</span><span class="sxs-lookup"><span data-stu-id="e684c-259">Zero-width positive lookbehind assertion.</span></span>|`(?<=19)\d{2}\b`|<span data-ttu-id="e684c-260">`"1851 1999 1950 1905 2003"` 中的 `"99"`、`"50"`、`"05"`</span><span class="sxs-lookup"><span data-stu-id="e684c-260">`"99"`, `"50"`, `"05"` in `"1851 1999 1950 1905 2003"`</span></span>|
|<span data-ttu-id="e684c-261"> subexpression`(?<!`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-261">`(?<!` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-262">零寬度左不合樣 (Negative Lookbehind) 判斷提示。</span><span class="sxs-lookup"><span data-stu-id="e684c-262">Zero-width negative lookbehind assertion.</span></span>|`(?<!19)\d{2}\b`|<span data-ttu-id="e684c-263">`"1851 1999 1950 1905 2003"` 中的 `"51"`、`"03"`</span><span class="sxs-lookup"><span data-stu-id="e684c-263">`"51"`, `"03"` in `"1851 1999 1950 1905 2003"`</span></span>|
|<span data-ttu-id="e684c-264"> subexpression`(?>`  `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-264">`(?>` *subexpression* `)`</span></span>|<span data-ttu-id="e684c-265">不可部分完成的群組。</span><span class="sxs-lookup"><span data-stu-id="e684c-265">Atomic group.</span></span>|`[13579](?>A+B+)`|<span data-ttu-id="e684c-266">`"1ABB 3ABBC 5AB 5AC"` 中的 `"1ABB"`、`"3ABB"` 和 `"5AB"`</span><span class="sxs-lookup"><span data-stu-id="e684c-266">`"1ABB"`, `"3ABB"`, and `"5AB"` in `"1ABB 3ABBC 5AB 5AC"`</span></span>|

## <a name="quantifiers"></a><span data-ttu-id="e684c-267">數量詞</span><span class="sxs-lookup"><span data-stu-id="e684c-267">Quantifiers</span></span>

<span data-ttu-id="e684c-268">數量詞指定上一個項目 (可能是字元、群組或字元類別) 必須在輸入字串中出現多少次，才算符合。</span><span class="sxs-lookup"><span data-stu-id="e684c-268">A quantifier specifies how many instances of the previous element (which can be a character, a group, or a character class) must be present in the input string for a match to occur.</span></span> <span data-ttu-id="e684c-269">數量詞包含下表列出的語言項目。</span><span class="sxs-lookup"><span data-stu-id="e684c-269">Quantifiers include the language elements listed in the following table.</span></span> <span data-ttu-id="e684c-270">如需詳細資訊，請參閱[數量詞](quantifiers-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-270">For more information, see [Quantifiers](quantifiers-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-271">數量詞</span><span class="sxs-lookup"><span data-stu-id="e684c-271">Quantifier</span></span>|<span data-ttu-id="e684c-272">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-272">Description</span></span>|<span data-ttu-id="e684c-273">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-273">Pattern</span></span>|<span data-ttu-id="e684c-274">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-274">Matches</span></span>|
|----------------|-----------------|-------------|-------------|
|`*`|<span data-ttu-id="e684c-275">比對上一個項目零次或多次。</span><span class="sxs-lookup"><span data-stu-id="e684c-275">Matches the previous element zero or more times.</span></span>|`\d*\.\d`|<span data-ttu-id="e684c-276">`".0"`, `"19.9"`, `"219.9"`</span><span class="sxs-lookup"><span data-stu-id="e684c-276">`".0"`, `"19.9"`, `"219.9"`</span></span>|
|`+`|<span data-ttu-id="e684c-277">比對上一個項目一次或多次。</span><span class="sxs-lookup"><span data-stu-id="e684c-277">Matches the previous element one or more times.</span></span>|`"be+"`|<span data-ttu-id="e684c-278">`"been"` 中的 `"bee"`、`"bent"` 中的 `"be"`</span><span class="sxs-lookup"><span data-stu-id="e684c-278">`"bee"` in `"been"`, `"be"` in `"bent"`</span></span>|
|`?`|<span data-ttu-id="e684c-279">比對上一個項目零次或一次。</span><span class="sxs-lookup"><span data-stu-id="e684c-279">Matches the previous element zero or one time.</span></span>|`"rai?n"`|<span data-ttu-id="e684c-280">`"ran"`, `"rain"`</span><span class="sxs-lookup"><span data-stu-id="e684c-280">`"ran"`, `"rain"`</span></span>|
|<span data-ttu-id="e684c-281">`{`*n*`}`</span><span class="sxs-lookup"><span data-stu-id="e684c-281">`{` *n* `}`</span></span>|<span data-ttu-id="e684c-282">比對上一個項目剛好 *n* 次。</span><span class="sxs-lookup"><span data-stu-id="e684c-282">Matches the previous element exactly *n* times.</span></span>|`",\d{3}"`|<span data-ttu-id="e684c-283">`"1,043.6"` 中的 `",043"`、`"9,876,543,210"` 中的 `",876"`、`",543"` 和 `",210"`</span><span class="sxs-lookup"><span data-stu-id="e684c-283">`",043"` in `"1,043.6"`, `",876"`, `",543"`, and `",210"` in `"9,876,543,210"`</span></span>|
|<span data-ttu-id="e684c-284">`{`*n*`,}`</span><span class="sxs-lookup"><span data-stu-id="e684c-284">`{` *n* `,}`</span></span>|<span data-ttu-id="e684c-285">比對上一個項目至少 *n* 次。</span><span class="sxs-lookup"><span data-stu-id="e684c-285">Matches the previous element at least *n* times.</span></span>|`"\d{2,}"`|<span data-ttu-id="e684c-286">`"166"`, `"29"`, `"1930"`</span><span class="sxs-lookup"><span data-stu-id="e684c-286">`"166"`, `"29"`, `"1930"`</span></span>|
|<span data-ttu-id="e684c-287">`{`*n* `,` *m*`}`</span><span class="sxs-lookup"><span data-stu-id="e684c-287">`{` *n* `,` *m* `}`</span></span>|<span data-ttu-id="e684c-288">比對上一個項目至少 *n* 次，但不超過 *m* 次。</span><span class="sxs-lookup"><span data-stu-id="e684c-288">Matches the previous element at least *n* times, but no more than *m* times.</span></span>|`"\d{3,5}"`|<span data-ttu-id="e684c-289">`"166"`, `"17668"`</span><span class="sxs-lookup"><span data-stu-id="e684c-289">`"166"`, `"17668"`</span></span><br /><br /> <span data-ttu-id="e684c-290">`"193024"` 中的 `"19302"`</span><span class="sxs-lookup"><span data-stu-id="e684c-290">`"19302"` in `"193024"`</span></span>|
|`*?`|<span data-ttu-id="e684c-291">比對上一個項目零次以上，但越少次越好。</span><span class="sxs-lookup"><span data-stu-id="e684c-291">Matches the previous element zero or more times, but as few times as possible.</span></span>|`\d*?\.\d`|<span data-ttu-id="e684c-292">`".0"`, `"19.9"`, `"219.9"`</span><span class="sxs-lookup"><span data-stu-id="e684c-292">`".0"`, `"19.9"`, `"219.9"`</span></span>|
|`+?`|<span data-ttu-id="e684c-293">比對上一個項目一次或多次，但越少次越好。</span><span class="sxs-lookup"><span data-stu-id="e684c-293">Matches the previous element one or more times, but as few times as possible.</span></span>|`"be+?"`|<span data-ttu-id="e684c-294">`"been"` 中的 `"be"`、`"bent"` 中的 `"be"`</span><span class="sxs-lookup"><span data-stu-id="e684c-294">`"be"` in `"been"`, `"be"` in `"bent"`</span></span>|
|`??`|<span data-ttu-id="e684c-295">比對上一個項目零次或一次，但越少次越好。</span><span class="sxs-lookup"><span data-stu-id="e684c-295">Matches the previous element zero or one time, but as few times as possible.</span></span>|`"rai??n"`|<span data-ttu-id="e684c-296">`"ran"`, `"rain"`</span><span class="sxs-lookup"><span data-stu-id="e684c-296">`"ran"`, `"rain"`</span></span>|
|<span data-ttu-id="e684c-297">`{`*n*`}?`</span><span class="sxs-lookup"><span data-stu-id="e684c-297">`{` *n* `}?`</span></span>|<span data-ttu-id="e684c-298">比對前一個項目剛好 *n* 次。</span><span class="sxs-lookup"><span data-stu-id="e684c-298">Matches the preceding element exactly *n* times.</span></span>|`",\d{3}?"`|<span data-ttu-id="e684c-299">`"1,043.6"` 中的 `",043"`、`"9,876,543,210"` 中的 `",876"`、`",543"` 和 `",210"`</span><span class="sxs-lookup"><span data-stu-id="e684c-299">`",043"` in `"1,043.6"`, `",876"`, `",543"`, and `",210"` in `"9,876,543,210"`</span></span>|
|<span data-ttu-id="e684c-300">`{`*n*`,}?`</span><span class="sxs-lookup"><span data-stu-id="e684c-300">`{` *n* `,}?`</span></span>|<span data-ttu-id="e684c-301">比對前一個項目至少 *n* 次，但愈少次愈好。</span><span class="sxs-lookup"><span data-stu-id="e684c-301">Matches the previous element at least *n* times, but as few times as possible.</span></span>|`"\d{2,}?"`|<span data-ttu-id="e684c-302">`"166"`, `"29"`, `"1930"`</span><span class="sxs-lookup"><span data-stu-id="e684c-302">`"166"`, `"29"`, `"1930"`</span></span>|
|<span data-ttu-id="e684c-303">`{`*n* `,` *m*`}?`</span><span class="sxs-lookup"><span data-stu-id="e684c-303">`{` *n* `,` *m* `}?`</span></span>|<span data-ttu-id="e684c-304">比對前一個項目 *n* 到 *m* 次，但次數愈少愈好。</span><span class="sxs-lookup"><span data-stu-id="e684c-304">Matches the previous element between *n* and *m* times, but as few times as possible.</span></span>|`"\d{3,5}?"`|<span data-ttu-id="e684c-305">`"166"`, `"17668"`</span><span class="sxs-lookup"><span data-stu-id="e684c-305">`"166"`, `"17668"`</span></span><br /><br /> <span data-ttu-id="e684c-306">`"193024"` 中的 `"193"`、`"024"`</span><span class="sxs-lookup"><span data-stu-id="e684c-306">`"193"`, `"024"` in `"193024"`</span></span>|

## <a name="backreference-constructs"></a><span data-ttu-id="e684c-307">反向參考建構</span><span class="sxs-lookup"><span data-stu-id="e684c-307">Backreference Constructs</span></span>

<span data-ttu-id="e684c-308">反向參考可於後來在相同規則運算式中再識別先前符合的子運算式。</span><span class="sxs-lookup"><span data-stu-id="e684c-308">A backreference allows a previously matched subexpression to be identified subsequently in the same regular expression.</span></span> <span data-ttu-id="e684c-309">下表列出 .NET 中規則運算式所支援的反向參考建構。</span><span class="sxs-lookup"><span data-stu-id="e684c-309">The following table lists the backreference constructs supported by regular expressions in .NET.</span></span> <span data-ttu-id="e684c-310">如需詳細資訊，請參閱[反向參考建構](backreference-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-310">For more information, see [Backreference Constructs](backreference-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-311">反向參考建構</span><span class="sxs-lookup"><span data-stu-id="e684c-311">Backreference construct</span></span>|<span data-ttu-id="e684c-312">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-312">Description</span></span>|<span data-ttu-id="e684c-313">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-313">Pattern</span></span>|<span data-ttu-id="e684c-314">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-314">Matches</span></span>|
|-----------------------------|-----------------|-------------|-------------|
|<span data-ttu-id="e684c-315">`\`*數位*</span><span class="sxs-lookup"><span data-stu-id="e684c-315">`\` *number*</span></span>|<span data-ttu-id="e684c-316">反向參考。</span><span class="sxs-lookup"><span data-stu-id="e684c-316">Backreference.</span></span> <span data-ttu-id="e684c-317">比對編號子運算式的值。</span><span class="sxs-lookup"><span data-stu-id="e684c-317">Matches the value of a numbered subexpression.</span></span>|`(\w)\1`|<span data-ttu-id="e684c-318">`"seek"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="e684c-318">`"ee"` in `"seek"`</span></span>|
|<span data-ttu-id="e684c-319">`\k<`*名稱*`>`</span><span class="sxs-lookup"><span data-stu-id="e684c-319">`\k<` *name* `>`</span></span>|<span data-ttu-id="e684c-320">命名的反向參考。</span><span class="sxs-lookup"><span data-stu-id="e684c-320">Named backreference.</span></span> <span data-ttu-id="e684c-321">比對具名運算式的值。</span><span class="sxs-lookup"><span data-stu-id="e684c-321">Matches the value of a named expression.</span></span>|`(?<char>\w)\k<char>`|<span data-ttu-id="e684c-322">`"seek"` 中的 `"ee"`</span><span class="sxs-lookup"><span data-stu-id="e684c-322">`"ee"` in `"seek"`</span></span>|

## <a name="alternation-constructs"></a><span data-ttu-id="e684c-323">替代建構</span><span class="sxs-lookup"><span data-stu-id="e684c-323">Alternation Constructs</span></span>

<span data-ttu-id="e684c-324">替代建構會修改規則運算式來啟用二選一比對。</span><span class="sxs-lookup"><span data-stu-id="e684c-324">Alternation constructs modify a regular expression to enable either/or matching.</span></span> <span data-ttu-id="e684c-325">這些建構包含下表列出的語言元素。</span><span class="sxs-lookup"><span data-stu-id="e684c-325">These constructs include the language elements listed in the following table.</span></span> <span data-ttu-id="e684c-326">如需詳細資訊，請參閱[替代建構](alternation-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-326">For more information, see [Alternation Constructs](alternation-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-327">替代建構</span><span class="sxs-lookup"><span data-stu-id="e684c-327">Alternation construct</span></span>|<span data-ttu-id="e684c-328">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-328">Description</span></span>|<span data-ttu-id="e684c-329">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-329">Pattern</span></span>|<span data-ttu-id="e684c-330">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-330">Matches</span></span>|
|---------------------------|-----------------|-------------|-------------|
|<code>&#124;</code>|<span data-ttu-id="e684c-331">比對由分隔號 (<code>&#124;</code>) 字元所隔開的任何一個項目。</span><span class="sxs-lookup"><span data-stu-id="e684c-331">Matches any one element separated by the vertical bar (<code>&#124;</code>) character.</span></span>|<code>th(e&#124;is&#124;at)</code>|<span data-ttu-id="e684c-332">`"this is the day."` 中的 `"the"`、`"this"`</span><span class="sxs-lookup"><span data-stu-id="e684c-332">`"the"`, `"this"` in `"this is the day."`</span></span>|
|<span data-ttu-id="e684c-333">`(?(` *expression* `)` *yes* <code>&#124;</code> *no* `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-333">`(?(` *expression* `)` *yes* <code>&#124;</code> *no* `)`</span></span>|<span data-ttu-id="e684c-334">如果 *expression* 所指定的規則運算式模式相符，則比對 *yes*，否則比對選擇性的 *no* 部分。</span><span class="sxs-lookup"><span data-stu-id="e684c-334">Matches *yes* if the regular expression pattern designated by *expression* matches; otherwise, matches the optional *no* part.</span></span> <span data-ttu-id="e684c-335">*expression* 會解譯為零寬度判斷提示。</span><span class="sxs-lookup"><span data-stu-id="e684c-335">*expression* is interpreted as a zero-width assertion.</span></span>|<code>(?(A)A\d{2}\b&#124;\b\d{3}\b)</code>|<span data-ttu-id="e684c-336">`"A10 C103 910"` 中的 `"A10"`、`"910"`</span><span class="sxs-lookup"><span data-stu-id="e684c-336">`"A10"`, `"910"` in `"A10 C103 910"`</span></span>|
|<span data-ttu-id="e684c-337">`(?(` *name* `)` *yes* <code>&#124;</code> *no* `)`</span><span class="sxs-lookup"><span data-stu-id="e684c-337">`(?(` *name* `)` *yes* <code>&#124;</code> *no* `)`</span></span>|<span data-ttu-id="e684c-338">如果 *name* (具名或編號擷取群組) 有相符項目，則比對 *yes*，否則比對選擇性的 *no*。</span><span class="sxs-lookup"><span data-stu-id="e684c-338">Matches *yes* if *name*, a named or numbered capturing group, has a match; otherwise, matches the optional *no*.</span></span>|<code>(?&lt;quoted&gt;&quot;)?(?(quoted).+?&quot;&#124;\S+\s)</code>|<span data-ttu-id="e684c-339">`"Dogs.jpg \"Yiska playing.jpg\""` 中的 `"Dogs.jpg "`、`"\"Yiska playing.jpg\""`</span><span class="sxs-lookup"><span data-stu-id="e684c-339">`"Dogs.jpg "`, `"\"Yiska playing.jpg\""` in `"Dogs.jpg \"Yiska playing.jpg\""`</span></span>|

## <a name="substitutions"></a><span data-ttu-id="e684c-340">替代</span><span class="sxs-lookup"><span data-stu-id="e684c-340">Substitutions</span></span>

<span data-ttu-id="e684c-341">替代是取代模式中支援的規則運算式語言項目。</span><span class="sxs-lookup"><span data-stu-id="e684c-341">Substitutions are regular expression language elements that are supported in replacement patterns.</span></span> <span data-ttu-id="e684c-342">如需詳細資訊，請參閱[替代](substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-342">For more information, see [Substitutions](substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="e684c-343">下表列出的 metacharacter 是原子零寬度判斷提示。</span><span class="sxs-lookup"><span data-stu-id="e684c-343">The metacharacters listed in the following table are atomic zero-width assertions.</span></span>

|<span data-ttu-id="e684c-344">字元</span><span class="sxs-lookup"><span data-stu-id="e684c-344">Character</span></span>|<span data-ttu-id="e684c-345">描述</span><span class="sxs-lookup"><span data-stu-id="e684c-345">Description</span></span>|<span data-ttu-id="e684c-346">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-346">Pattern</span></span>|<span data-ttu-id="e684c-347">取代模式</span><span class="sxs-lookup"><span data-stu-id="e684c-347">Replacement pattern</span></span>|<span data-ttu-id="e684c-348">輸入字串</span><span class="sxs-lookup"><span data-stu-id="e684c-348">Input string</span></span>|<span data-ttu-id="e684c-349">結果字串</span><span class="sxs-lookup"><span data-stu-id="e684c-349">Result string</span></span>|
|---------------|-----------------|-------------|-------------------------|------------------|-------------------|
|<span data-ttu-id="e684c-350">`$`*數位*</span><span class="sxs-lookup"><span data-stu-id="e684c-350">`$` *number*</span></span>|<span data-ttu-id="e684c-351">替代群組 *number* 所比對的子字串。</span><span class="sxs-lookup"><span data-stu-id="e684c-351">Substitutes the substring matched by group *number*.</span></span>|`\b(\w+)(\s)(\w+)\b`|`$3$2$1`|`"one two"`|`"two one"`|
|<span data-ttu-id="e684c-352">`${`*名稱*`}`</span><span class="sxs-lookup"><span data-stu-id="e684c-352">`${` *name* `}`</span></span>|<span data-ttu-id="e684c-353">替代具名群組 *name* 所比對的子字串。</span><span class="sxs-lookup"><span data-stu-id="e684c-353">Substitutes the substring matched by the named group *name*.</span></span>|`\b(?<word1>\w+)(\s)(?<word2>\w+)\b`|`${word2} ${word1}`|`"one two"`|`"two one"`|
|`$$`|<span data-ttu-id="e684c-354">替代常值 "$"。</span><span class="sxs-lookup"><span data-stu-id="e684c-354">Substitutes a literal "$".</span></span>|`\b(\d+)\s?USD`|`$$$1`|`"103 USD"`|`"$103"`|
|`$&`|<span data-ttu-id="e684c-355">替代整個符合項目的複本。</span><span class="sxs-lookup"><span data-stu-id="e684c-355">Substitutes a copy of the whole match.</span></span>|`\$?\d*\.?\d+`|`**$&**`|`"$1.30"`|`"**$1.30**"`|
|``$` ``|<span data-ttu-id="e684c-356">替代輸入字串中符合字串前面的所有文字。</span><span class="sxs-lookup"><span data-stu-id="e684c-356">Substitutes all the text of the input string before the match.</span></span>|`B+`|``$` ``|`"AABBCC"`|`"AAAACC"`|
|`$'`|<span data-ttu-id="e684c-357">替代輸入字串中符合字串後面的所有文字。</span><span class="sxs-lookup"><span data-stu-id="e684c-357">Substitutes all the text of the input string after the match.</span></span>|`B+`|`$'`|`"AABBCC"`|`"AACCCC"`|
|`$+`|<span data-ttu-id="e684c-358">替代已擷取的最後一個群組。</span><span class="sxs-lookup"><span data-stu-id="e684c-358">Substitutes the last group that was captured.</span></span>|`B+(C+)`|`$+`|`"AABBCCDD"`|`"AACCDD"`|
|`$_`|<span data-ttu-id="e684c-359">替代整個輸入字串。</span><span class="sxs-lookup"><span data-stu-id="e684c-359">Substitutes the entire input string.</span></span>|`B+`|`$_`|`"AABBCC"`|`"AAAABBCCCC"`|

## <a name="regular-expression-options"></a><span data-ttu-id="e684c-360">規則運算式選項</span><span class="sxs-lookup"><span data-stu-id="e684c-360">Regular Expression Options</span></span>

<span data-ttu-id="e684c-361">您可以指定選項，以控制規則運算式引擎如何解譯規則運算式模式。</span><span class="sxs-lookup"><span data-stu-id="e684c-361">You can specify options that control how the regular expression engine interprets a regular expression pattern.</span></span> <span data-ttu-id="e684c-362">這些選項中有許多可以指定為內嵌 (在規則運算式模式中) 或是一個或多個 <xref:System.Text.RegularExpressions.RegexOptions> 常數。</span><span class="sxs-lookup"><span data-stu-id="e684c-362">Many of these options can be specified either inline (in the regular expression pattern) or as one or more <xref:System.Text.RegularExpressions.RegexOptions> constants.</span></span> <span data-ttu-id="e684c-363">這個快速參考只列出內嵌選項。</span><span class="sxs-lookup"><span data-stu-id="e684c-363">This quick reference lists only inline options.</span></span> <span data-ttu-id="e684c-364">如需內嵌和 <xref:System.Text.RegularExpressions.RegexOptions> 選項的詳細資訊，請參閱[規則運算式選項](regular-expression-options.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-364">For more information about inline and <xref:System.Text.RegularExpressions.RegexOptions> options, see the article [Regular Expression Options](regular-expression-options.md).</span></span>

<span data-ttu-id="e684c-365">您可以透過兩種方式指定內嵌選項：</span><span class="sxs-lookup"><span data-stu-id="e684c-365">You can specify an inline option in two ways:</span></span>

- <span data-ttu-id="e684c-366">使用[其他建構](miscellaneous-constructs-in-regular-expressions.md) `(?imnsx-imnsx)`，其中選項或選項集合前面的減號 (-) 會關閉這些選項。</span><span class="sxs-lookup"><span data-stu-id="e684c-366">By using the [miscellaneous construct](miscellaneous-constructs-in-regular-expressions.md) `(?imnsx-imnsx)`, where a minus sign (-) before an option or set of options turns those options off.</span></span> <span data-ttu-id="e684c-367">例如，`(?i-mn)` 會開啟不區分大小寫的比對 (`i`)、關閉多行模式 (`m`)，以及關閉未命名的群組擷取 (`n`)。</span><span class="sxs-lookup"><span data-stu-id="e684c-367">For example, `(?i-mn)` turns case-insensitive matching (`i`) on, turns multiline mode (`m`) off, and turns unnamed group captures (`n`) off.</span></span> <span data-ttu-id="e684c-368">選項會從定義該選項的位置開始套用至規則運算式模式並且保持生效，直到模式結尾或出現另一個建構反轉選項為止。</span><span class="sxs-lookup"><span data-stu-id="e684c-368">The option applies to the regular expression pattern from the point at which the option is defined, and is effective either to the end of the pattern or to the point where another construct reverses the option.</span></span>
- <span data-ttu-id="e684c-369">使用 [群組結構](grouping-constructs-in-regular-expressions.md) `(?imnsx-imnsx:` *子運算式* `)` ，只定義指定群組的選項。</span><span class="sxs-lookup"><span data-stu-id="e684c-369">By using the [grouping construct](grouping-constructs-in-regular-expressions.md)`(?imnsx-imnsx:`*subexpression*`)`, which defines options for the specified group only.</span></span>

<span data-ttu-id="e684c-370">.NET 正則運算式引擎支援下列內嵌選項：</span><span class="sxs-lookup"><span data-stu-id="e684c-370">The .NET regular expression engine supports the following inline options:</span></span>

|<span data-ttu-id="e684c-371">選項</span><span class="sxs-lookup"><span data-stu-id="e684c-371">Option</span></span>|<span data-ttu-id="e684c-372">說明</span><span class="sxs-lookup"><span data-stu-id="e684c-372">Description</span></span>|<span data-ttu-id="e684c-373">模式</span><span class="sxs-lookup"><span data-stu-id="e684c-373">Pattern</span></span>|<span data-ttu-id="e684c-374">相符項</span><span class="sxs-lookup"><span data-stu-id="e684c-374">Matches</span></span>|
|------------|-----------------|-------------|-------------|
|`i`|<span data-ttu-id="e684c-375">使用不區分大小寫的比對方式。</span><span class="sxs-lookup"><span data-stu-id="e684c-375">Use case-insensitive matching.</span></span>|`\b(?i)a(?-i)a\w+\b`|<span data-ttu-id="e684c-376">`"aardvark AAAuto aaaAuto Adam breakfast"` 中的 `"aardvark"`、`"aaaAuto"`</span><span class="sxs-lookup"><span data-stu-id="e684c-376">`"aardvark"`, `"aaaAuto"` in `"aardvark AAAuto aaaAuto Adam breakfast"`</span></span>|
|`m`|<span data-ttu-id="e684c-377">使用多行模式。</span><span class="sxs-lookup"><span data-stu-id="e684c-377">Use multiline mode.</span></span> <span data-ttu-id="e684c-378">`^` 和 `$` 會比對行的開頭與結尾，而不是字串的開始和結尾。</span><span class="sxs-lookup"><span data-stu-id="e684c-378">`^` and `$` match the beginning and end of a line, instead of the beginning and end of a string.</span></span>|<span data-ttu-id="e684c-379">如需範例，請參閱 [正則運算式選項](regular-expression-options.md)中的「多行模式」一節。</span><span class="sxs-lookup"><span data-stu-id="e684c-379">For an example, see the "Multiline Mode" section in [Regular Expression Options](regular-expression-options.md).</span></span>||
|`n`|<span data-ttu-id="e684c-380">不擷取未命名的群組。</span><span class="sxs-lookup"><span data-stu-id="e684c-380">Do not capture unnamed groups.</span></span>|<span data-ttu-id="e684c-381">如需範例，請參閱 [正則運算式選項](regular-expression-options.md)中的「僅明確捕捉」一節。</span><span class="sxs-lookup"><span data-stu-id="e684c-381">For an example, see the "Explicit Captures Only" section in [Regular Expression Options](regular-expression-options.md).</span></span>||
|`s`|<span data-ttu-id="e684c-382">使用單行模式。</span><span class="sxs-lookup"><span data-stu-id="e684c-382">Use single-line mode.</span></span>|<span data-ttu-id="e684c-383">如需範例，請參閱 [正則運算式選項](regular-expression-options.md)中的「單行模式」一節。</span><span class="sxs-lookup"><span data-stu-id="e684c-383">For an example, see the "Single-line Mode" section in [Regular Expression Options](regular-expression-options.md).</span></span>||
|`x`|<span data-ttu-id="e684c-384">忽略規則運算式模式中未逸出的空白字元。</span><span class="sxs-lookup"><span data-stu-id="e684c-384">Ignore unescaped white space in the regular expression pattern.</span></span>|`\b(?x) \d+ \s \w+`|<span data-ttu-id="e684c-385">`"1 aardvark 2 cats IV centurions"` 中的 `"1 aardvark"`、`"2 cats"`</span><span class="sxs-lookup"><span data-stu-id="e684c-385">`"1 aardvark"`, `"2 cats"` in `"1 aardvark 2 cats IV centurions"`</span></span>|

## <a name="miscellaneous-constructs"></a><span data-ttu-id="e684c-386">其他建構</span><span class="sxs-lookup"><span data-stu-id="e684c-386">Miscellaneous Constructs</span></span>

<span data-ttu-id="e684c-387">其他建構會修改規則運算式模式或提供其相關資訊。</span><span class="sxs-lookup"><span data-stu-id="e684c-387">Miscellaneous constructs either modify a regular expression pattern or provide information about it.</span></span> <span data-ttu-id="e684c-388">下表列出 .NET 所支援的其他建構。</span><span class="sxs-lookup"><span data-stu-id="e684c-388">The following table lists the miscellaneous constructs supported by .NET.</span></span> <span data-ttu-id="e684c-389">如需詳細資訊，請參閱[其他建構](miscellaneous-constructs-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-389">For more information, see [Miscellaneous Constructs](miscellaneous-constructs-in-regular-expressions.md).</span></span>

|<span data-ttu-id="e684c-390">建構</span><span class="sxs-lookup"><span data-stu-id="e684c-390">Construct</span></span>|<span data-ttu-id="e684c-391">定義</span><span class="sxs-lookup"><span data-stu-id="e684c-391">Definition</span></span>|<span data-ttu-id="e684c-392">範例</span><span class="sxs-lookup"><span data-stu-id="e684c-392">Example</span></span>|
|---------------|----------------|-------------|
|`(?imnsx-imnsx)`|<span data-ttu-id="e684c-393">在模式中間設定或停用選項，例如不區分大小寫。如需詳細資訊，請參閱[規則運算式選項](regular-expression-options.md)。</span><span class="sxs-lookup"><span data-stu-id="e684c-393">Sets or disables options such as case insensitivity in the middle of a pattern.For more information, see [Regular Expression Options](regular-expression-options.md).</span></span>|<span data-ttu-id="e684c-394">`\bA(?i)b\w+\b` 會比對 `"ABA Able Act"` 中的 `"ABA"`、`"Able"`</span><span class="sxs-lookup"><span data-stu-id="e684c-394">`\bA(?i)b\w+\b` matches `"ABA"`, `"Able"` in `"ABA Able Act"`</span></span>|
|<span data-ttu-id="e684c-395">`(?#`*批註*`)`</span><span class="sxs-lookup"><span data-stu-id="e684c-395">`(?#` *comment* `)`</span></span>|<span data-ttu-id="e684c-396">內嵌註解。</span><span class="sxs-lookup"><span data-stu-id="e684c-396">Inline comment.</span></span> <span data-ttu-id="e684c-397">註解會在第一個右括號結束。</span><span class="sxs-lookup"><span data-stu-id="e684c-397">The comment ends at the first closing parenthesis.</span></span>|`\bA(?#Matches words starting with A)\w+\b`|
|<span data-ttu-id="e684c-398">`#` [至行尾]</span><span class="sxs-lookup"><span data-stu-id="e684c-398">`#` [to end of line]</span></span>|<span data-ttu-id="e684c-399">X 模式註解。</span><span class="sxs-lookup"><span data-stu-id="e684c-399">X-mode comment.</span></span> <span data-ttu-id="e684c-400">註解從未逸出的 `#` 開始，並延續到行尾。</span><span class="sxs-lookup"><span data-stu-id="e684c-400">The comment starts at an unescaped `#` and continues to the end of the line.</span></span>|`(?x)\bA\w+\b#Matches words starting with A`|

## <a name="see-also"></a><span data-ttu-id="e684c-401">請參閱</span><span class="sxs-lookup"><span data-stu-id="e684c-401">See also</span></span>

- <xref:System.Text.RegularExpressions?displayProperty=nameWithType>
- <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType>
- <span data-ttu-id="e684c-402">[[規則運算式]](regular-expressions.md)</span><span class="sxs-lookup"><span data-stu-id="e684c-402">[Regular Expressions](regular-expressions.md)</span></span>
- [<span data-ttu-id="e684c-403">規則運算式類別</span><span class="sxs-lookup"><span data-stu-id="e684c-403">Regular Expression Classes</span></span>](the-regular-expression-object-model.md)
- [<span data-ttu-id="e684c-404">規則運算式 - 快速參考 (以 Word 格式下載)</span><span class="sxs-lookup"><span data-stu-id="e684c-404">Regular Expressions - Quick Reference (download in Word format)</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)
- [<span data-ttu-id="e684c-405">規則運算式 - 快速參考 (以 PDF 格式下載)</span><span class="sxs-lookup"><span data-stu-id="e684c-405">Regular Expressions - Quick Reference (download in PDF format)</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)
