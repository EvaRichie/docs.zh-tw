---
description: 編譯器警告 (層級 1) CS1699
title: 編譯器警告 (層級 1) CS1699
ms.date: 07/20/2015
f1_keywords:
- CS1699
helpviewer_keywords:
- CS1699
ms.assetid: acf4b57d-8534-4417-9324-65415b5676ae
ms.openlocfilehash: 2a35512d88c410c1f74c5bcef0914414d9c0a2d5
ms.sourcegitcommit: d579fb5e4b46745fd0f1f8874c94c6469ce58604
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/30/2020
ms.locfileid: "89128864"
---
# <a name="compiler-warning-level-1-cs1699"></a><span data-ttu-id="e4648-103">編譯器警告 (層級 1) CS1699</span><span class="sxs-lookup"><span data-stu-id="e4648-103">Compiler Warning (level 1) CS1699</span></span>
<span data-ttu-id="e4648-104">請用命令列選項 "compiler_option" 或適當的專案設定來取代 "attribute_name"</span><span class="sxs-lookup"><span data-stu-id="e4648-104">Use command line option "compiler_option" or appropriate project settings instead of "attribute_name"</span></span>  
  
 <span data-ttu-id="e4648-105">若要簽署組件，就必須指定金鑰檔。</span><span class="sxs-lookup"><span data-stu-id="e4648-105">In order to sign an assembly, it is necessary to specify a key file.</span></span> <span data-ttu-id="e4648-106">在 C# 2.0 以前，您可以在原始程式碼中使用 CLR 屬性指定金鑰檔案。</span><span class="sxs-lookup"><span data-stu-id="e4648-106">Prior to C# 2.0, you specified the key file using CLR attributes in source code.</span></span> <span data-ttu-id="e4648-107">這些屬性現在已被取代。</span><span class="sxs-lookup"><span data-stu-id="e4648-107">These attributes are now deprecated.</span></span>  
  
 <span data-ttu-id="e4648-108">從 C# 2.0 開始，您應使用 [專案設計工具]\*\*\*\* 的 [簽署頁面]\*\*\*\* 或組件連結器來指定金鑰檔案。</span><span class="sxs-lookup"><span data-stu-id="e4648-108">Beginning with C# 2.0, you should use the **Signing Page** of the **Project Designer** or the Assembly Linker to specify the key file.</span></span>  
  
 <span data-ttu-id="e4648-109">[專案設計工具]\*\*\*\* 的 [簽署]\*\*\*\* 頁面是慣用的方法；如需詳細資訊，請參閱[專案設計工具、簽署頁](/visualstudio/ide/reference/signing-page-project-designer)和[管理組件和資訊清單簽署](/visualstudio/ide/managing-assembly-and-manifest-signing)。</span><span class="sxs-lookup"><span data-stu-id="e4648-109">The **Signing Page** of the **Project Designer** is the preferred method; for more information, see [Signing Page, Project Designer](/visualstudio/ide/reference/signing-page-project-designer) and [Managing Assembly and Manifest Signing](/visualstudio/ide/managing-assembly-and-manifest-signing).</span></span>  
  
 <span data-ttu-id="e4648-110">[如何︰使用強式名稱簽署組件](../../../standard/assembly/sign-strong-name.md)使用下列編譯器選項︰</span><span class="sxs-lookup"><span data-stu-id="e4648-110">The [How to: Sign an Assembly with a Strong Name](../../../standard/assembly/sign-strong-name.md) uses the following compiler options:</span></span>  
  
- <span data-ttu-id="e4648-111">[-keyfile (c # 編譯器選項) ](../compiler-options/keyfile-compiler-option.md) ，而不是 <xref:System.Reflection.AssemblyKeyFileAttribute> 屬性。</span><span class="sxs-lookup"><span data-stu-id="e4648-111">[-keyfile (C# Compiler Options)](../compiler-options/keyfile-compiler-option.md) instead of the <xref:System.Reflection.AssemblyKeyFileAttribute> attribute.</span></span>  
  
- <span data-ttu-id="e4648-112">[-keycontainer (c # 編譯器選項) ](../compiler-options/keycontainer-compiler-option.md) 而不是 <xref:System.Reflection.AssemblyKeyNameAttribute> 。</span><span class="sxs-lookup"><span data-stu-id="e4648-112">[-keycontainer (C# Compiler Options)](../compiler-options/keycontainer-compiler-option.md) instead of <xref:System.Reflection.AssemblyKeyNameAttribute>.</span></span>  
  
- <span data-ttu-id="e4648-113">[-delaysign (c # 編譯器選項) ](../compiler-options/delaysign-compiler-option.md) 而不是 <xref:System.Reflection.AssemblyDelaySignAttribute> 。</span><span class="sxs-lookup"><span data-stu-id="e4648-113">[-delaysign (C# Compiler Options)](../compiler-options/delaysign-compiler-option.md) instead of <xref:System.Reflection.AssemblyDelaySignAttribute>.</span></span>  
  
 <span data-ttu-id="e4648-114">這些屬性已被取代，原因如下︰</span><span class="sxs-lookup"><span data-stu-id="e4648-114">These attributes have been deprecated for the following reasons:</span></span>  
  
- <span data-ttu-id="e4648-115">發生安全性問題，因為屬性內嵌在編譯器產生的二進位檔中。</span><span class="sxs-lookup"><span data-stu-id="e4648-115">There were security issues due to the attributes being embedded in the binary files produced by the compiler.</span></span> <span data-ttu-id="e4648-116">擁有您二進位檔的每一位使用者也都擁有其中儲存的金鑰。</span><span class="sxs-lookup"><span data-stu-id="e4648-116">Everyone who had your binary also had the keys stored in it.</span></span>  
  
- <span data-ttu-id="e4648-117">發生可用性問題，因為屬性中指定的路徑是相對於目前工作目錄 (這可能會在整合式開發環境 (IDE) 中改變)，或者是相對於輸出目錄。</span><span class="sxs-lookup"><span data-stu-id="e4648-117">There were usability issues due to the fact that the path specified in the attributes was relative to the current working directory, which could change in the integrated development environment (IDE), or to the output directory.</span></span> <span data-ttu-id="e4648-118">因此，在大部分情況下，金鑰檔可能位於 ..\\\\..\\mykey.snk。</span><span class="sxs-lookup"><span data-stu-id="e4648-118">Thus, most times the key file is likely to be ..\\\\..\\\mykey.snk.</span></span> <span data-ttu-id="e4648-119">屬性也使得專案系統正確簽署附屬組件更困難。</span><span class="sxs-lookup"><span data-stu-id="e4648-119">Attributes also make it more difficult for the project system to properly sign satellite assemblies.</span></span> <span data-ttu-id="e4648-120">當您使用編譯器選項而不是這些屬性時，您可以使用金鑰的完整路徑和檔案名稱，而不內嵌任何項目在輸出檔中。專案系統和原始程式碼控制系統可以在專案移動時正常操作完整路徑。專案系統可以維護金鑰檔案的專案相對路徑，並且仍將完整路徑傳遞給編譯器。其他建置程式可以更輕鬆地藉由將正確的路徑直接傳遞給編譯器來簽署輸出，而不是以正確屬性來產生來源檔案。</span><span class="sxs-lookup"><span data-stu-id="e4648-120">When you use the compiler options instead of these attributes, you can use a fully qualified path and file name for the key without anything being embedded in the output file; the project system and source code control system can properly manipulate that full path when projects are moved around; the project system can maintain a project-relative path to the key file, and still pass a full path to the compiler; other build programs can more easily sign outputs by passing the proper path directly to the compiler instead of generating a source file with the correct attributes.</span></span>  
  
- <span data-ttu-id="e4648-121">使用屬性與 Friend 組件可能會拖累編譯器效率。</span><span class="sxs-lookup"><span data-stu-id="e4648-121">Using attributes with friend assemblies can hamper compiler efficiency.</span></span> <span data-ttu-id="e4648-122">當您使用屬性時，編譯器不知道金鑰為何，但它必須決定是否要授與夥伴關係，因此必須猜測。</span><span class="sxs-lookup"><span data-stu-id="e4648-122">When you use attributes, the compiler does not know what the key is when it has to decide whether or not to grant friendship and so it has to guess.</span></span> <span data-ttu-id="e4648-123">在編譯結束時，編譯器最後知道金鑰之後便能夠確認先前的猜測。</span><span class="sxs-lookup"><span data-stu-id="e4648-123">At the end of compilation, the compiler is able to verify the guess once it finally knows the key.</span></span> <span data-ttu-id="e4648-124">使用編譯器選項指定金鑰檔時，編譯器可以立即判斷是否要授與夥伴關係。</span><span class="sxs-lookup"><span data-stu-id="e4648-124">When the key file is specified with a compiler option, the compiler can immediately decide whether to grant friendship.</span></span>  
  
## <a name="example"></a><span data-ttu-id="e4648-125">範例</span><span class="sxs-lookup"><span data-stu-id="e4648-125">Example</span></span>  
 <span data-ttu-id="e4648-126">下列範例會產生 CS1699。</span><span class="sxs-lookup"><span data-stu-id="e4648-126">The following sample generates CS1699.</span></span> <span data-ttu-id="e4648-127">若要解決此錯誤，請移除屬性，然後使用 **/delaysign** 進行編譯。</span><span class="sxs-lookup"><span data-stu-id="e4648-127">To resolve the error, remove the attribute and compile with **/delaysign**.</span></span>  
  
```csharp  
// CS1699.cs  
// compile with: /target:library  
[assembly:System.Reflection.AssemblyDelaySign(true)]   // CS1699  
```  
  
## <a name="see-also"></a><span data-ttu-id="e4648-128">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e4648-128">See also</span></span>

- [<span data-ttu-id="e4648-129">專案設計工具、簽署頁</span><span class="sxs-lookup"><span data-stu-id="e4648-129">Signing Page, Project Designer</span></span>](/visualstudio/ide/reference/signing-page-project-designer)
- [<span data-ttu-id="e4648-130">管理元件和資訊清單簽署</span><span class="sxs-lookup"><span data-stu-id="e4648-130">Managing Assembly and Manifest Signing</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing)
- [<span data-ttu-id="e4648-131">如何：使用強式名稱簽署組件</span><span class="sxs-lookup"><span data-stu-id="e4648-131">How to: Sign an Assembly with a Strong Name</span></span>](../../../standard/assembly/sign-strong-name.md)
