---
title: 泛型和反映 - C# 程式設計指南
description: 瞭解如何使用反映來取得泛型型別的相關資訊。 查看一般反映的條款及條件清單。
ms.date: 07/20/2015
helpviewer_keywords:
- generics [C#], reflection
- reflection [C#], generic types
ms.assetid: 162fd9b4-dd5b-4abb-8c9b-e44e21e2f451
ms.openlocfilehash: 6e4387fe7e78cd0e970531ae42f323efa8f181db
ms.sourcegitcommit: 6f58a5f75ceeb936f8ee5b786e9adb81a9a3bee9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/28/2020
ms.locfileid: "87299301"
---
# <a name="generics-and-reflection-c-programming-guide"></a><span data-ttu-id="ef290-104">泛型和反映 (C# 程式設計手冊)</span><span class="sxs-lookup"><span data-stu-id="ef290-104">Generics and Reflection (C# Programming Guide)</span></span>
<span data-ttu-id="ef290-105">由於 Common Language Runtime (CLR) 可在執行階段存取泛型型別資訊，因此您可以使用反映取得泛型型別的相關資訊，方法和取得非泛型型別的資訊相同。</span><span class="sxs-lookup"><span data-stu-id="ef290-105">Because the Common Language Runtime (CLR) has access to generic type information at run time, you can use reflection to obtain information about generic types in the same way as for non-generic types.</span></span> <span data-ttu-id="ef290-106">如需詳細資訊，請參閱[執行階段中的泛型](./generics-in-the-run-time.md)。</span><span class="sxs-lookup"><span data-stu-id="ef290-106">For more information, see [Generics in the Run Time](./generics-in-the-run-time.md).</span></span>  
  
 <span data-ttu-id="ef290-107">在 .NET Framework 2.0 中，已將數個新成員加入至 <xref:System.Type> 類別，以啟用泛型型別的執行時間資訊。</span><span class="sxs-lookup"><span data-stu-id="ef290-107">In .NET Framework 2.0, several new members were added to the <xref:System.Type> class to enable run-time information for generic types.</span></span> <span data-ttu-id="ef290-108">如需使用這些方法和屬性的詳細資訊，請參閱這些類別的文件。</span><span class="sxs-lookup"><span data-stu-id="ef290-108">See the documentation on these classes for more information on how to use these methods and properties.</span></span> <span data-ttu-id="ef290-109"><xref:System.Reflection.Emit> 命名空間也包含支援泛型的新成員。</span><span class="sxs-lookup"><span data-stu-id="ef290-109">The <xref:System.Reflection.Emit> namespace also contains new members that support generics.</span></span> <span data-ttu-id="ef290-110">請參閱[如何：使用反映發出定義泛型型別](../../../framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md)。</span><span class="sxs-lookup"><span data-stu-id="ef290-110">See [How to: Define a Generic Type with Reflection Emit](../../../framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md).</span></span>  
  
 <span data-ttu-id="ef290-111">如需泛型反映中所使用之規範的恆成立條件清單，請參閱 <xref:System.Type.IsGenericType%2A> 屬性備註。</span><span class="sxs-lookup"><span data-stu-id="ef290-111">For a list of the invariant conditions for terms used in generic reflection, see the <xref:System.Type.IsGenericType%2A> property remarks.</span></span>  
  
|<span data-ttu-id="ef290-112">System.Type 成員名稱</span><span class="sxs-lookup"><span data-stu-id="ef290-112">System.Type Member Name</span></span>|<span data-ttu-id="ef290-113">描述</span><span class="sxs-lookup"><span data-stu-id="ef290-113">Description</span></span>|  
|-----------------------------|-----------------|  
|<xref:System.Type.IsGenericType%2A>|<span data-ttu-id="ef290-114">如果類型是泛型，則傳回 true。</span><span class="sxs-lookup"><span data-stu-id="ef290-114">Returns true if a type is generic.</span></span>|  
|<xref:System.Type.GetGenericArguments%2A>|<span data-ttu-id="ef290-115">傳回 `Type` 物件的陣列，代表提供給建構類型的型別引數，或泛型型別定義的型別參數。</span><span class="sxs-lookup"><span data-stu-id="ef290-115">Returns an array of `Type` objects that represent the type arguments supplied for a constructed type, or the type parameters of a generic type definition.</span></span>|  
|<xref:System.Type.GetGenericTypeDefinition%2A>|<span data-ttu-id="ef290-116">傳回目前建構類型的基礎泛型型別定義。</span><span class="sxs-lookup"><span data-stu-id="ef290-116">Returns the underlying generic type definition for the current constructed type.</span></span>|  
|<xref:System.Type.GetGenericParameterConstraints%2A>|<span data-ttu-id="ef290-117">傳回由 `Type` 物件組成的陣列，這些物件代表對目前泛型類型參數所設下的條件約束。</span><span class="sxs-lookup"><span data-stu-id="ef290-117">Returns an array of `Type` objects that represent the constraints on the current generic type parameter.</span></span>|  
|<xref:System.Type.ContainsGenericParameters%2A>|<span data-ttu-id="ef290-118">如果類型或是其封入之任何類型或方法中，包含尚未提供其特定類型的型別參數，則傳回 true。</span><span class="sxs-lookup"><span data-stu-id="ef290-118">Returns true if the type or any of its enclosing types or methods contain type parameters for which specific types have not been supplied.</span></span>|  
|<xref:System.Type.GenericParameterAttributes%2A>|<span data-ttu-id="ef290-119">取得一組 `GenericParameterAttributes` 旗標，描述目前泛型型別參數的特殊條件約束。</span><span class="sxs-lookup"><span data-stu-id="ef290-119">Gets a combination of `GenericParameterAttributes` flags that describe the special constraints of the current generic type parameter.</span></span>|  
|<xref:System.Type.GenericParameterPosition%2A>|<span data-ttu-id="ef290-120">針對代表型別參數的 `Type` 物件，取得宣告型別參數之泛型型別定義或泛型方法定義中，型別參數清單內的型別參數位置。</span><span class="sxs-lookup"><span data-stu-id="ef290-120">For a `Type` object that represents a type parameter, gets the position of the type parameter in the type parameter list of the generic type definition or generic method definition that declared the type parameter.</span></span>|  
|<xref:System.Type.IsGenericParameter%2A>|<span data-ttu-id="ef290-121">取得值，指出目前的 `Type` 是否表示泛型型別或方法定義的型別參數。</span><span class="sxs-lookup"><span data-stu-id="ef290-121">Gets a value that indicates whether the current `Type` represents a type parameter of a generic type or method definition.</span></span>|  
|<xref:System.Type.IsGenericTypeDefinition%2A>|<span data-ttu-id="ef290-122">取得值，指出目前的 <xref:System.Type> 是否代表可用於建構其他泛型型別的泛型型別定義。</span><span class="sxs-lookup"><span data-stu-id="ef290-122">Gets a value that indicates whether the current <xref:System.Type> represents a generic type definition, from which other generic types can be constructed.</span></span> <span data-ttu-id="ef290-123">如果類型表示泛型型別的定義，則傳回 true。</span><span class="sxs-lookup"><span data-stu-id="ef290-123">Returns true if the type represents the definition of a generic type.</span></span>|  
|<xref:System.Type.DeclaringMethod%2A>|<span data-ttu-id="ef290-124">傳回定義目前泛型型別參數的泛型方法；如果泛型方法未定義型別參數，則為 Null。</span><span class="sxs-lookup"><span data-stu-id="ef290-124">Returns the generic method that defined the current generic type parameter, or null if the type parameter was not defined by a generic method.</span></span>|  
|<xref:System.Type.MakeGenericType%2A>|<span data-ttu-id="ef290-125">以類型陣列的項目取代目前泛型型別定義的型別參數，並傳回代表所得結果建構類型的 <xref:System.Type> 物件。</span><span class="sxs-lookup"><span data-stu-id="ef290-125">Substitutes the elements of an array of types for the type parameters of the current generic type definition, and returns a <xref:System.Type> object representing the resulting constructed type.</span></span>|  
  
 <span data-ttu-id="ef290-126">此外，<xref:System.Reflection.MethodInfo> 類別的成員會啟用泛型方法的執行階段資訊。</span><span class="sxs-lookup"><span data-stu-id="ef290-126">In addition, members of the <xref:System.Reflection.MethodInfo> class enable run-time information for generic methods.</span></span> <span data-ttu-id="ef290-127">如需用來在泛型方法上反映之規範的恆成立條件清單，請參閱 <xref:System.Reflection.MethodBase.IsGenericMethod%2A> 屬性備註。</span><span class="sxs-lookup"><span data-stu-id="ef290-127">See the <xref:System.Reflection.MethodBase.IsGenericMethod%2A> property remarks for a list of invariant conditions for terms used to reflect on generic methods.</span></span>  
  
|<span data-ttu-id="ef290-128">System.Reflection.MemberInfo 成員名稱</span><span class="sxs-lookup"><span data-stu-id="ef290-128">System.Reflection.MemberInfo Member Name</span></span>|<span data-ttu-id="ef290-129">描述</span><span class="sxs-lookup"><span data-stu-id="ef290-129">Description</span></span>|  
|----------------------------------------------|-----------------|  
|<xref:System.Reflection.MethodBase.IsGenericMethod%2A>|<span data-ttu-id="ef290-130">如果方法是泛型，則傳回 true。</span><span class="sxs-lookup"><span data-stu-id="ef290-130">Returns true if a method is generic.</span></span>|  
|<xref:System.Reflection.MethodInfo.GetGenericArguments%2A>|<span data-ttu-id="ef290-131">傳回 Type 物件的陣列，這些物件代表所建構泛型方法的型別引數，或泛型方法定義的型別參數。</span><span class="sxs-lookup"><span data-stu-id="ef290-131">Returns an array of Type objects that represent the type arguments of a constructed generic method or the type parameters of a generic method definition.</span></span>|  
|<xref:System.Reflection.MethodInfo.GetGenericMethodDefinition%2A>|<span data-ttu-id="ef290-132">傳回目前建構方法的基礎泛型方法定義。</span><span class="sxs-lookup"><span data-stu-id="ef290-132">Returns the underlying generic method definition for the current constructed method.</span></span>|  
|<xref:System.Reflection.MethodBase.ContainsGenericParameters%2A>|<span data-ttu-id="ef290-133">如果方法或是其封入之任何類型中，包含尚未提供其特定類型的任何型別參數，則傳回 true。</span><span class="sxs-lookup"><span data-stu-id="ef290-133">Returns true if the method or any of its enclosing types contain any type parameters for which specific types have not been supplied.</span></span>|  
|<xref:System.Reflection.MethodBase.IsGenericMethodDefinition%2A>|<span data-ttu-id="ef290-134">如果目前 <xref:System.Reflection.MethodInfo> 代表泛型方法的定義，則傳回 true。</span><span class="sxs-lookup"><span data-stu-id="ef290-134">Returns true if the current <xref:System.Reflection.MethodInfo> represents the definition of a generic method.</span></span>|  
|<xref:System.Reflection.MethodInfo.MakeGenericMethod%2A>|<span data-ttu-id="ef290-135">使用類型陣列的項目取代目前泛型方法定義的類型參數，並傳回代表所產生之建構方法的 <xref:System.Reflection.MethodInfo> 物件。</span><span class="sxs-lookup"><span data-stu-id="ef290-135">Substitutes the elements of an array of types for the type parameters of the current generic method definition, and returns a <xref:System.Reflection.MethodInfo> object representing the resulting constructed method.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="ef290-136">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ef290-136">See also</span></span>

- [<span data-ttu-id="ef290-137">C # 程式設計指南</span><span class="sxs-lookup"><span data-stu-id="ef290-137">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="ef290-138">泛型</span><span class="sxs-lookup"><span data-stu-id="ef290-138">Generics</span></span>](./index.md)
- [<span data-ttu-id="ef290-139">反映和泛用類型</span><span class="sxs-lookup"><span data-stu-id="ef290-139">Reflection and Generic Types</span></span>](../../../framework/reflection-and-codedom/reflection-and-generic-types.md)
- [<span data-ttu-id="ef290-140">泛型</span><span class="sxs-lookup"><span data-stu-id="ef290-140">Generics</span></span>](../../../standard/generics/index.md)
