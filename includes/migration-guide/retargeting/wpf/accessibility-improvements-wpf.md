---
ms.openlocfilehash: 47d3829748deef2c7c3610816b8941bf88da7ec6
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/01/2020
ms.locfileid: "85614591"
---
### <a name="accessibility-improvements-in-wpf"></a><span data-ttu-id="5796e-101">WPF 的協助工具改善</span><span class="sxs-lookup"><span data-stu-id="5796e-101">Accessibility improvements in WPF</span></span>

#### <a name="details"></a><span data-ttu-id="5796e-102">詳細資料</span><span class="sxs-lookup"><span data-stu-id="5796e-102">Details</span></span>

<span data-ttu-id="5796e-103">**高對比改善**</span><span class="sxs-lookup"><span data-stu-id="5796e-103">**High Contrast improvements**</span></span>
<ul><li><span data-ttu-id="5796e-104">現在會顯示 <xref:System.Windows.Controls.Expander> 控制項的焦點。</span><span class="sxs-lookup"><span data-stu-id="5796e-104">The focus for the <xref:System.Windows.Controls.Expander> control is now visible.</span></span> <span data-ttu-id="5796e-105">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-105">In previous versions of the .NET Framework, it was not.</span></span>
<span data-ttu-id="5796e-106">-和中的文字會在 <xref:System.Windows.Controls.CheckBox> <xref:System.Windows.Controls.RadioButton> 選取時進行控制，現在比先前的 .NET Framework 版本更容易看到。</span><span class="sxs-lookup"><span data-stu-id="5796e-106">- The text in <xref:System.Windows.Controls.CheckBox> and <xref:System.Windows.Controls.RadioButton> controls when they are selected is now easier to see than in previous .NET Framework versions.</span></span>
<span data-ttu-id="5796e-107">-已停用的框線 <xref:System.Windows.Controls.ComboBox> 現在與已停用文字的色彩相同。</span><span class="sxs-lookup"><span data-stu-id="5796e-107">- The border of a disabled <xref:System.Windows.Controls.ComboBox> is now the same color as the disabled text.</span></span> <span data-ttu-id="5796e-108">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-108">In previous versions of the .NET Framework, it was not.</span></span>
<span data-ttu-id="5796e-109">-[已停用] 和 [焦點] 按鈕現在會使用正確的主題色彩。</span><span class="sxs-lookup"><span data-stu-id="5796e-109">- Disabled and focused buttons now use the correct theme color.</span></span> <span data-ttu-id="5796e-110">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-110">In previous versions of the .NET Framework, they did not.</span></span>
<span data-ttu-id="5796e-111">-當 <xref:System.Windows.Controls.ComboBox> 控制項的樣式設定為時，現在會顯示下拉式按鈕 <xref:System.Windows.Controls.ToolBar.ComboBoxStyleKey?displayProperty=nameWithType> ，在舊版的 .NET Framework 中則不會。</span><span class="sxs-lookup"><span data-stu-id="5796e-111">- The dropdown button is now visible when a <xref:System.Windows.Controls.ComboBox> control's style is set to <xref:System.Windows.Controls.ToolBar.ComboBoxStyleKey?displayProperty=nameWithType>, In previous versions of the .NET Framework, it was not.</span></span>
<span data-ttu-id="5796e-112">-控制項中的排序指標箭號 <xref:System.Windows.Controls.DataGrid> 現在會使用主題色彩。</span><span class="sxs-lookup"><span data-stu-id="5796e-112">- The sort indicator arrow in a <xref:System.Windows.Controls.DataGrid> control now uses theme colors.</span></span> <span data-ttu-id="5796e-113">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-113">In previous versions of the .NET Framework, it did not.</span></span>
<span data-ttu-id="5796e-114">-預設的超連結樣式現在會在滑鼠停留時變更為正確的主題色彩。</span><span class="sxs-lookup"><span data-stu-id="5796e-114">- The default hyperlink style now changes to the correct theme color on mouse over.</span></span> <span data-ttu-id="5796e-115">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-115">In previous versions of the .NET Framework, it did not.</span></span>
<span data-ttu-id="5796e-116">-現在可以看到鍵盤焦點在選項按鈕上。</span><span class="sxs-lookup"><span data-stu-id="5796e-116">- The Keyboard focus on radio buttons is now visible.</span></span> <span data-ttu-id="5796e-117">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-117">In previous versions of the .NET Framework, it was not.</span></span>
<span data-ttu-id="5796e-118">-<xref:System.Windows.Controls.DataGrid>控制項的 checkbox 資料行現在會使用鍵盤焦點回饋的預期色彩。</span><span class="sxs-lookup"><span data-stu-id="5796e-118">- The <xref:System.Windows.Controls.DataGrid> control's checkbox column now uses the expected colors for keyboard focus feedback.</span></span> <span data-ttu-id="5796e-119">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-119">In previous versions of the .NET Framework, it did not.</span></span>
<span data-ttu-id="5796e-120">-鍵盤焦點視覺效果現在會顯示在 <xref:System.Windows.Controls.ComboBox> 和 <xref:System.Windows.Controls.ListBox> 控制項上。</span><span class="sxs-lookup"><span data-stu-id="5796e-120">- the Keyboard focus visuals are now visible on <xref:System.Windows.Controls.ComboBox> and <xref:System.Windows.Controls.ListBox> controls.</span></span> <span data-ttu-id="5796e-121">在舊版 .NET Framework 中並非如此。</span><span class="sxs-lookup"><span data-stu-id="5796e-121">In previous versions of the .NET Framework, it was not.</span></span></p><span data-ttu-id="5796e-122">
\*\*螢幕閱讀程式互動改善**
</span><span class="sxs-lookup"><span data-stu-id="5796e-122">
\*\*Screen reader interaction improvements**
</span></span><ul><li><span data-ttu-id="5796e-123">螢幕助讀程式現在會將 <xref:System.Windows.Controls.Expander> 控制項正確宣告為群組 (展開/摺疊)。</span><span class="sxs-lookup"><span data-stu-id="5796e-123"><xref:System.Windows.Controls.Expander> controls are now correctly announced as groups (expand/collapse) by screen readers.</span></span>
<span data-ttu-id="5796e-124">螢幕助讀程式現在會將 - <xref:System.Windows.Controls.DataGridCell> 控制項正確宣告為資料儲存格 (展開/摺疊)。</span><span class="sxs-lookup"><span data-stu-id="5796e-124">- <xref:System.Windows.Controls.DataGridCell> controls are now correctly announced as data grid cell (localized) by screen readers.</span></span>
<span data-ttu-id="5796e-125">-螢幕閱讀程式現在會宣告可編輯的名稱 <xref:System.Windows.Controls.ComboBox> 。</span><span class="sxs-lookup"><span data-stu-id="5796e-125">- Screen readers will now announce the name of an editable <xref:System.Windows.Controls.ComboBox>.</span></span>
<span data-ttu-id="5796e-126">螢幕助讀程式不會再將 - <xref:System.Windows.Controls.PasswordBox> 控制項宣告為「檢視中無任何項目」。</span><span class="sxs-lookup"><span data-stu-id="5796e-126">- <xref:System.Windows.Controls.PasswordBox> controls are no longer announced as &quot;no item in view&quot; by screen readers.</span></span></p><span data-ttu-id="5796e-127">
\*\*LiveRegion 支援\*\*[朗讀程式] 之類的螢幕讀取器可協助人們知道應用程式的 UI 內容，通常是透過描述目前焦點所在 UI 的相關專案，因為這可能是使用者最感關注的元素。</span><span class="sxs-lookup"><span data-stu-id="5796e-127">
\*\*LiveRegion support*\* Screen readers such as Narrator help people know the UI contents of an application, usually by describing something about the UI that's currently focused, because that is probably the element of most interest to the user.</span></span> <span data-ttu-id="5796e-128">不過，如果螢幕某處的 UI 項目變更，而且沒有焦點，則使用者可能不會收到通知，並且可能會遺失重要資訊。</span><span class="sxs-lookup"><span data-stu-id="5796e-128">However, if a UI element changes somewhere in the screen and it does not have the focus, the user may not be informed and miss important information.</span></span> <span data-ttu-id="5796e-129">LiveRegions 旨在用來解決這個問題。</span><span class="sxs-lookup"><span data-stu-id="5796e-129">LiveRegions are meant to solve this problem.</span></span> <span data-ttu-id="5796e-130">開發人員可以使用它們來通知螢幕助讀程式或任何其他 [UI 自動化](~/docs/framework/ui-automation/ui-automation-overview.md)用戶端，已對 UI 項目進行重要變更。</span><span class="sxs-lookup"><span data-stu-id="5796e-130">A developer can use them to inform the screen reader or any other [UI Automation](~/docs/framework/ui-automation/ui-automation-overview.md) client that an important change has been made to a UI element.</span></span> <span data-ttu-id="5796e-131">螢幕助讀程式接著可以決定如何和何時通知使用者已進行這項變更。</span><span class="sxs-lookup"><span data-stu-id="5796e-131">The screen reader can then decide how and when to inform the user of this change.</span></span> <span data-ttu-id="5796e-132">LiveSetting 屬性還可讓螢幕助讀程式知道通知使用者 UI 所做變更的重要性。</span><span class="sxs-lookup"><span data-stu-id="5796e-132">The LiveSetting property also lets the screen reader know how important it is to inform the user of the change made to the UI.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="5796e-133">建議</span><span class="sxs-lookup"><span data-stu-id="5796e-133">Suggestion</span></span>

<span data-ttu-id="5796e-134">**如何加入宣告或退出這些變更**為了讓應用程式受益于這些變更，它必須在 .NET Framework 4.7.1 或更新版本上執行。</span><span class="sxs-lookup"><span data-stu-id="5796e-134">**How to opt in or out of these changes** In order for the application to benefit from these changes, it must run on the .NET Framework 4.7.1 or later.</span></span> <span data-ttu-id="5796e-135">應用程式可以用下列任一種方式受益於這些變更：</span><span class="sxs-lookup"><span data-stu-id="5796e-135">The application can benefit from these changes in either of the following ways:</span></span>

- <span data-ttu-id="5796e-136">以 .NET Framework 4.7.1 為目標。</span><span class="sxs-lookup"><span data-stu-id="5796e-136">Target the .NET Framework 4.7.1.</span></span> <span data-ttu-id="5796e-137">這是建議的方法。</span><span class="sxs-lookup"><span data-stu-id="5796e-137">This is the recommended approach.</span></span> <span data-ttu-id="5796e-138">在以 .NET Framework 4.7.1 或更新版本為目標的 WPF 應用程式上，預設會啟用這些協助工具變更。</span><span class="sxs-lookup"><span data-stu-id="5796e-138">These accessibility changes are enabled by default on WPF applications that target the .NET Framework 4.7.1 or later.</span></span>
- <span data-ttu-id="5796e-139">藉由在 app config 檔案的 `<runtime>` 區段中新增下列 [AppContext 參數](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md)，並將它設定為 `false`，選擇退出舊版協助工具行為，如下列範例所示。</span><span class="sxs-lookup"><span data-stu-id="5796e-139">It opts out of the legacy accessibility behaviors by adding the following [AppContext Switch](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) in the `<runtime>` section of the app config file and setting it to `false`, as the following example shows.</span></span>

<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>

<span data-ttu-id="5796e-140">以 .NET Framework 4.7.1 或更新版本為目標，並且想要保留舊版協助工具行為的應用程式，可以藉由明確將此 AppContext 參數設為 `true`，選擇加入舊版的協助工具功能。</span><span class="sxs-lookup"><span data-stu-id="5796e-140">Applications that target the .NET Framework 4.7.1 or later and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to `true`.</span></span>
<span data-ttu-id="5796e-141">如需 UI 自動化的概觀，請參閱 [UI 自動化概觀](~/docs/framework/ui-automation/ui-automation-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="5796e-141">For an overview of UI automation, see the [UI Automation Overview](~/docs/framework/ui-automation/ui-automation-overview.md).</span></span>

| <span data-ttu-id="5796e-142">名稱</span><span class="sxs-lookup"><span data-stu-id="5796e-142">Name</span></span>    | <span data-ttu-id="5796e-143">值</span><span class="sxs-lookup"><span data-stu-id="5796e-143">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="5796e-144">影響範圍</span><span class="sxs-lookup"><span data-stu-id="5796e-144">Scope</span></span>   | <span data-ttu-id="5796e-145">主要</span><span class="sxs-lookup"><span data-stu-id="5796e-145">Major</span></span>       |
| <span data-ttu-id="5796e-146">版本</span><span class="sxs-lookup"><span data-stu-id="5796e-146">Version</span></span> | <span data-ttu-id="5796e-147">4.7.1</span><span class="sxs-lookup"><span data-stu-id="5796e-147">4.7.1</span></span>       |
| <span data-ttu-id="5796e-148">類型</span><span class="sxs-lookup"><span data-stu-id="5796e-148">Type</span></span>    | <span data-ttu-id="5796e-149">正在重定目標</span><span class="sxs-lookup"><span data-stu-id="5796e-149">Retargeting</span></span> |

#### <a name="affected-apis"></a><span data-ttu-id="5796e-150">受影響的 API</span><span class="sxs-lookup"><span data-stu-id="5796e-150">Affected APIs</span></span>

- <xref:System.Windows.Automation.AutomationElementIdentifiers.LiveSettingProperty?displayProperty=nameWithType>
- <xref:System.Windows.Automation.AutomationElementIdentifiers.LiveRegionChangedEvent?displayProperty=nameWithType>
- <xref:System.Windows.Automation.AutomationLiveSetting?displayProperty=nameWithType>
- <xref:System.Windows.Automation.AutomationProperties.LiveSettingProperty?displayProperty=nameWithType>
- <xref:System.Windows.Automation.AutomationProperties.SetLiveSetting(System.Windows.DependencyObject,System.Windows.Automation.AutomationLiveSetting)?displayProperty=nameWithType>
- <xref:System.Windows.Automation.AutomationProperties.GetLiveSetting(System.Windows.DependencyObject)?displayProperty=nameWithType>
- <xref:System.Windows.Automation.Peers.AutomationPeer.GetLiveSettingCore?displayProperty=nameWithType>
